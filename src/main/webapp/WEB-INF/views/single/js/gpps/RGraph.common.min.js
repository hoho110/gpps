if(typeof(RGraph)=='undefined')RGraph={isRGraph:true,type:'common'};RGraph.Highlight={};RGraph.Registry={};RGraph.Registry.store=[];RGraph.Registry.store['chart.event.handlers']=[];RGraph.Registry.store['__rgraph_event_listeners__']=[];RGraph.background={};RGraph.objects=[];RGraph.Resizing={};RGraph.events=[];RGraph.cursor=[];RGraph.ObjectRegistry={};RGraph.ObjectRegistry.objects={};RGraph.ObjectRegistry.objects.byUID=[];RGraph.ObjectRegistry.objects.byCanvasID=[];PI=Math.PI;HALFPI=PI/2;TWOPI=PI*2;ISFF=navigator.userAgent.indexOf('Firefox')!=-1;ISOPERA=navigator.userAgent.indexOf('Opera')!=-1;ISCHROME=navigator.userAgent.indexOf('Chrome')!=-1;ISSAFARI=navigator.userAgent.indexOf('Safari')!=-1&&!ISCHROME;ISWEBKIT=navigator.userAgent.indexOf('WebKit')!=-1;RGraph.getScale=function(max,obj)
{if(max==0){return['0.2','0.4','0.6','0.8','1.0'];}
    var original_max=max;if(max<=1){if(max>0.5){return[0.2,0.4,0.6,0.8,Number(1).toFixed(1)];}else if(max>=0.1){return obj.Get('chart.scale.round')?[0.2,0.4,0.6,0.8,1]:[0.1,0.2,0.3,0.4,0.5];}else{var tmp=max;var exp=0;while(tmp<1.01){exp+=1;tmp*=10;}
    var ret=['2e-'+exp,'4e-'+exp,'6e-'+exp,'8e-'+exp,'10e-'+exp];if(max<=('5e-'+exp)){ret=['1e-'+exp,'2e-'+exp,'3e-'+exp,'4e-'+exp,'5e-'+exp];}
    return ret;}}
    if(String(max).indexOf('.')>0){max=String(max).replace(/\.\d+$/,'');}
    var interval=Math.pow(10,Number(String(Number(max)).length-1));var topValue=interval;while(topValue<max){topValue+=(interval/2);}
    if(Number(original_max)>Number(topValue)){topValue+=(interval/2);}
    if(max<10){topValue=(Number(original_max)<=5?5:10);}
    if(obj&&typeof(obj.Get('chart.scale.round'))=='boolean'&&obj.Get('chart.scale.round')){topValue=10*interval;}
    return[topValue*0.2,topValue*0.4,topValue*0.6,topValue*0.8,topValue];}
RGraph.getScale2=function(obj,opt)
{var RG=RGraph;var ca=obj.canvas;var co=obj.context;var prop=obj.properties;var numlabels=typeof(opt['ylabels.count'])=='number'?opt['ylabels.count']:5;var units_pre=typeof(opt['units.pre'])=='string'?opt['units.pre']:'';var units_post=typeof(opt['units.post'])=='string'?opt['units.post']:'';var max=Number(opt['max']);var min=typeof(opt['min'])=='number'?opt['min']:0;var strict=opt['strict'];var decimals=Number(opt['scale.decimals']);var point=opt['scale.point'];var thousand=opt['scale.thousand'];var original_max=max;var round=opt['scale.round'];var scale={'max':1,'labels':[]};if(!max){var max=1;var scale={max:1,min:0,labels:[]};for(var i=0;i<numlabels;++i){var label=((((max-min)/numlabels)+min)*(i+1)).toFixed(decimals);scale.labels.push(units_pre+label+units_post);}}else if(max<=1&&!strict){if(max>0.5){max=1;min=min;scale.min=min;for(var i=0;i<numlabels;++i){var label=((((max-min)/numlabels)*(i+1))+min).toFixed(decimals);scale.labels.push(units_pre+label+units_post);}}else if(max>=0.1){max=0.5;min=min;scale={'max':0.5,'min':min,'labels':[]}
    for(var i=0;i<numlabels;++i){var label=((((max-min)/numlabels)+min)*(i+1)).toFixed(decimals);scale.labels.push(units_pre+label+units_post);}}else{scale={'min':min,'labels':[]}
    var max_str=String(max);if(max_str.indexOf('e')>0){var numdecimals=Math.abs(max_str.substring(max_str.indexOf('e')+1));}else{var numdecimals=String(max).length-2;}
    var max=1/Math.pow(10,numdecimals-1);for(var i=0;i<numlabels;++i){var label=((((max-min)/numlabels)+min)*(i+1));label=label.toExponential();label=label.split(/e/);label[0]=Math.round(label[0]);label=label.join('e');scale.labels.push(label);}
    tmp=scale.labels[scale.labels.length-1].split(/e/);tmp[0]+=0;tmp[1]=Number(tmp[1])-1;tmp=tmp[0]+'e'+tmp[1];scale.labels[scale.labels.length-1]=tmp;for(var i=0;i<scale.labels.length;++i){scale.labels[i]=units_pre+scale.labels[i]+units_post;}
    scale.max=Number(max);}}else if(!strict){max=Math.ceil(max);var interval=Math.pow(10,Math.max(1,Number(String(Number(max)-Number(min)).length-1)));var topValue=interval;while(topValue<max){topValue+=(interval/2);}
    if(Number(original_max)>Number(topValue)){topValue+=(interval/2);}
    if(max<=10){topValue=(Number(original_max)<=5?5:10);}
    if(obj&&typeof(round)=='boolean'&&round){topValue=10*interval;}
    scale.max=topValue;var tmp_point=prop['chart.scale.point'];var tmp_thousand=prop['chart.scale.thousand'];obj.Set('chart.scale.thousand',thousand);obj.Set('chart.scale.point',point);for(var i=0;i<numlabels;++i){scale.labels.push(RG.number_format(obj,((((i+1)/numlabels)*(topValue-min))+min).toFixed(decimals),units_pre,units_post));}
    obj.Set('chart.scale.thousand',tmp_thousand);obj.Set('chart.scale.point',tmp_point);}else if(typeof(max)=='number'&&strict){for(var i=0;i<numlabels;++i){scale.labels.push(RG.number_format(obj,((((i+1)/numlabels)*(max-min))+min).toFixed(decimals),units_pre,units_post));}
    scale.max=max;}
    scale.units_pre=units_pre;scale.units_post=units_post;scale.point=point;scale.decimals=decimals;scale.thousand=thousand;scale.numlabels=numlabels;scale.round=Boolean(round);scale.min=min;return scale;}
RGraph.array_max=function(arr)
{var max=null;var MathLocal=Math;if(typeof(arr)=='number'){return arr;}
    if(RGraph.is_null(arr)){return 0;}
    for(var i=0,len=arr.length;i<len;++i){if(typeof(arr[i])=='number'){var val=arguments[1]?MathLocal.abs(arr[i]):arr[i];if(typeof max=='number'){max=MathLocal.max(max,val);}else{max=val;}}}
    return max;}
RGraph.array_pad=function(arr,len)
{if(arr.length<len){var val=arguments[2]?arguments[2]:null;for(var i=arr.length;i<len;i+=1){arr[i]=val;}}
    return arr;}
RGraph.array_sum=function(arr)
{if(typeof(arr)=='number'){return arr;}
    if(RGraph.is_null(arr)){return 0;}
    var i,sum;var len=arr.length;for(i=0,sum=0;i<len;sum+=arr[i++]);return sum;}
RGraph.array_linearize=function()
{var arr=[];var args=arguments;var RG=RGraph;for(var i=0,len=args.length;i<len;++i){if(typeof(args[i])=='object'&&args[i]){for(var j=0;j<args[i].length;++j){var sub=RG.array_linearize(args[i][j]);for(var k=0;k<sub.length;++k){arr.push(sub[k]);}}}else{arr.push(args[i]);}}
    return arr;}
RGraph.Text=function(context,font,size,x,y,text)
{var args=arguments;if((typeof(text)!='string'&&typeof(text)!='number')||text=='undefined'){return;}
    if(typeof(text)=='string'&&text.match(/\r\n/)){var dimensions=RGraph.MeasureText('M',args[11],font,size);var arr=text.split('\r\n');if(args[6]&&args[6]=='center')y=(y-(dimensions[1]*((arr.length-1)/2)));for(var i=1;i<arr.length;++i){RGraph.Text(context,font,size,args[9]==-90?(x+(size*1.5)):x,y+(dimensions[1]*i),arr[i],args[6]?args[6]:null,args[7],args[8],args[9],args[10],args[11],args[12]);}
        text=arr[0];}
    if(document.all&&ISOLD){y+=2;}
    context.font=(args[11]?'Bold ':'')+size+'pt '+font;var i;var origX=x;var origY=y;var originalFillStyle=context.fillStyle;var originalLineWidth=context.lineWidth;if(typeof(args[6])=='undefined')args[6]='bottom';if(typeof(args[7])=='undefined')args[7]='left';if(typeof(args[8])=='undefined')args[8]=null;if(typeof(args[9])=='undefined')args[9]=0;if(navigator.userAgent.indexOf('Opera')!=-1){context.canvas.__rgraph_valign__=args[6];context.canvas.__rgraph_halign__=args[7];}
    context.save();context.canvas.__rgraph_originalx__=x;context.canvas.__rgraph_originaly__=y;context.translate(x,y);x=0;y=0;if(args[9]){context.rotate(args[9]/(180/PI));}
    if(args[6]){var vAlign=args[6];if(vAlign=='center'){context.textBaseline='middle';}else if(vAlign=='top'){context.textBaseline='top';}}
    if(args[7]){var hAlign=args[7];var width=context.measureText(text).width;if(hAlign){if(hAlign=='center'){context.textAlign='center';}else if(hAlign=='right'){context.textAlign='right';}}}
    context.fillStyle=originalFillStyle;context.save();context.fillText(text,0,0);context.lineWidth=1;var width=context.measureText(text).width;var width_offset=(hAlign=='center'?(width/2):(hAlign=='right'?width:0));var height=size*1.5;var height_offset=(vAlign=='center'?(height/2):(vAlign=='top'?height:0));var ieOffset=ISOLD?2:0;if(args[8]){context.strokeRect(-3-width_offset,0-3-height-ieOffset+height_offset,width+6,height+6);if(args[10]){context.fillStyle=args[10];context.fillRect(-3-width_offset,0-3-height-ieOffset+height_offset,width+6,height+6);}
    context.fillStyle=originalFillStyle;context.fillText(text,0,0);}
    context.restore();context.lineWidth=originalLineWidth;context.restore();}
RGraph.Clear=function(ca)
{var RG=RGraph;var co=ca.getContext('2d');var color=arguments[1];if(!ca){return;}
    RG.FireCustomEvent(ca.__object__,'onbeforeclear');if(ISIE8&&!color){color='white';}
    if(!color||(color&&color=='rgba(0,0,0,0)'||color=='transparent')){co.clearRect(0,0,ca.width,ca.height);co.globalCompositeOperation='source-over';}else{co.fillStyle=color;co.beginPath();if(ISIE8){co.fillRect(0,0,ca.width,ca.height);}else{co.fillRect(-10,-10,ca.width+20,ca.height+20);}
        co.fill();}
    if(RG.Registry.Get('chart.background.image.'+ca.id)){var img=RG.Registry.Get('chart.background.image.'+ca.id);img.style.position='absolute';img.style.left='-10000px';img.style.top='-10000px';}
    if(RG.Registry.Get('chart.tooltip')){RG.HideTooltip(ca);}
    ca.style.cursor='default';RG.FireCustomEvent(ca.__object__,'onclear');}
RGraph.DrawTitle=function(obj,text,gutterTop)
{var RG=RGraph;var ca=canvas=obj.canvas;var co=context=obj.context;var prop=obj.properties;var gutterLeft=prop['chart.gutter.left'];var gutterRight=prop['chart.gutter.right'];var gutterTop=gutterTop;var gutterBottom=prop['chart.gutter.bottom'];var size=arguments[4]?arguments[4]:12;var bold=prop['chart.title.bold'];var centerx=(arguments[3]?arguments[3]:((ca.width-gutterLeft-gutterRight)/2)+gutterLeft);var keypos=prop['chart.key.position'];var vpos=prop['chart.title.vpos'];var hpos=prop['chart.title.hpos'];var bgcolor=prop['chart.title.background'];var x=prop['chart.title.x'];var y=prop['chart.title.y'];var halign='center';var valign='center';if(obj.type=='bar'&&prop['chart.variant']=='3d'){keypos='gutter';}
    co.beginPath();co.fillStyle=prop['chart.text.color']?prop['chart.text.color']:'black';if(keypos&&keypos!='gutter'){var valign='center';}else if(!keypos){var valign='center';}else{var valign='bottom';}
    if(typeof(prop['chart.title.vpos'])=='number'){vpos=prop['chart.title.vpos']*gutterTop;if(prop['chart.xaxispos']=='top'){vpos=prop['chart.title.vpos']*gutterBottom+gutterTop+(ca.height-gutterTop-gutterBottom);}}else{vpos=gutterTop-size-5;if(prop['chart.xaxispos']=='top'){vpos=ca.height-gutterBottom+size+5;}}
    if(typeof(hpos)=='number'){centerx=hpos*ca.width;}
    if(typeof(x)=='number')centerx=x;if(typeof(y)=='number')vpos=y;if(typeof(prop['chart.title.halign'])=='string'){halign=prop['chart.title.halign'];}
    if(typeof(prop['chart.title.valign'])=='string'){valign=prop['chart.title.valign'];}
    if(typeof(prop['chart.title.color']!=null)){var oldColor=co.fillStyle
        var newColor=prop['chart.title.color']
        co.fillStyle=newColor?newColor:'black';}
    var font=prop['chart.text.font'];if(typeof(prop['chart.title.font'])=='string'){font=prop['chart.title.font'];}
    RG.Text2(obj,{'font':font,'size':size,'x':centerx,'y':vpos,'text':text,'valign':valign,'halign':halign,'bounding':bgcolor!=null,'bounding.fill':bgcolor,'bold':bold,'tag':'title'});co.fillStyle=oldColor;}
RGraph.getMouseXY=function(e)
{var el=e.target;var ca=el;var caStyle=ca.style;var offsetX=0;var offsetY=0;var x;var y;var ISFIXED=(ca.style.position=='fixed');var borderLeft=parseInt(caStyle.borderLeftWidth)||0;var borderTop=parseInt(caStyle.borderTopWidth)||0;var paddingLeft=parseInt(caStyle.paddingLeft)||0
    var paddingTop=parseInt(caStyle.paddingTop)||0
    var additionalX=borderLeft+paddingLeft;var additionalY=borderTop+paddingTop;if(typeof(e.offsetX)=='number'&&typeof(e.offsetY)=='number'){if(ISFIXED){if(ISOPERA){x=e.offsetX;y=e.offsetY;}else if(ISWEBKIT){x=e.offsetX-paddingLeft-borderLeft;y=e.offsetY-paddingTop-borderTop;}else if(ISIE){x=e.offsetX-paddingLeft;y=e.offsetY-paddingTop;}else{x=e.offsetX;y=e.offsetY;}}else{if(!ISIE&&!ISOPERA){x=e.offsetX-borderLeft-paddingLeft;y=e.offsetY-borderTop-paddingTop;}else if(ISIE){x=e.offsetX-paddingLeft;y=e.offsetY-paddingTop;}else{x=e.offsetX;y=e.offsetY;}}}else{if(typeof(el.offsetParent)!='undefined'){do{offsetX+=el.offsetLeft;offsetY+=el.offsetTop;}while((el=el.offsetParent));}
    x=e.pageX-offsetX-additionalX;y=e.pageY-offsetY-additionalY;x-=(2*(parseInt(document.body.style.borderLeftWidth)||0));y-=(2*(parseInt(document.body.style.borderTopWidth)||0));}
    return[x,y];}
RGraph.getCanvasXY=function(canvas)
{var x=0;var y=0;var el=canvas;do{x+=el.offsetLeft;y+=el.offsetTop;if(el.tagName.toLowerCase()=='table'&&(ISCHROME||ISSAFARI)){x+=parseInt(el.border)||0;y+=parseInt(el.border)||0;}
    el=el.offsetParent;}while(el&&el.tagName.toLowerCase()!='body');var paddingLeft=canvas.style.paddingLeft?parseInt(canvas.style.paddingLeft):0;var paddingTop=canvas.style.paddingTop?parseInt(canvas.style.paddingTop):0;var borderLeft=canvas.style.borderLeftWidth?parseInt(canvas.style.borderLeftWidth):0;var borderTop=canvas.style.borderTopWidth?parseInt(canvas.style.borderTopWidth):0;if(navigator.userAgent.indexOf('Firefox')>0){x+=parseInt(document.body.style.borderLeftWidth)||0;y+=parseInt(document.body.style.borderTopWidth)||0;}
    return[x+paddingLeft+borderLeft,y+paddingTop+borderTop];}
RGraph.isFixed=function(canvas)
{var obj=canvas;var i=0;while(obj&&obj.tagName.toLowerCase()!='body'&&i<99){if(obj.style.position=='fixed'){return obj;}
    obj=obj.offsetParent;}
    return false;}
RGraph.Register=function(obj)
{if(!obj.Get('chart.noregister')){RGraph.ObjectRegistry.Add(obj);obj.Set('chart.noregister',true);}}
RGraph.Redraw=function()
{var objectRegistry=RGraph.ObjectRegistry.objects.byCanvasID;var tags=document.getElementsByTagName('canvas');for(var i=0,len=tags.length;i<len;++i){if(tags[i].__object__&&tags[i].__object__.isRGraph){if(!tags[i].noclear){RGraph.Clear(tags[i],arguments[0]?arguments[0]:null);}}}
    for(var i=0,len=objectRegistry.length;i<len;++i){if(objectRegistry[i]){var id=objectRegistry[i][0];objectRegistry[i][1].Draw();}}}
RGraph.RedrawCanvas=function(canvas)
{var objects=RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id);if(!arguments[1]||(typeof(arguments[1])=='boolean'&&!arguments[1]==false)){RGraph.Clear(canvas);}
    for(var i=0,len=objects.length;i<len;++i){if(objects[i]){if(objects[i]&&objects[i].isRGraph){objects[i].Draw();}}}}
RGraph.background.Draw=function(obj)
{var RG=RGraph;var ca=canvas=obj.canvas;var co=context=obj.context;var prop=obj.properties;var height=0;var gutterLeft=obj.gutterLeft;var gutterRight=obj.gutterRight;var gutterTop=obj.gutterTop;var gutterBottom=obj.gutterBottom;var variant=prop['chart.variant'];co.fillStyle=prop['chart.text.color'];if(variant=='3d'){co.save();co.translate(10,-5);}
    if(typeof(prop['chart.title.xaxis'])=='string'&&prop['chart.title.xaxis'].length){var size=prop['chart.text.size']+2;var font=prop['chart.text.font'];var bold=prop['chart.title.xaxis.bold'];if(typeof(prop['chart.title.xaxis.size'])=='number'){size=prop['chart.title.xaxis.size'];}
        if(typeof(prop['chart.title.xaxis.font'])=='string'){font=prop['chart.title.xaxis.font'];}
        var hpos=((ca.width-gutterLeft-gutterRight)/2)+gutterLeft;var vpos=ca.height-gutterBottom+25;if(typeof(prop['chart.title.xaxis.pos'])=='number'){vpos=ca.height-(gutterBottom*prop['chart.title.xaxis.pos']);}
        RG.Text2(obj,{'font':font,'size':size,'x':hpos,'y':vpos,'text':prop['chart.title.xaxis'],'halign':'center','valign':'center','bold':bold,'tag':'title xaxis'});}
    if(typeof(prop['chart.title.yaxis'])=='string'&&prop['chart.title.yaxis'].length){var size=prop['chart.text.size']+2;var font=prop['chart.text.font'];var angle=270;var bold=prop['chart.title.yaxis.bold'];var color=prop['chart.title.yaxis.color'];if(typeof(prop['chart.title.yaxis.pos'])=='number'){var yaxis_title_pos=prop['chart.title.yaxis.pos']*gutterLeft;}else{var yaxis_title_pos=((gutterLeft-25)/gutterLeft)*gutterLeft;}
        if(typeof(prop['chart.title.yaxis.size'])=='number'){size=prop['chart.title.yaxis.size'];}
        if(typeof(prop['chart.title.yaxis.font'])=='string'){font=prop['chart.title.yaxis.font'];}
        if(prop['chart.title.yaxis.align']=='right'||prop['chart.title.yaxis.position']=='right'){angle=90;yaxis_title_pos=prop['chart.title.yaxis.pos']?(ca.width-gutterRight)+(prop['chart.title.yaxis.pos']*gutterRight):ca.width-gutterRight+prop['chart.text.size']+5;}else{yaxis_title_pos=yaxis_title_pos;}
        co.fillStyle=color;RG.Text2(obj,{'font':font,'size':size,'x':yaxis_title_pos,'y':((ca.height-gutterTop-gutterBottom)/2)+gutterTop,'valign':'center','halign':'center','angle':angle,'bold':bold,'text':prop['chart.title.yaxis'],'tag':'title yaxis'});}
    var bgcolor=prop['chart.background.color'];if(bgcolor){co.fillStyle=bgcolor;co.fillRect(gutterLeft,gutterTop,ca.width-gutterLeft-gutterRight,ca.height-gutterTop-gutterBottom);}
    co.beginPath();co.fillStyle=prop['chart.background.barcolor1'];co.strokeStyle=co.fillStyle;height=(ca.height-gutterBottom);for(var i=gutterTop;i<height;i+=80){co.fillRect(gutterLeft,i,ca.width-gutterLeft-gutterRight,Math.min(40,ca.height-gutterBottom-i));}
    co.fillStyle=prop['chart.background.barcolor2'];co.strokeStyle=co.fillStyle;height=(ca.height-gutterBottom);for(var i=(40+gutterTop);i<height;i+=80){co.fillRect(gutterLeft,i,ca.width-gutterLeft-gutterRight,i+40>(ca.height-gutterBottom)?ca.height-(gutterBottom+i):40);}
    co.beginPath();if(prop['chart.background.grid']){if(prop['chart.background.grid.autofit']){if(prop['chart.background.grid.autofit.align']){obj.Set('chart.background.grid.autofit.numhlines',prop['chart.ylabels.count']);if(obj.type=='line'){if(prop['chart.labels']&&prop['chart.labels'].length){obj.Set('chart.background.grid.autofit.numvlines',prop['chart.labels'].length-1);}else{obj.Set('chart.background.grid.autofit.numvlines',obj.data[0].length-1);}}else if(obj.type=='bar'&&prop['chart.labels']&&prop['chart.labels'].length){obj.Set('chart.background.grid.autofit.numvlines',prop['chart.labels'].length);}}
    var vsize=((ca.width-gutterLeft-gutterRight))/prop['chart.background.grid.autofit.numvlines'];var hsize=(ca.height-gutterTop-gutterBottom)/prop['chart.background.grid.autofit.numhlines'];obj.Set('chart.background.grid.vsize',vsize);obj.Set('chart.background.grid.hsize',hsize);}
    co.beginPath();co.lineWidth=prop['chart.background.grid.width']?prop['chart.background.grid.width']:1;co.strokeStyle=prop['chart.background.grid.color'];if(prop['chart.background.grid.dashed']&&typeof co.setLineDash=='function'){co.setLineDash([3,2]);}
    if(prop['chart.background.grid.dotted']&&typeof co.setLineDash=='function'){co.setLineDash([1,2]);}
    if(prop['chart.background.grid.hlines']){height=(ca.height-gutterBottom)
        for(y=gutterTop;y<height;y+=prop['chart.background.grid.hsize']){context.moveTo(gutterLeft,Math.round(y));context.lineTo(ca.width-gutterRight,Math.round(y));}}
    if(prop['chart.background.grid.vlines']){var width=(ca.width-gutterRight)
        for(x=gutterLeft;x<=width;x+=prop['chart.background.grid.vsize']){co.moveTo(Math.round(x),gutterTop);co.lineTo(Math.round(x),ca.height-gutterBottom);}}
    if(prop['chart.background.grid.border']){co.strokeStyle=prop['chart.background.grid.color'];co.strokeRect(Math.round(gutterLeft),Math.round(gutterTop),ca.width-gutterLeft-gutterRight,ca.height-gutterTop-gutterBottom);}}
    context.stroke();if(typeof co.setLineDash=='function'){co.setLineDash([1,0]);}
    if(variant=='3d'){co.restore();}
    if(typeof(prop['chart.title'])=='string'){if(obj.type=='gantt'){gutterTop-=10;}
        RG.DrawTitle(obj,prop['chart.title'],gutterTop,null,prop['chart.title.size']?prop['chart.title.size']:prop['chart.text.size']+2);}
    co.stroke();}
RGraph.array_clone=function(obj)
{var RG=RGraph;if(obj==null||typeof(obj)!='object'){return obj;}
    var temp=[];for(var i=0,len=obj.length;i<len;++i){if(typeof(obj[i])=='number'){temp[i]=(function(arg){return Number(arg);})(obj[i]);}else if(typeof(obj[i])=='string'){temp[i]=(function(arg){return String(arg);})(obj[i]);}else if(typeof(obj[i])=='function'){temp[i]=obj[i];}else{temp[i]=RG.array_clone(obj[i]);}}
    return temp;}
RGraph.number_format=function(obj,num)
{var RG=RGraph;var ca=obj.canvas;var co=obj.context;var prop=obj.properties;var i;var prepend=arguments[2]?String(arguments[2]):'';var append=arguments[3]?String(arguments[3]):'';var output='';var decimal='';var decimal_seperator=typeof(prop['chart.scale.point'])=='string'?prop['chart.scale.point']:'.';var thousand_seperator=typeof(prop['chart.scale.thousand'])=='string'?prop['chart.scale.thousand']:',';RegExp.$1='';var i,j;if(typeof(prop['chart.scale.formatter'])=='function'){return prop['chart.scale.formatter'](obj,num);}
    if(String(num).indexOf('e')>0){return String(prepend+String(num)+append);}
    num=String(num);if(num.indexOf('.')>0){var tmp=num;num=num.replace(/\.(.*)/,'');decimal=tmp.replace(/(.*)\.(.*)/,'$2');}
    var seperator=thousand_seperator;var foundPoint;for(i=(num.length-1),j=0;i>=0;j++,i--){var character=num.charAt(i);if(j%3==0&&j!=0){output+=seperator;}
    output+=character;}
    var rev=output;output='';for(i=(rev.length-1);i>=0;i--){output+=rev.charAt(i);}
    if(output.indexOf('-'+prop['chart.scale.thousand'])==0){output='-'+output.substr(('-'+prop['chart.scale.thousand']).length);}
    if(decimal.length){output=output+decimal_seperator+decimal;decimal='';RegExp.$1='';}
    if(output.charAt(0)=='-'){output=output.replace(/-/,'');prepend='-'+prepend;}
    return prepend+output+append;}
RGraph.DrawBars=function(obj)
{var prop=obj.properties;var co=obj.context;var ca=obj.canvas;var RG=RGraph;var hbars=prop['chart.background.hbars'];if(hbars===null){return;}
    co.beginPath();for(i=0,len=hbars.length;i<len;++i){var start=hbars[i][0];var length=hbars[i][1];var color=hbars[i][2];if(RG.is_null(start))start=obj.scale2.max
    if(start>obj.scale2.max)start=obj.scale2.max;if(RG.is_null(length))length=obj.scale2.max-start;if(start+length>obj.scale2.max)length=obj.scale2.max-start;if(start+length<(-1*obj.scale2.max))length=(-1*obj.scale2.max)-start;if(prop['chart.xaxispos']=='center'&&start==obj.scale2.max&&length<(obj.scale2.max*-2)){length=obj.scale2.max*-2;}
    var x=prop['chart.gutter.left'];var y=obj.getYCoord(start);var w=ca.width-prop['chart.gutter.left']-prop['chart.gutter.right'];var h=obj.getYCoord(start+length)-y;if(ISOPERA!=-1&&prop['chart.xaxispos']=='center'&&h<0){h*=-1;y=y-h;}
    if(prop['chart.xaxispos']=='top'){y=ca.height-y;h*=-1;}
    co.fillStyle=color;co.fillRect(x,y,w,h);}}
RGraph.DrawInGraphLabels=function(obj)
{var RG=RGraph;var ca=obj.canvas;var co=obj.context;var prop=obj.properties;var labels=prop['chart.labels.ingraph'];var labels_processed=[];var fgcolor='black';var bgcolor='white';var direction=1;if(!labels){return;}
    for(var i=0,len=labels.length;i<len;i+=1){if(typeof(labels[i])=='number'){for(var j=0;j<labels[i];++j){labels_processed.push(null);}}else if(typeof(labels[i])=='string'||typeof(labels[i])=='object'){labels_processed.push(labels[i]);}else{labels_processed.push('');}}
    RG.NoShadow(obj);if(labels_processed&&labels_processed.length>0){for(var i=0,len=labels_processed.length;i<len;++i){if(labels_processed[i]){var coords=obj.coords[i];if(coords&&coords.length>0){var x=(obj.type=='bar'?coords[0]+(coords[2]/2):coords[0]);var y=(obj.type=='bar'?coords[1]+(coords[3]/2):coords[1]);var length=typeof(labels_processed[i][4])=='number'?labels_processed[i][4]:25;co.beginPath();co.fillStyle='black';co.strokeStyle='black';if(obj.type=='bar'){if(obj.Get('chart.xaxispos')=='top'){length*=-1;}
    if(prop['chart.variant']=='dot'){co.moveTo(Math.round(x),obj.coords[i][1]-5);co.lineTo(Math.round(x),obj.coords[i][1]-5-length);var text_x=Math.round(x);var text_y=obj.coords[i][1]-5-length;}else if(prop['chart.variant']=='arrow'){co.moveTo(Math.round(x),obj.coords[i][1]-5);co.lineTo(Math.round(x),obj.coords[i][1]-5-length);var text_x=Math.round(x);var text_y=obj.coords[i][1]-5-length;}else{co.arc(Math.round(x),y,2.5,0,6.28,0);co.moveTo(Math.round(x),y);co.lineTo(Math.round(x),y-length);var text_x=Math.round(x);var text_y=y-length;}
    co.stroke();co.fill();}else if(obj.type=='line'){if(typeof(labels_processed[i])=='object'&&typeof(labels_processed[i][3])=='number'&&labels_processed[i][3]==-1){co.moveTo(Math.round(x),y+5);co.lineTo(Math.round(x),y+5+length);co.stroke();co.beginPath();co.moveTo(Math.round(x),y+5);co.lineTo(Math.round(x)-3,y+10);co.lineTo(Math.round(x)+3,y+10);co.closePath();var text_x=x;var text_y=y+5+length;}else{var text_x=x;var text_y=y-5-length;co.moveTo(Math.round(x),y-5);co.lineTo(Math.round(x),y-5-length);co.stroke();co.beginPath();co.moveTo(Math.round(x),y-5);co.lineTo(Math.round(x)-3,y-10);co.lineTo(Math.round(x)+3,y-10);co.closePath();}
    co.fill();}
    co.beginPath();co.fillStyle=(typeof(labels_processed[i])=='object'&&typeof(labels_processed[i][1])=='string')?labels_processed[i][1]:'black';RG.Text2(obj,{'font':prop['chart.text.font'],'size':prop['chart.text.size'],'x':text_x,'y':text_y,'text':(typeof(labels_processed[i])=='object'&&typeof(labels_processed[i][0])=='string')?labels_processed[i][0]:labels_processed[i],'valign':'bottom','halign':'center','bounding':true,'bounding.fill':(typeof(labels_processed[i])=='object'&&typeof(labels_processed[i][2])=='string')?labels_processed[i][2]:'white','tag':'labels ingraph'});co.fill();}}}}}
RGraph.FixEventObject=function(e)
{if(ISOLD){var e=event;e.pageX=(event.clientX+document.body.scrollLeft);e.pageY=(event.clientY+document.body.scrollTop);e.target=event.srcElement;if(!document.body.scrollTop&&document.documentElement.scrollTop){e.pageX+=parseInt(document.documentElement.scrollLeft);e.pageY+=parseInt(document.documentElement.scrollTop);}}
    if(!e.stopPropagation){e.stopPropagation=function(){window.event.cancelBubble=true;}}
    return e;}
RGraph.HideCrosshairCoords=function()
{var RG=RGraph;var div=RG.Registry.Get('chart.coordinates.coords.div');if(div&&div.style.opacity==1&&div.__object__.Get('chart.crosshairs.coords.fadeout')){setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0.9;},50);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0.8;},100);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0.7;},150);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0.6;},200);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0.5;},250);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0.4;},300);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0.3;},350);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0.2;},400);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0.1;},450);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.opacity=0;},500);setTimeout(function(){RG.Registry.Get('chart.coordinates.coords.div').style.display='none';},550);}}
RGraph.Draw3DAxes=function(obj)
{var prop=obj.properties;var co=obj.context;var ca=obj.canvas;var gutterLeft=prop['chart.gutter.left'];var gutterRight=prop['chart.gutter.right'];var gutterTop=prop['chart.gutter.top'];var gutterBottom=prop['chart.gutter.bottom'];co.strokeStyle='#aaa';co.fillStyle='#ddd';co.beginPath();co.moveTo(gutterLeft,gutterTop);co.lineTo(gutterLeft+10,gutterTop-5);co.lineTo(gutterLeft+10,ca.height-gutterBottom-5);co.lineTo(gutterLeft,ca.height-gutterBottom);co.closePath();co.stroke();co.fill();co.beginPath();co.moveTo(gutterLeft,ca.height-gutterBottom);co.lineTo(gutterLeft+10,ca.height-gutterBottom-5);co.lineTo(ca.width-gutterRight+10,ca.height-gutterBottom-5);co.lineTo(ca.width-gutterRight,ca.height-gutterBottom);co.closePath();co.stroke();co.fill();}
RGraph.OldBrowserCompat=function(co)
{if(!co){return;}
    if(!co.measureText){co.measureText=function(text)
    {var textObj=document.createElement('DIV');textObj.innerHTML=text;textObj.style.position='absolute';textObj.style.top='-100px';textObj.style.left=0;document.body.appendChild(textObj);var width={width:textObj.offsetWidth};textObj.style.display='none';return width;}}
    if(!co.fillText){co.fillText=function(text,targetX,targetY)
    {return false;}}
    if(!co.canvas.addEventListener){window.addEventListener=function(ev,func,bubble)
    {return this.attachEvent('on'+ev,func);}
        co.canvas.addEventListener=function(ev,func,bubble)
        {return this.attachEvent('on'+ev,func);}}}
RGraph.strokedCurvyRect=function(co,x,y,w,h)
{var r=arguments[5]?arguments[5]:3;var corner_tl=(arguments[6]||arguments[6]==null)?true:false;var corner_tr=(arguments[7]||arguments[7]==null)?true:false;var corner_br=(arguments[8]||arguments[8]==null)?true:false;var corner_bl=(arguments[9]||arguments[9]==null)?true:false;co.beginPath();co.moveTo(x+(corner_tl?r:0),y);co.lineTo(x+w-(corner_tr?r:0),y);if(corner_tr){co.arc(x+w-r,y+r,r,PI+HALFPI,TWOPI,false);}
    co.lineTo(x+w,y+h-(corner_br?r:0));if(corner_br){co.arc(x+w-r,y-r+h,r,TWOPI,HALFPI,false);}
    co.lineTo(x+(corner_bl?r:0),y+h);if(corner_bl){co.arc(x+r,y-r+h,r,HALFPI,PI,false);}
    co.lineTo(x,y+(corner_tl?r:0));if(corner_tl){co.arc(x+r,y+r,r,PI,PI+HALFPI,false);}
    co.stroke();}
RGraph.filledCurvyRect=function(co,x,y,w,h)
{var r=arguments[5]?arguments[5]:3;var corner_tl=(arguments[6]||arguments[6]==null)?true:false;var corner_tr=(arguments[7]||arguments[7]==null)?true:false;var corner_br=(arguments[8]||arguments[8]==null)?true:false;var corner_bl=(arguments[9]||arguments[9]==null)?true:false;co.beginPath();if(corner_tl){co.moveTo(x+r,y+r);co.arc(x+r,y+r,r,PI,PI+HALFPI,false);}else{co.fillRect(x,y,r,r);}
    if(corner_tr){co.moveTo(x+w-r,y+r);co.arc(x+w-r,y+r,r,PI+HALFPI,0,false);}else{co.moveTo(x+w-r,y);co.fillRect(x+w-r,y,r,r);}
    if(corner_br){co.moveTo(x+w-r,y+h-r);co.arc(x+w-r,y-r+h,r,0,HALFPI,false);}else{co.moveTo(x+w-r,y+h-r);co.fillRect(x+w-r,y+h-r,r,r);}
    if(corner_bl){co.moveTo(x+r,y+h-r);co.arc(x+r,y-r+h,r,HALFPI,PI,false);}else{co.moveTo(x,y+h-r);co.fillRect(x,y+h-r,r,r);}
    co.fillRect(x+r,y,w-r-r,h);co.fillRect(x,y+r,r+1,h-r-r);co.fillRect(x+w-r-1,y+r,r+1,h-r-r);co.fill();}
RGraph.HideZoomedCanvas=function()
{var interval=15;var frames=10;if(typeof(__zoomedimage__)=='object'){var obj=__zoomedimage__.obj;var prop=obj.properties;}else{return;}
    if(prop['chart.zoom.fade.out']){for(var i=frames,j=1;i>=0;--i,++j){if(typeof(__zoomedimage__)=='object'){setTimeout("__zoomedimage__.style.opacity = "+String(i/10),j*interval);}}
        if(typeof(__zoomedbackground__)=='object'){setTimeout("__zoomedbackground__.style.opacity = "+String(i/frames),j*interval);}}
    if(typeof(__zoomedimage__)=='object'){setTimeout("__zoomedimage__.style.display = 'none'",prop['chart.zoom.fade.out']?(frames*interval)+10:0);}
    if(typeof(__zoomedbackground__)=='object'){setTimeout("__zoomedbackground__.style.display = 'none'",prop['chart.zoom.fade.out']?(frames*interval)+10:0);}}
RGraph.AddCustomEventListener=function(obj,name,func)
{var RG=RGraph;if(typeof(RG.events[obj.uid])=='undefined'){RG.events[obj.uid]=[];}
    RG.events[obj.uid].push([obj,name,func]);return RG.events[obj.uid].length-1;}
RGraph.FireCustomEvent=function(obj,name)
{var RG=RGraph;if(obj&&obj.isRGraph){if(obj[name]){(obj[name])(obj);}
    var uid=obj.uid;if(typeof(uid)=='string'&&typeof(RG.events)=='object'&&typeof(RG.events[uid])=='object'&&RG.events[uid].length>0){for(var j=0;j<RG.events[uid].length;++j){if(RG.events[uid][j]&&RG.events[uid][j][1]==name){RG.events[uid][j][2](obj);}}}}}
RGraph.SetConfig=function(obj,config)
{for(i in config){if(typeof(i)=='string'){obj.Set(i,config[i]);}}
    return obj;}
RGraph.RemoveAllCustomEventListeners=function()
{var RG=RGraph;var id=arguments[0];if(id&&RG.events[id]){RG.events[id]=[];}else{RG.events=[];}}
RGraph.RemoveCustomEventListener=function(obj,i)
{var RG=RGraph;if(typeof(RG.events)=='object'&&typeof(RG.events[obj.id])=='object'&&typeof(RG.events[obj.id][i])=='object'){RG.events[obj.id][i]=null;}}
RGraph.DrawBackgroundImage=function(obj)
{var prop=obj.properties;var ca=obj.canvas;var co=obj.context;var RG=RGraph;if(typeof(prop['chart.background.image'])=='string'){if(typeof(ca.__rgraph_background_image__)=='undefined'){var img=new Image();img.__object__=obj;img.__canvas__=ca;img.__context__=co;img.src=obj.Get('chart.background.image');ca.__rgraph_background_image__=img;}else{img=ca.__rgraph_background_image__;}
    img.onload=function()
    {obj.__rgraph_background_image_loaded__=true;RG.Clear(ca);RG.RedrawCanvas(ca);}
    var gutterLeft=obj.gutterLeft;var gutterRight=obj.gutterRight;var gutterTop=obj.gutterTop;var gutterBottom=obj.gutterBottom;var stretch=prop['chart.background.image.stretch'];var align=prop['chart.background.image.align'];if(typeof(align)=='string'){if(align.indexOf('right')!=-1){var x=ca.width-img.width-gutterRight;}else{var x=gutterLeft;}
        if(align.indexOf('bottom')!=-1){var y=ca.height-img.height-gutterBottom;}else{var y=gutterTop;}}else{var x=gutterLeft;var y=gutterTop;}
    var x=typeof(prop['chart.background.image.x'])=='number'?prop['chart.background.image.x']:x;var y=typeof(prop['chart.background.image.y'])=='number'?prop['chart.background.image.y']:y;var w=stretch?ca.width-gutterLeft-gutterRight:img.width;var h=stretch?ca.height-gutterTop-gutterBottom:img.height;if(typeof(prop['chart.background.image.w'])=='number')w=prop['chart.background.image.w'];if(typeof(prop['chart.background.image.h'])=='number')h=prop['chart.background.image.h'];co.drawImage(img,x,y,w,h);}}
RGraph.hasTooltips=function(obj)
{var prop=obj.properties;if(typeof(prop['chart.tooltips'])=='object'&&prop['chart.tooltips']){for(var i=0,len=prop['chart.tooltips'].length;i<len;++i){if(!RGraph.is_null(obj.Get('chart.tooltips')[i])){return true;}}}else if(typeof(prop['chart.tooltips'])=='function'){return true;}
    return false;}
RGraph.CreateUID=function()
{return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c)
{var r=Math.random()*16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16);});}
RGraph.ObjectRegistry.Add=function(obj)
{var uid=obj.uid;var id=obj.canvas.id;var RG=RGraph;RG.ObjectRegistry.objects.byUID.push([uid,obj]);RG.ObjectRegistry.objects.byCanvasID.push([id,obj]);}
RGraph.ObjectRegistry.Remove=function(obj)
{var id=obj.id;var uid=obj.uid;var RG=RGraph;for(var i=0;i<RG.ObjectRegistry.objects.byUID.length;++i){if(RG.ObjectRegistry.objects.byUID[i]&&RG.ObjectRegistry.objects.byUID[i][1].uid==uid){RG.ObjectRegistry.objects.byUID[i]=null;}}
    for(var i=0;i<RG.ObjectRegistry.objects.byCanvasID.length;++i){if(RG.ObjectRegistry.objects.byCanvasID[i]&&RG.ObjectRegistry.objects.byCanvasID[i][1]&&RG.ObjectRegistry.objects.byCanvasID[i][1].uid==uid){RG.ObjectRegistry.objects.byCanvasID[i]=null;}}}
RGraph.ObjectRegistry.Clear=function()
{var RG=RGraph;if(arguments[0]){var id=(typeof(arguments[0])=='object'?arguments[0].id:arguments[0]);var objects=RG.ObjectRegistry.getObjectsByCanvasID(id);for(var i=0;i<objects.length;++i){RG.ObjectRegistry.Remove(objects[i]);}}else{RG.ObjectRegistry.objects={};RG.ObjectRegistry.objects.byUID=[];RG.ObjectRegistry.objects.byCanvasID=[];}}
RGraph.ObjectRegistry.List=function()
{var list=[];var RG=RGraph;for(var i=0,len=RG.ObjectRegistry.objects.byUID.length;i<len;++i){if(RG.ObjectRegistry.objects.byUID[i]){list.push(RG.ObjectRegistry.objects.byUID[i][1].type);}}
    if(arguments[0]){return list;}else{p(list);}}
RGraph.ObjectRegistry.ClearByType=function(type)
{var RG=RGraph;var objects=RG.ObjectRegistry.objects.byUID;for(var i=0;i<objects.length;++i){if(objects[i]){var uid=objects[i][0];var obj=objects[i][1];if(obj&&obj.type==type){RG.ObjectRegistry.Remove(obj);}}}}
RGraph.ObjectRegistry.Iterate=function(func)
{var objects=RGraph.ObjectRegistry.objects.byUID;for(var i=0;i<objects.length;++i){if(typeof arguments[1]=='string'){var types=arguments[1].split(/,/);for(var j=0;j<types.length;++j){if(types[j]==objects[i][1].type){func(objects[i][1]);}}}else{func(objects[i][1]);}}}
RGraph.ObjectRegistry.getObjectsByCanvasID=function(id)
{var store=RGraph.ObjectRegistry.objects.byCanvasID;var ret=[];for(var i=0;i<store.length;++i){if(store[i]&&store[i][0]==id){ret.push(store[i][1]);}}
    return ret;}
RGraph.ObjectRegistry.getFirstObjectByXY=RGraph.ObjectRegistry.getObjectByXY=function(e)
{var canvas=e.target;var ret=null;var objects=RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id);for(var i=(objects.length-1);i>=0;--i){var obj=objects[i].getObjectByXY(e);if(obj){return obj;}}}
RGraph.ObjectRegistry.getObjectsByXY=function(e)
{var canvas=e.target;var ret=[];var objects=RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id);for(var i=(objects.length-1);i>=0;--i){var obj=objects[i].getObjectByXY(e);if(obj){ret.push(obj);}}
    return ret;}
RGraph.ObjectRegistry.getObjectByUID=function(uid)
{var objects=RGraph.ObjectRegistry.objects.byUID;for(var i=0;i<objects.length;++i){if(objects[i]&&objects[i][1].uid==uid){return objects[i][1];}}}
RGraph.ObjectRegistry.bringToFront=function(obj)
{var redraw=typeof arguments[1]=='undefined'?true:arguments[1];RGraph.ObjectRegistry.Remove(obj);RGraph.ObjectRegistry.Add(obj);if(redraw){RGraph.RedrawCanvas(obj.canvas);}}
RGraph.ObjectRegistry.getObjectsByType=function(type)
{var objects=RGraph.ObjectRegistry.objects.byUID;var ret=[];for(var i=0;i<objects.length;++i){if(objects[i]&&objects[i][1]&&objects[i][1].type&&objects[i][1].type&&objects[i][1].type==type){ret.push(objects[i][1]);}}
    return ret;}
RGraph.ObjectRegistry.getFirstObjectByType=function(type)
{var objects=RGraph.ObjectRegistry.objects.byUID;for(var i=0;i<objects.length;++i){if(objects[i]&&objects[i][1]&&objects[i][1].type==type){return objects[i][1];}}
    return null;}
RGraph.getAngleByXY=function(cx,cy,x,y)
{var angle=Math.atan((y-cy)/(x-cx));angle=Math.abs(angle)
    if(x>=cx&&y>=cy){angle+=TWOPI;}else if(x>=cx&&y<cy){angle=(HALFPI-angle)+(PI+HALFPI);}else if(x<cx&&y<cy){angle+=PI;}else{angle=PI-angle;}
    if(angle>TWOPI){angle-=TWOPI;}
    return angle;}
RGraph.getHypLength=function(x1,y1,x2,y2)
{var ret=Math.sqrt(((x2-x1)*(x2-x1))+((y2-y1)*(y2-y1)));return ret;}
RGraph.getRadiusEndPoint=function(cx,cy,angle,radius)
{var x=cx+(Math.cos(angle)*radius);var y=cy+(Math.sin(angle)*radius);return[x,y];}
RGraph.InstallEventListeners=function(obj)
{var RG=RGraph;var prop=obj.properties;if(ISOLD){return;}
    if(RG.InstallCanvasClickListener){RG.InstallWindowMousedownListener(obj);RG.InstallWindowMouseupListener(obj);RG.InstallCanvasMousemoveListener(obj);RG.InstallCanvasMouseupListener(obj);RG.InstallCanvasMousedownListener(obj);RG.InstallCanvasClickListener(obj);}else if(RG.hasTooltips(obj)||prop['chart.adjustable']||prop['chart.annotatable']||prop['chart.contextmenu']||prop['chart.resizable']||prop['chart.key.interactive']||prop['chart.events.click']||prop['chart.events.mousemove']||typeof obj.onclick=='function'||typeof obj.onmousemove=='function'){alert('[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js');}}
RGraph.pr=function(obj)
{var indent=(arguments[2]?arguments[2]:'    ');var str='';var counter=typeof arguments[3]=='number'?arguments[3]:0;if(counter>=5){return'';}
    switch(typeof obj){case'string':str+=obj+' ('+(typeof obj)+', '+obj.length+')';break;case'number':str+=obj+' ('+(typeof obj)+')';break;case'boolean':str+=obj+' ('+(typeof obj)+')';break;case'function':str+='function () {}';break;case'undefined':str+='undefined';break;case'null':str+='null';break;case'object':if(RGraph.is_null(obj)){str+=indent+'null\n';}else{str+=indent+'Object {'+'\n'
        for(j in obj){str+=indent+'    '+j+' => '+RGraph.pr(obj[j],true,indent+'    ',counter+1)+'\n';}
        str+=indent+'}';}
        break;default:str+='Unknown type: '+typeof obj+'';break;}
    if(!arguments[1]){alert(str);}
    return str;}
RGraph.DashedLine=function(co,x1,y1,x2,y2)
{var size=5;if(typeof(arguments[5])=='number'){size=arguments[5];}
    var dx=x2-x1;var dy=y2-y1;var num=Math.floor(Math.sqrt((dx*dx)+(dy*dy))/size);var xLen=dx/num;var yLen=dy/num;var count=0;do{(count%2==0&&count>0)?co.lineTo(x1,y1):co.moveTo(x1,y1);x1+=xLen;y1+=yLen;}while(count++<=num);}
RGraph.AJAX=function(url,callback)
{if(window.XMLHttpRequest){var httpRequest=new XMLHttpRequest();}else if(window.ActiveXObject){var httpRequest=new ActiveXObject("Microsoft.XMLHTTP");}
    httpRequest.onreadystatechange=function()
    {if(this.readyState==4&&this.status==200){this.__user_callback__=callback;this.__user_callback__(this.responseText);}}
    httpRequest.open('GET',url,true);httpRequest.send();}
RGraph.AJAX.POST=function(url,data,callback)
{var crumbs=[];if(window.XMLHttpRequest){var httpRequest=new XMLHttpRequest();}else if(window.ActiveXObject){var httpRequest=new ActiveXObject("Microsoft.XMLHTTP");}
    httpRequest.onreadystatechange=function()
    {if(this.readyState==4&&this.status==200){this.__user_callback__=callback;this.__user_callback__(this.responseText);}}
    httpRequest.open('POST',url,true);httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(i in data){if(typeof i=='string'){crumbs.push(i+'='+encodeURIComponent(data[i]));}}
    httpRequest.send(crumbs.join('&'));}
RGraph.AJAX.getNumber=function(url,callback)
{RGraph.AJAX(url,function()
{var num=parseFloat(this.responseText);callback(num);});}
RGraph.AJAX.getString=function(url,callback)
{RGraph.AJAX(url,function()
{var str=String(this.responseText);callback(str);});}
RGraph.AJAX.getJSON=function(url,callback)
{RGraph.AJAX(url,function()
{var json=eval('('+this.responseText+')');callback(json);});}
RGraph.AJAX.getCSV=function(url,callback)
{var seperator=arguments[2]?arguments[2]:',';RGraph.AJAX(url,function()
{var regexp=new RegExp(seperator);var arr=this.responseText.split(regexp);for(var i=0,len=arr.length;i<len;++i){arr[i]=parseFloat(arr[i]);}
    callback(arr);});}
RGraph.RotateCanvas=function(ca,x,y,angle)
{var co=ca.getContext('2d');co.translate(x,y);co.rotate(angle);co.translate(0-x,0-y);}
RGraph.MeasureText=function(text,bold,font,size)
{if(typeof(__rgraph_measuretext_cache__)=='undefined'){__rgraph_measuretext_cache__=[];}
    var str=text+':'+bold+':'+font+':'+size;if(typeof(__rgraph_measuretext_cache__)=='object'&&__rgraph_measuretext_cache__[str]){return __rgraph_measuretext_cache__[str];}
    if(!__rgraph_measuretext_cache__['text-div']){var div=document.createElement('DIV');div.style.position='absolute';div.style.top='-100px';div.style.left='-100px';document.body.appendChild(div);__rgraph_measuretext_cache__['text-div']=div;}else if(__rgraph_measuretext_cache__['text-div']){var div=__rgraph_measuretext_cache__['text-div'];}
    div.innerHTML=text.replace(/\r\n/g,'<br />');div.style.fontFamily=font;div.style.fontWeight=bold?'bold':'normal';div.style.fontSize=size+'pt';var size=[div.offsetWidth,div.offsetHeight];__rgraph_measuretext_cache__[str]=size;return size;}
RGraph.Text2=function(obj,opt)
{if(obj&&obj.isRGraph){var co=obj.context;var ca=obj.canvas;}else if(typeof obj=='string'){var ca=document.getElementById(obj);var co=ca.getContext('2d');}else if(typeof obj.getContext=='function'){var ca=obj;var co=ca.getContext('2d');}else if(obj.toString().indexOf('CanvasRenderingContext2D')!=-1){var co=obj;var ca=obj.context;}
    var x=opt.x;var y=opt.y;var originalX=x;var originalY=y;var text=opt.text;var text_multiline=text.split(/\r?\n/g);var numlines=text_multiline.length;var font=opt.font?opt.font:'Arial';var size=opt.size?opt.size:10;var size_pixels=size*1.5;var bold=opt.bold;var halign=opt.halign?opt.halign:'left';var valign=opt.valign?opt.valign:'bottom';var tag=typeof opt.tag=='string'&&opt.tag.length>0?opt.tag:'';var marker=opt.marker;var angle=opt.angle||0;if(typeof opt.boundingFill=='string')opt['bounding.fill']=opt.boundingFill;if(typeof opt.boundingStroke=='string')opt['bounding.stroke']=opt.boundingStroke;var bounding=opt.bounding;var bounding_stroke=opt['bounding.stroke']?opt['bounding.stroke']:'black';var bounding_fill=opt['bounding.fill']?opt['bounding.fill']:'rgba(255,255,255,0.7)';var bounding_shadow=opt['bounding.shadow'];var bounding_shadow_color=opt['bounding.shadow.color']||'#ccc';var bounding_shadow_blur=opt['bounding.shadow.blur']||3;var bounding_shadow_offsetx=opt['bounding.shadow.offsetx']||3;var bounding_shadow_offsety=opt['bounding.shadow.offsety']||3;var bounding_linewidth=opt['bounding.linewidth']||1;var ret={};if(typeof text=='number'){text=String(text);}
    if(typeof text!='string'){alert('[RGRAPH TEXT] The text given must a string or a number');return;}
    if(angle!=0){co.save();co.translate(x,y);co.rotate((Math.PI/180)*angle)
        x=0;y=0;}
    co.font=(opt.bold?'bold ':'')+size+'pt '+font;var width=0;for(var i=0;i<numlines;++i){width=Math.max(width,co.measureText(text_multiline[i]).width);}
    var height=size_pixels*numlines;if(opt.marker){var marker_size=10;var strokestyle=co.strokeStyle;co.beginPath();co.strokeStyle='red';co.moveTo(x,y-marker_size);co.lineTo(x,y+marker_size);co.moveTo(x-marker_size,y);co.lineTo(x+marker_size,y);co.stroke();co.strokeStyle=strokestyle;}
    if(halign=='center'){co.textAlign='center';var boundingX=x-2-(width/2);}else if(halign=='right'){co.textAlign='right';var boundingX=x-2-width;}else{co.textAlign='left';var boundingX=x-2;}
    if(valign=='center'){co.textBaseline='middle';y-=1;y-=((numlines-1)/2)*size_pixels;var boundingY=y-(size_pixels/2)-2;}else if(valign=='top'){co.textBaseline='top';var boundingY=y-2;}else{co.textBaseline='bottom';if(numlines>1){y-=((numlines-1)*size_pixels);}
        var boundingY=y-size_pixels-2;}
    var boundingW=width+4;var boundingH=height+4;if(bounding){var pre_bounding_linewidth=co.lineWidth;var pre_bounding_strokestyle=co.strokeStyle;var pre_bounding_fillstyle=co.fillStyle;var pre_bounding_shadowcolor=co.shadowColor;var pre_bounding_shadowblur=co.shadowBlur;var pre_bounding_shadowoffsetx=co.shadowOffsetX;var pre_bounding_shadowoffsety=co.shadowOffsetY;co.lineWidth=bounding_linewidth;co.strokeStyle=bounding_stroke;co.fillStyle=bounding_fill;if(bounding_shadow){co.shadowColor=bounding_shadow_color;co.shadowBlur=bounding_shadow_blur;co.shadowOffsetX=bounding_shadow_offsetx;co.shadowOffsetY=bounding_shadow_offsety;}
    co.strokeRect(boundingX,boundingY,boundingW,boundingH);co.fillRect(boundingX,boundingY,boundingW,boundingH);co.lineWidth=pre_bounding_linewidth;co.strokeStyle=pre_bounding_strokestyle;co.fillStyle=pre_bounding_fillstyle;co.shadowColor=pre_bounding_shadowcolor
    co.shadowBlur=pre_bounding_shadowblur
    co.shadowOffsetX=pre_bounding_shadowoffsetx
    co.shadowOffsetY=pre_bounding_shadowoffsety}
    if(numlines>1){for(var i=0;i<numlines;++i){co.fillText(text_multiline[i],x,y+(size_pixels*i));}}else{co.fillText(text,x,y);}
    if(angle!=0){if(angle==90){if(halign=='left'){if(valign=='bottom'){boundingX=originalX-2;boundingY=originalY-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='center'){boundingX=originalX-(height/2)-2;boundingY=originalY-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='top'){boundingX=originalX-height-2;boundingY=originalY-2;boundingW=height+4;boundingH=width+4;}}else if(halign=='center'){if(valign=='bottom'){boundingX=originalX-2;boundingY=originalY-(width/2)-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='center'){boundingX=originalX-(height/2)-2;boundingY=originalY-(width/2)-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='top'){boundingX=originalX-height-2;boundingY=originalY-(width/2)-2;boundingW=height+4;boundingH=width+4;}}else if(halign=='right'){if(valign=='bottom'){boundingX=originalX-2;boundingY=originalY-width-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='center'){boundingX=originalX-(height/2)-2;boundingY=originalY-width-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='top'){boundingX=originalX-height-2;boundingY=originalY-width-2;boundingW=height+4;boundingH=width+4;}}}else if(angle==180){if(halign=='left'){if(valign=='bottom'){boundingX=originalX-width-2;boundingY=originalY-2;boundingW=width+4;boundingH=height+4;}
        if(valign=='center'){boundingX=originalX-width-2;boundingY=originalY-(height/2)-2;boundingW=width+4;boundingH=height+4;}
        if(valign=='top'){boundingX=originalX-width-2;boundingY=originalY-height-2;boundingW=width+4;boundingH=height+4;}}else if(halign=='center'){if(valign=='bottom'){boundingX=originalX-(width/2)-2;boundingY=originalY-2;boundingW=width+4;boundingH=height+4;}
        if(valign=='center'){boundingX=originalX-(width/2)-2;boundingY=originalY-(height/2)-2;boundingW=width+4;boundingH=height+4;}
        if(valign=='top'){boundingX=originalX-(width/2)-2;boundingY=originalY-height-2;boundingW=width+4;boundingH=height+4;}}else if(halign=='right'){if(valign=='bottom'){boundingX=originalX-2;boundingY=originalY-2;boundingW=width+4;boundingH=height+4;}
        if(valign=='center'){boundingX=originalX-2;boundingY=originalY-(height/2)-2;boundingW=width+4;boundingH=height+4;}
        if(valign=='top'){boundingX=originalX-2;boundingY=originalY-height-2;boundingW=width+4;boundingH=height+4;}}}else if(angle==270){if(halign=='left'){if(valign=='bottom'){boundingX=originalX-height-2;boundingY=originalY-width-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='center'){boundingX=originalX-(height/2)-4;boundingY=originalY-width-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='top'){boundingX=originalX-2;boundingY=originalY-width-2;boundingW=height+4;boundingH=width+4;}}else if(halign=='center'){if(valign=='bottom'){boundingX=originalX-height-2;boundingY=originalY-(width/2)-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='center'){boundingX=originalX-(height/2)-4;boundingY=originalY-(width/2)-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='top'){boundingX=originalX-2;boundingY=originalY-(width/2)-2;boundingW=height+4;boundingH=width+4;}}else if(halign=='right'){if(valign=='bottom'){boundingX=originalX-height-2;boundingY=originalY-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='center'){boundingX=originalX-(height/2)-2;boundingY=originalY-2;boundingW=height+4;boundingH=width+4;}
        if(valign=='top'){boundingX=originalX-2;boundingY=originalY-2;boundingW=height+4;boundingH=width+4;}}}
        co.restore();}
    co.textBaseline='alphabetic';co.textAlign='left';ret.x=boundingX;ret.y=boundingY;ret.width=boundingW;ret.height=boundingH
    ret.object=obj;ret.text=text;ret.tag=tag;if(obj&&obj.isRGraph&&obj.coordsText){obj.coordsText.push(ret);}
    return ret;}
RGraph.sequentialIndexToGrouped=function(index,data)
{var group=0;var grouped_index=0;while(--index>=0){if(RGraph.is_null(data[group])){group++;grouped_index=0;continue;}
    if(typeof data[group]=='number'){group++
        grouped_index=0;continue;}
    grouped_index++;if(grouped_index>=data[group].length){group++;grouped_index=0;}}
    return[group,grouped_index];}
if(!Array.prototype.forEach){Array.prototype.forEach=function(fn,scope){for(var i=0,len=this.length;i<len;++i){fn.call(scope,this[i],i,this);}}}
function empty(value)
{if(!value||value.length<=0){return true;}
    return false;}
RGraph.Highlight.Rect=function(obj,shape)
{var ca=obj.canvas;var co=obj.context;var prop=obj.properties;if(prop['chart.tooltips.highlight']){co.lineWidth=1;co.beginPath();co.strokeStyle=prop['chart.highlight.stroke'];co.fillStyle=prop['chart.highlight.fill'];co.strokeRect(shape['x'],shape['y'],shape['width'],shape['height']);co.fillRect(shape['x'],shape['y'],shape['width'],shape['height']);co.stroke;co.fill();}}
RGraph.Highlight.Point=function(obj,shape)
{var prop=obj.properties;var ca=obj.canvas;var co=obj.context;if(prop['chart.tooltips.highlight']){co.beginPath();co.strokeStyle=prop['chart.highlight.stroke'];co.fillStyle=prop['chart.highlight.fill'];var radius=prop['chart.highlight.point.radius']||2;co.arc(shape['x'],shape['y'],radius,0,TWOPI,0);co.stroke();co.fill();}}
RGraph.LinearGradient=function(obj,x1,y1,x2,y2,color1,color2){var gradient=obj.context.createLinearGradient(x1,y1,x2,y2);var numColors=arguments.length-5;for(var i=5;i<arguments.length;++i){var color=arguments[i];var stop=(i-5)/(numColors-1);gradient.addColorStop(stop,color);}return gradient;}
RGraph.RadialGradient=function(obj,x1,y1,r1,x2,y2,r2,color1,color2){var gradient=obj.context.createRadialGradient(x1,y1,r1,x2,y2,r2);var numColors=arguments.length-7;for(var i=7;i<arguments.length;++i){var color=arguments[i];var stop=(i-7)/(numColors-1);gradient.addColorStop(stop,color);}return gradient;}
RGraph.array_shift=function(arr){var ret=[];for(var i=1;i<arr.length;++i){ret.push(arr[i]);}return ret;}
RGraph.AddEventListener=function(id,e,func){var type=arguments[3]?arguments[3]:'unknown';RGraph.Registry.Get('chart.event.handlers').push([id,e,func,type]);}
RGraph.ClearEventListeners=function(id){if(id&&id=='window'){window.removeEventListener('mousedown',window.__rgraph_mousedown_event_listener_installed__,false);window.removeEventListener('mouseup',window.__rgraph_mouseup_event_listener_installed__,false);}else{var canvas=document.getElementById(id);canvas.removeEventListener('mouseup',canvas.__rgraph_mouseup_event_listener_installed__,false);canvas.removeEventListener('mousemove',canvas.__rgraph_mousemove_event_listener_installed__,false);canvas.removeEventListener('mousedown',canvas.__rgraph_mousedown_event_listener_installed__,false);canvas.removeEventListener('click',canvas.__rgraph_click_event_listener_installed__,false);}}
RGraph.HidePalette=function(){var div=RGraph.Registry.Get('palette');if(typeof(div)=='object'&&div){div.style.visibility='hidden';div.style.display='none';RGraph.Registry.Set('palette',null);}}
RGraph.random=function(min,max){var dp=arguments[2]?arguments[2]:0;var r=Math.random();return Number((((max-min)*r)+min).toFixed(dp));}
RGraph.random.array=function(num,min,max){var arr=[];for(var i=0;i<num;i++)arr.push(RGraph.random(min,max));return arr;}
RGraph.NoShadow=function(obj){obj.context.shadowColor='rgba(0,0,0,0)';obj.context.shadowBlur=0;obj.context.shadowOffsetX=0;obj.context.shadowOffsetY=0;}
RGraph.SetShadow=function(obj,color,offsetx,offsety,blur){obj.context.shadowColor=color;obj.context.shadowOffsetX=offsetx;obj.context.shadowOffsetY=offsety;obj.context.shadowBlur=blur;}
RGraph.array_reverse=function(arr){var newarr=[];for(var i=arr.length-1;i>=0;i--){newarr.push(arr[i]);}return newarr;}
RGraph.Registry.Set=function(name,value){RGraph.Registry.store[name]=value;return value;}
RGraph.Registry.Get=function(name){return RGraph.Registry.store[name];}
RGraph.degrees2Radians=function(degrees){return degrees*(PI/180);}
RGraph.log=(function(n,base){var log=Math.log;return function(n,base){return log(n)/(base?log(base):1);};})();RGraph.is_array=function(obj){return obj!=null&&obj.constructor.toString().indexOf('Array')!=-1;}
RGraph.trim=function(str){return RGraph.ltrim(RGraph.rtrim(str));}
RGraph.ltrim=function(str){return str.replace(/^(\s|\0)+/,'');}
RGraph.rtrim=function(str){return str.replace(/(\s|\0)+$/,'');}
RGraph.GetHeight=function(obj){return obj.canvas.height;}
RGraph.GetWidth=function(obj){return obj.canvas.width;}
RGraph.is_null=function(arg){if(arg==null||(typeof(arg))=='object'&&!arg){return true;}return false;}
RGraph.Timer=function(label){if(typeof(RGraph.TIMER_LAST_CHECKPOINT)=='undefined'){RGraph.TIMER_LAST_CHECKPOINT=Date.now();}var now=Date.now();console.log(label+': '+(now-RGraph.TIMER_LAST_CHECKPOINT).toString());RGraph.TIMER_LAST_CHECKPOINT=now;}
RGraph.Async=function(func){return setTimeout(func,arguments[1]?arguments[1]:1);}
RGraph.isIE=function(){return navigator.userAgent.indexOf('MSIE')>0;};ISIE=RGraph.isIE();RGraph.isIE6=function(){return navigator.userAgent.indexOf('MSIE 6')>0;};ISIE6=RGraph.isIE6();RGraph.isIE7=function(){return navigator.userAgent.indexOf('MSIE 7')>0;};ISIE7=RGraph.isIE7();RGraph.isIE8=function(){return navigator.userAgent.indexOf('MSIE 8')>0;};ISIE8=RGraph.isIE8();RGraph.isIE9=function(){return navigator.userAgent.indexOf('MSIE 9')>0;};ISIE9=RGraph.isIE9();RGraph.isIE10=function(){return navigator.userAgent.indexOf('MSIE 10')>0;};ISIE10=RGraph.isIE10();RGraph.isIE9up=function(){navigator.userAgent.match(/MSIE (\d+)/);return Number(RegExp.$1)>=9;};ISIE9UP=RGraph.isIE9up();RGraph.isIE10up=function(){navigator.userAgent.match(/MSIE (\d+)/);return Number(RegExp.$1)>=10;};ISIE10UP=RGraph.isIE10up();RGraph.isOld=function(){return ISIE6||ISIE7||ISIE8;};ISOLD=RGraph.isOld();RGraph.Reset=function(canvas){canvas.width=canvas.width;RGraph.ObjectRegistry.Clear(canvas);canvas.__rgraph_aa_translated__=false;}
function pd(variable){RGraph.pr(variable);}
function p(variable){RGraph.pr(arguments[0],arguments[1],arguments[3]);}
function a(variable){alert(variable);}
function cl(variable){return console.log(variable);}
if(typeof(RGraph)=='undefined')RGraph={};RGraph.Line=function(id)
{this.id=id;this.canvas=document.getElementById(id);this.context=this.canvas.getContext?this.canvas.getContext("2d"):null;this.canvas.__object__=this;this.type='line';this.max=0;this.coords=[];this.coords2=[];this.coords.key=[];this.coordsText=[];this.hasnegativevalues=false;this.isRGraph=true;this.uid=RGraph.CreateUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();this.colorsParsed=false;RGraph.OldBrowserCompat(this.context);this.properties={'chart.background.barcolor1':'rgba(0,0,0,0)','chart.background.barcolor2':'rgba(0,0,0,0)','chart.background.grid':1,'chart.background.grid.width':1,'chart.background.grid.hsize':25,'chart.background.grid.vsize':25,'chart.background.grid.color':'#ddd','chart.background.grid.vlines':true,'chart.background.grid.hlines':true,'chart.background.grid.border':true,'chart.background.grid.autofit':true,'chart.background.grid.autofit.align':false,'chart.background.grid.autofit.numhlines':5,'chart.background.grid.autofit.numvlines':20,'chart.background.grid.dashed':false,'chart.background.grid.dotted':false,'chart.background.hbars':null,'chart.background.image':null,'chart.background.image.stretch':true,'chart.background.image.x':null,'chart.background.image.y':null,'chart.background.image.w':null,'chart.background.image.h':null,'chart.background.image.align':null,'chart.labels':null,'chart.labels.ingraph':null,'chart.labels.above':false,'chart.labels.above.size':8,'chart.xtickgap':20,'chart.smallxticks':3,'chart.largexticks':5,'chart.ytickgap':20,'chart.smallyticks':3,'chart.largeyticks':5,'chart.numyticks':10,'chart.linewidth':1.01,'chart.colors':['red','#0f0','#00f','#f0f','#ff0','#0ff'],'chart.hmargin':0,'chart.tickmarks.dot.color':'white','chart.tickmarks':null,'chart.tickmarks.linewidth':null,'chart.ticksize':3,'chart.gutter.left':25,'chart.gutter.right':25,'chart.gutter.top':25,'chart.gutter.bottom':25,'chart.tickdirection':-1,'chart.yaxispoints':5,'chart.fillstyle':null,'chart.xaxispos':'bottom','chart.yaxispos':'left','chart.xticks':null,'chart.text.size':10,'chart.text.angle':0,'chart.text.color':'black','chart.text.font':'Arial','chart.ymin':0,'chart.ymax':null,'chart.title':'','chart.title.background':null,'chart.title.hpos':null,'chart.title.vpos':null,'chart.title.bold':true,'chart.title.font':null,'chart.title.xaxis':'','chart.title.xaxis.bold':true,'chart.title.xaxis.size':null,'chart.title.xaxis.font':null,'chart.title.yaxis':'','chart.title.yaxis.bold':true,'chart.title.yaxis.size':null,'chart.title.yaxis.font':null,'chart.title.yaxis.color':null,'chart.title.xaxis.pos':null,'chart.title.yaxis.pos':null,'chart.title.x':null,'chart.title.y':null,'chart.title.halign':null,'chart.title.valign':null,'chart.shadow':false,'chart.shadow.offsetx':2,'chart.shadow.offsety':2,'chart.shadow.blur':3,'chart.shadow.color':'rgba(0,0,0,0.5)','chart.tooltips':null,'chart.tooltips.hotspot.xonly':false,'chart.tooltips.hotspot.size':5,'chart.tooltips.effect':'fade','chart.tooltips.css.class':'RGraph_tooltip','chart.tooltips.event':'onmousemove','chart.tooltips.highlight':true,'chart.tooltips.coords.page':false,'chart.highlight.stroke':'gray','chart.highlight.fill':'white','chart.stepped':false,'chart.key':null,'chart.key.background':'white','chart.key.position':'graph','chart.key.halign':null,'chart.key.shadow':false,'chart.key.shadow.color':'#666','chart.key.shadow.blur':3,'chart.key.shadow.offsetx':2,'chart.key.shadow.offsety':2,'chart.key.position.gutter.boxed':false,'chart.key.position.x':null,'chart.key.position.y':null,'chart.key.color.shape':'square','chart.key.rounded':true,'chart.key.linewidth':1,'chart.key.colors':null,'chart.key.interactive':false,'chart.key.interactive.highlight.chart.stroke':'rgba(255,0,0,0.3)','chart.key.interactive.highlight.label':'rgba(255,0,0,0.2)','chart.contextmenu':null,'chart.ylabels':true,'chart.ylabels.count':5,'chart.ylabels.inside':false,'chart.scale.invert':false,'chart.xlabels.inside':false,'chart.xlabels.inside.color':'rgba(255,255,255,0.5)','chart.noaxes':false,'chart.noyaxis':false,'chart.noxaxis':false,'chart.noendxtick':false,'chart.noendytick':false,'chart.units.post':'','chart.units.pre':'','chart.scale.decimals':null,'chart.scale.point':'.','chart.scale.thousand':',','chart.crosshairs':false,'chart.crosshairs.color':'#333','chart.crosshairs.hline':true,'chart.crosshairs.vline':true,'chart.annotatable':false,'chart.annotate.color':'black','chart.axesontop':false,'chart.filled':false,'chart.filled.range':false,'chart.filled.range.threshold':null,'chart.filled.range.threshold.colors':['red','green'],'chart.filled.accumulative':true,'chart.variant':null,'chart.axis.color':'black','chart.axis.linewidth':1,'chart.numxticks':(arguments[1]&&typeof(arguments[1][0])=='number'?arguments[1].length:20),'chart.numyticks':10,'chart.zoom.factor':1.5,'chart.zoom.fade.in':true,'chart.zoom.fade.out':true,'chart.zoom.hdir':'right','chart.zoom.vdir':'down','chart.zoom.frames':25,'chart.zoom.delay':16.666,'chart.zoom.shadow':true,'chart.zoom.background':true,'chart.zoom.action':'zoom','chart.backdrop':false,'chart.backdrop.size':30,'chart.backdrop.alpha':0.2,'chart.resizable':false,'chart.resize.handle.adjust':[0,0],'chart.resize.handle.background':null,'chart.adjustable':false,'chart.noredraw':false,'chart.outofbounds':false,'chart.chromefix':true,'chart.animation.factor':1,'chart.animation.unfold.x':false,'chart.animation.unfold.y':true,'chart.animation.unfold.initial':2,'chart.animation.trace.clip':1,'chart.curvy':false,'chart.line.visible':true,'chart.events.click':null,'chart.events.mousemove':null}
    for(var i=1;i<arguments.length;++i){if(typeof(arguments[i])=='null'||!arguments[i]){arguments[i]=[];}}
    this.original_data=[];for(var i=1;i<arguments.length;++i){if(arguments[1]&&typeof(arguments[1])=='object'&&arguments[1][0]&&typeof(arguments[1][0])=='object'&&arguments[1][0].length){var tmp=[];for(var i=0;i<arguments[1].length;++i){tmp[i]=RGraph.array_clone(arguments[1][i]);}
    for(var j=0;j<tmp.length;++j){this.original_data[j]=RGraph.array_clone(tmp[j]);}}else{this.original_data[i-1]=RGraph.array_clone(arguments[i]);}}
    if(!this.canvas){alert('[LINE] Fatal error: no canvas support');return;}
    this.data_arr=RGraph.array_linearize(this.original_data);for(var i=0;i<this.data_arr.length;++i){this['$'+i]={};}
    if(!this.canvas.__rgraph_aa_translated__){this.context.translate(0.5,0.5);this.canvas.__rgraph_aa_translated__=true;}
    var RG=RGraph;var ca=this.canvas;var co=ca.getContext('2d');var prop=this.properties;this.Set=function(name,value)
{name=name.toLowerCase();if(name.substr(0,6)!='chart.'){name='chart.'+name;}
    if(name=='chart.tooltips'&&typeof value=='object'&&value){var tooltips=[];for(var i=1;i<arguments.length;i++){if(typeof(arguments[i])=='object'&&arguments[i][0]){for(var j=0;j<arguments[i].length;j++){tooltips.push(arguments[i][j]);}}else if(typeof(arguments[i])=='function'){tooltips=arguments[i];}else{tooltips.push(arguments[i]);}}
        value=tooltips;}
    if(name=='chart.linewidth'&&navigator.userAgent.match(/Chrome/)){if(value==1){value=1.01;}else if(RGraph.is_array(value)){for(var i=0;i<value.length;++i){if(typeof(value[i])=='number'&&value[i]==1){value[i]=1.01;}}}}
    if(name=='chart.xaxispos'){if(value!='bottom'&&value!='center'&&value!='top'){alert('[LINE] ('+this.id+') chart.xaxispos should be top, center or bottom. Tried to set it to: '+value+' Changing it to center');value='center';}}
    if(name=='chart.xticks'){name='chart.numxticks';}
    if(name=='chart.spline'){name='chart.curvy';}
    if(name=='chart.ylabels.invert'){name='chart.scale.invert';}
    this.properties[name]=value;return this;}
    this.Get=function(name)
    {if(name.substr(0,6)!='chart.'){name='chart.'+name;}
        if(name=='chart.spline'){name='chart.curvy';}
        return prop[name];}
    this.Draw=function()
    {if(typeof(prop['chart.background.image'])=='string'){RG.DrawBackgroundImage(this);}
        RG.FireCustomEvent(this,'onbeforedraw');if(!this.colorsParsed){this.parseColors();this.colorsParsed=true;}
        this.gutterLeft=prop['chart.gutter.left'];this.gutterRight=prop['chart.gutter.right'];this.gutterTop=prop['chart.gutter.top'];this.gutterBottom=prop['chart.gutter.bottom'];if(prop['chart.shadow']&&ISCHROME&&prop['chart.linewidth']<=1&&prop['chart.chromefix']&&prop['chart.shadow.blur']>0){alert('[RGRAPH WARNING] Chrome has a shadow bug, meaning you should increase the linewidth to at least 1.01');}
        this.data=RG.array_clone(this.original_data);this.max=0;if(prop['chart.filled']&&!prop['chart.filled.range']&&this.data.length>1&&prop['chart.filled.accumulative']){var accumulation=[];for(var set=0;set<this.data.length;++set){for(var point=0;point<this.data[set].length;++point){this.data[set][point]=Number(accumulation[point]?accumulation[point]:0)+this.data[set][point];accumulation[point]=this.data[set][point];}}}
        if(prop['chart.ymax']){this.max=prop['chart.ymax'];this.min=prop['chart.ymin']?prop['chart.ymin']:0;this.scale2=RG.getScale2(this,{'max':this.max,'min':prop['chart.ymin'],'strict':true,'scale.thousand':prop['chart.scale.thousand'],'scale.point':prop['chart.scale.point'],'scale.decimals':prop['chart.scale.decimals'],'ylabels.count':prop['chart.ylabels.count'],'scale.round':prop['chart.scale.round'],'units.pre':prop['chart.units.pre'],'units.post':prop['chart.units.post']});this.max=this.scale2.max?this.scale2.max:0;if(!prop['chart.outofbounds']){for(dataset=0;dataset<this.data.length;++dataset){for(var datapoint=0;datapoint<this.data[dataset].length;datapoint++){this.hasnegativevalues=(this.data[dataset][datapoint]<0)||this.hasnegativevalues;}}}}else{this.min=prop['chart.ymin']?prop['chart.ymin']:0;for(dataset=0;dataset<this.data.length;++dataset){for(var datapoint=0;datapoint<this.data[dataset].length;datapoint++){this.max=Math.max(this.max,this.data[dataset][datapoint]?Math.abs(parseFloat(this.data[dataset][datapoint])):0);if(!prop['chart.outofbounds']){this.hasnegativevalues=(this.data[dataset][datapoint]<0)||this.hasnegativevalues;}}}
            this.scale2=RG.getScale2(this,{'max':this.max,'min':prop['chart.ymin'],'scale.thousand':prop['chart.scale.thousand'],'scale.point':prop['chart.scale.point'],'scale.decimals':prop['chart.scale.decimals'],'ylabels.count':prop['chart.ylabels.count'],'scale.round':prop['chart.scale.round'],'units.pre':prop['chart.units.pre'],'units.post':prop['chart.units.post']});this.max=this.scale2.max?this.scale2.max:0;}
        if(prop['chart.contextmenu']){RG.ShowContext(this);}
        this.coords=[];this.coordsText=[];this.grapharea=ca.height-this.gutterTop-this.gutterBottom;this.halfgrapharea=this.grapharea/2;this.halfTextHeight=prop['chart.text.size']/2;if(prop['chart.xaxispos']=='bottom'&&this.hasnegativevalues&&!ISOPERA){alert('[LINE] You have negative values and the X axis is at the bottom. This is not good...');}
        if(prop['chart.variant']=='3d'){RG.Draw3DAxes(this);}
        RG.background.Draw(this);if(prop['chart.background.hbars']&&prop['chart.background.hbars'].length>0){RG.DrawBars(this);}
        if(prop['chart.axesontop']==false){this.DrawAxes();}
        co.save()
        co.beginPath();co.rect(0,0,ca.width*prop['chart.animation.trace.clip'],ca.height);co.clip();for(var i=0,j=0,len=this.data.length;i<len;i++,j++){co.beginPath();if(!prop['chart.filled']){this.SetShadow(i);}
        if(prop['chart.fillstyle']){if(typeof(prop['chart.fillstyle'])=='object'&&prop['chart.fillstyle'][j]){var fill=prop['chart.fillstyle'][j];}else if(typeof(prop['chart.fillstyle'])=='object'&&prop['chart.fillstyle'].toString().indexOf('Gradient')>0){var fill=prop['chart.fillstyle'];}else if(typeof(prop['chart.fillstyle'])=='string'){var fill=prop['chart.fillstyle'];}}else if(prop['chart.filled']){var fill=prop['chart.colors'][j];}else{var fill=null;}
        if(prop['chart.tickmarks']&&typeof(prop['chart.tickmarks'])=='object'){var tickmarks=prop['chart.tickmarks'][i];}else if(prop['chart.tickmarks']&&typeof(prop['chart.tickmarks'])=='string'){var tickmarks=prop['chart.tickmarks'];}else if(prop['chart.tickmarks']&&typeof(prop['chart.tickmarks'])=='function'){var tickmarks=prop['chart.tickmarks'];}else{var tickmarks=null;}
        this.DrawLine(this.data[i],prop['chart.colors'][j],fill,this.GetLineWidth(j),tickmarks,i);co.stroke();}
        if(prop['chart.filled']&&prop['chart.filled.accumulative']&&!prop['chart.curvy']){for(var i=0;i<this.coords2.length;++i){co.beginPath();co.lineWidth=this.GetLineWidth(i);co.strokeStyle=prop['chart.colors'][i];for(var j=0,len=this.coords2[i].length;j<len;++j){if(j==0||this.coords2[i][j][1]==null||(this.coords2[i][j-1]&&this.coords2[i][j-1][1]==null)){co.moveTo(this.coords2[i][j][0],this.coords2[i][j][1]);}else{if(prop['chart.stepped']){co.lineTo(this.coords2[i][j][0],this.coords2[i][j-1][1]);}
            co.lineTo(this.coords2[i][j][0],this.coords2[i][j][1]);}}
            co.stroke();}
            if(prop['chart.tickmarks']){co.beginPath();co.fillStyle='white';for(var i=0,len=this.coords2.length;i<len;++i){co.beginPath();co.strokeStyle=prop['chart.colors'][i];for(var j=0;j<this.coords2[i].length;++j){if(typeof(this.coords2[i][j])=='object'&&typeof(this.coords2[i][j][0])=='number'&&typeof(this.coords2[i][j][1])=='number'){var tickmarks=typeof(prop['chart.tickmarks'])=='object'?prop['chart.tickmarks'][i]:prop['chart.tickmarks'];this.DrawTick(this.coords2[i],this.coords2[i][j][0],this.coords2[i][j][1],co.strokeStyle,false,j==0?0:this.coords2[i][j-1][0],j==0?0:this.coords2[i][j-1][1],tickmarks,j);}}}
                co.stroke();co.fill();}}
        co.restore();co.beginPath();if(prop['chart.axesontop']){this.DrawAxes();}
        this.DrawLabels();this.DrawRange();if(prop['chart.key']&&prop['chart.key'].length&&RG.DrawKey){RG.DrawKey(this,prop['chart.key'],prop['chart.colors']);}
        if(prop['chart.labels.above']){this.DrawAboveLabels();}
        RG.DrawInGraphLabels(this);if(prop['chart.filled']&&prop['chart.filled.range']&&this.data.length==2){co.beginPath();var len=this.coords.length/2;co.lineWidth=prop['chart.linewidth'];co.strokeStyle=prop['chart.colors'][0];for(var i=0;i<len;++i){if(!RG.is_null(this.coords[i][1])){if(i==0){co.moveTo(this.coords[i][0],this.coords[i][1]);}else{co.lineTo(this.coords[i][0],this.coords[i][1]);}}}
        co.stroke();co.beginPath();if(prop['chart.colors'][1]){co.strokeStyle=prop['chart.colors'][1];}
        for(var i=this.coords.length-1;i>=len;--i){if(!RG.is_null(this.coords[i][1])){if(i==(this.coords.length-1)){co.moveTo(this.coords[i][0],this.coords[i][1]);}else{co.lineTo(this.coords[i][0],this.coords[i][1]);}}}
        co.stroke();}else if(prop['chart.filled']&&prop['chart.filled.range']){alert('[LINE] You must have only two sets of data for a filled range chart');}
        if(prop['chart.resizable']){RG.AllowResizing(this);}
        RG.InstallEventListeners(this);RG.FireCustomEvent(this,'ondraw');return this;}
    this.DrawAxes=function()
    {var RG=RGraph;var ca=this.canvas;var co=this.context;var prop=this.properties;if(prop['chart.noaxes']){return;}
        RG.NoShadow(this);co.lineWidth=prop['chart.axis.linewidth']+0.001;co.lineCap='butt';co.strokeStyle=prop['chart.axis.color'];co.beginPath();if(prop['chart.noxaxis']==false){if(prop['chart.xaxispos']=='center'){co.moveTo(this.gutterLeft,Math.round((this.grapharea/2)+this.gutterTop));co.lineTo(ca.width-this.gutterRight,Math.round((this.grapharea/2)+this.gutterTop));}else if(prop['chart.xaxispos']=='top'){co.moveTo(this.gutterLeft,this.gutterTop);co.lineTo(ca.width-this.gutterRight,this.gutterTop);}else{co.moveTo(this.gutterLeft,ca.height-this.gutterBottom);co.lineTo(ca.width-this.gutterRight,ca.height-this.gutterBottom);}}
        if(prop['chart.noyaxis']==false){if(prop['chart.yaxispos']=='left'){co.moveTo(this.gutterLeft,this.gutterTop);co.lineTo(this.gutterLeft,ca.height-this.gutterBottom);}else{co.moveTo(ca.width-this.gutterRight,this.gutterTop);co.lineTo(ca.width-this.gutterRight,ca.height-this.gutterBottom);}}
        if(prop['chart.noxaxis']==false&&prop['chart.numxticks']>0){var xTickInterval=(ca.width-this.gutterLeft-this.gutterRight)/prop['chart.numxticks'];if(!xTickInterval||xTickInterval<=0){xTickInterval=(ca.width-this.gutterLeft-this.gutterRight)/(prop['chart.labels']&&prop['chart.labels'].length?prop['chart.labels'].length-1:10);}
            for(x=this.gutterLeft+(prop['chart.yaxispos']=='left'?xTickInterval:0);x<=(ca.width-this.gutterRight+1);x+=xTickInterval){if(prop['chart.yaxispos']=='right'&&x>=(ca.width-this.gutterRight-1)){break;}
                if(prop['chart.noendxtick']){if(prop['chart.yaxispos']=='left'&&x>=(ca.width-this.gutterRight-1)){break;}else if(prop['chart.yaxispos']=='right'&&x==this.gutterLeft){continue;}}
                var yStart=prop['chart.xaxispos']=='center'?(this.gutterTop+(this.grapharea/2))-3:ca.height-this.gutterBottom;var yEnd=prop['chart.xaxispos']=='center'?yStart+6:ca.height-this.gutterBottom-(x%60==0?prop['chart.largexticks']*prop['chart.tickdirection']:prop['chart.smallxticks']*prop['chart.tickdirection']);if(prop['chart.xaxispos']=='center'){var yStart=Math.round((this.gutterTop+(this.grapharea/2)))-3;var yEnd=yStart+6;}else if(prop['chart.xaxispos']=='bottom'){var yStart=ca.height-this.gutterBottom;var yEnd=ca.height-this.gutterBottom-(x%60==0?prop['chart.largexticks']*prop['chart.tickdirection']:prop['chart.smallxticks']*prop['chart.tickdirection']);yEnd+=0;}else if(prop['chart.xaxispos']=='top'){yStart=this.gutterTop-3;yEnd=this.gutterTop;}
                co.moveTo(Math.round(x),yStart);co.lineTo(Math.round(x),yEnd);}}else if(prop['chart.noyaxis']==false&&prop['chart.numyticks']>0){if(!prop['chart.noendytick']){if(prop['chart.yaxispos']=='left'){co.moveTo(this.gutterLeft,Math.round(ca.height-this.gutterBottom));co.lineTo(this.gutterLeft-prop['chart.smallyticks'],Math.round(ca.height-this.gutterBottom));}else{co.moveTo(ca.width-this.gutterRight,Math.round(ca.height-this.gutterBottom));co.lineTo(ca.width-this.gutterRight+prop['chart.smallyticks'],Math.round(ca.height-this.gutterBottom));}}}
        var numyticks=prop['chart.numyticks'];if(prop['chart.noyaxis']==false&&numyticks>0){var counter=0;var adjustment=0;if(prop['chart.yaxispos']=='right'){adjustment=(ca.width-this.gutterLeft-this.gutterRight);}
        if(prop['chart.xaxispos']=='center'){var interval=(this.grapharea/numyticks);var lineto=(prop['chart.yaxispos']=='left'?this.gutterLeft:ca.width-this.gutterRight+prop['chart.smallyticks']);for(y=this.gutterTop;y<(this.grapharea/2)+this.gutterTop;y+=interval){if(y<(this.grapharea/2)+this.gutterTop){co.moveTo((prop['chart.yaxispos']=='left'?this.gutterLeft-prop['chart.smallyticks']:ca.width-this.gutterRight),Math.round(y));co.lineTo(lineto,Math.round(y));}}
            for(y=this.gutterTop+(this.halfgrapharea)+interval;y<=this.grapharea+this.gutterTop;y+=interval){co.moveTo((prop['chart.yaxispos']=='left'?this.gutterLeft-prop['chart.smallyticks']:ca.width-this.gutterRight),Math.round(y));co.lineTo(lineto,Math.round(y));}}else if(prop['chart.xaxispos']=='top'){var interval=(this.grapharea/numyticks);var lineto=(prop['chart.yaxispos']=='left'?this.gutterLeft:ca.width-this.gutterRight+prop['chart.smallyticks']);for(y=this.gutterTop+interval;y<=this.grapharea+this.gutterTop;y+=interval){co.moveTo((prop['chart.yaxispos']=='left'?this.gutterLeft-prop['chart.smallyticks']:ca.width-this.gutterRight),Math.round(y));co.lineTo(lineto,Math.round(y));}
            if(prop['chart.noxaxis']&&prop['chart.noendytick']==false){co.moveTo((prop['chart.yaxispos']=='left'?this.gutterLeft-prop['chart.smallyticks']:ca.width-this.gutterRight),this.gutterTop);co.lineTo(lineto,this.gutterTop);}}else{var lineto=(prop['chart.yaxispos']=='left'?this.gutterLeft-prop['chart.smallyticks']:ca.width-this.gutterRight+prop['chart.smallyticks']);for(y=this.gutterTop;y<(ca.height-this.gutterBottom)&&counter<numyticks;y+=((ca.height-this.gutterTop-this.gutterBottom)/numyticks)){co.moveTo(this.gutterLeft+adjustment,Math.round(y));co.lineTo(lineto,Math.round(y));var counter=counter+1;}}}else if(prop['chart.noxaxis']==false&&prop['chart.numxticks']>0){if(prop['chart.yaxispos']=='left'){co.moveTo(this.gutterLeft,prop['chart.xaxispos']=='top'?this.gutterTop:ca.height-this.gutterBottom);co.lineTo(this.gutterLeft,prop['chart.xaxispos']=='top'?this.gutterTop-prop['chart.smallxticks']:ca.height-this.gutterBottom+prop['chart.smallxticks']);}else{co.moveTo(ca.width-this.gutterRight,ca.height-this.gutterBottom);co.lineTo(ca.width-this.gutterRight,ca.height-this.gutterBottom+prop['chart.smallxticks']);}}
        co.stroke();}
    this.DrawLabels=function()
    {co.strokeStyle='black';co.fillStyle=prop['chart.text.color'];co.lineWidth=1;RG.NoShadow(this);var font=prop['chart.text.font'];var text_size=prop['chart.text.size'];var decimals=prop['chart.scale.decimals'];var context=co;var canvas=ca;var ymin=prop['chart.ymin'];if(prop['chart.ylabels']&&prop['chart.ylabels.specific']==null){var units_pre=prop['chart.units.pre'];var units_post=prop['chart.units.post'];var xpos=prop['chart.yaxispos']=='left'?this.gutterLeft-5:ca.width-this.gutterRight+5;var align=prop['chart.yaxispos']=='left'?'right':'left';var numYLabels=this.scale2.labels.length;var bounding=false;var bgcolor=prop['chart.ylabels.inside']?prop['chart.ylabels.inside.color']:null;if(prop['chart.ylabels.inside']==true&&align=='left'){xpos-=10;align='right';bounding=true;}else if(prop['chart.ylabels.inside']==true&&align=='right'){xpos+=10;align='left';bounding=true;}
        if(prop['chart.xaxispos']=='center'){var half=this.grapharea/2;for(var i=0;i<this.scale2.labels.length;++i){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+half-(((i+1)/numYLabels)*half),'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'text':this.scale2.labels[i],'tag':'scale'});}
            for(var i=0;i<this.scale2.labels.length;++i){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+half+(((i+1)/numYLabels)*half),'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'text':'-'+this.scale2.labels[i],'tag':'scale'});}
            if(prop['chart.noxaxis']==true||ymin!=0){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+half,'text':prop['chart.units.pre']+ymin.toFixed(decimals)+prop['chart.units.post'],'bounding':bounding,'boundingFill':bgcolor,'valign':'center','halign':align,'tag':'scale'});}}else if(prop['chart.xaxispos']=='top'){var half=this.grapharea/2;if(prop['chart.scale.invert']){for(var i=0;i<this.scale2.labels.length;++i){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+((i/this.scale2.labels.length)*this.grapharea),'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'text':'-'+this.scale2.labels[this.scale2.labels.length-(i+1)],'tag':'scale'});}}else{for(var i=0;i<this.scale2.labels.length;++i){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+(((i+1)/numYLabels)*this.grapharea),'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'text':'-'+this.scale2.labels[i],'tag':'scale'});}}
            if((prop['chart.ymin']!=0||prop['chart.noxaxis'])||prop['chart.scale.invert']){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':prop['chart.scale.invert']?ca.height-this.gutterBottom:this.gutterTop,'text':(prop['chart.ymin']!=0?'-':'')+RG.number_format(this,prop['chart.ymin'].toFixed(decimals),units_pre,units_post),'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'tag':'scale'});}}else{if(prop['chart.scale.invert']){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop,'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'text':RG.number_format(this,this.min.toFixed(prop['chart.scale.decimals']),units_pre,units_post),'tag':'scale'});for(var i=0,len=this.scale2.labels.length;i<len;++i){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+(((i+1)/this.scale2.labels.length)*this.grapharea),'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'text':this.scale2.labels[i],'tag':'scale'});}}else{for(var i=0,len=this.scale2.labels.length;i<len;++i){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+((i/this.scale2.labels.length)*this.grapharea),'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'text':this.scale2.labels[this.scale2.labels.length-(i+1)],'tag':'scale'});}}
            if((prop['chart.ymin']!=0&&!prop['chart.scale.invert'])||prop['chart.noxaxis']){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':prop['chart.scale.invert']?this.gutterTop:ca.height-this.gutterBottom,'text':RG.number_format(this,prop['chart.ymin'].toFixed(prop['chart.scale.decimals']),units_pre,units_post),'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'tag':'scale'});}}
        if(prop['chart.noxaxis']==true&&prop['chart.ymin']==null&&prop['chart.xaxispos']!='center'&&prop['chart.noendytick']==false){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':prop['chart.xaxispos']=='top'?this.gutterTop:(ca.height-this.gutterBottom),'text':prop['chart.units.pre']+(0).toFixed(prop['chart.scale.decimals'])+prop['chart.units.post'],'valign':'center','halign':align,'bounding':bounding,'boundingFill':bgcolor,'tag':'scale'});}}else if(prop['chart.ylabels']&&typeof(prop['chart.ylabels.specific'])=='object'){var gap=this.grapharea/prop['chart.ylabels.specific'].length;var halign=prop['chart.yaxispos']=='left'?'right':'left';var bounding=false;var bgcolor=null;var ymin=prop['chart.ymin']!=null&&prop['chart.ymin'];if(prop['chart.yaxispos']=='left'){var x=this.gutterLeft-5;if(prop['chart.ylabels.inside']){x+=10;halign='left';bounding=true;bgcolor='rgba(255,255,255,0.5)';}}else if(prop['chart.yaxispos']=='right'){var x=ca.width-this.gutterRight+5;if(prop['chart.ylabels.inside']){x-=10;halign='right';bounding=true;bgcolor='rgba(255,255,255,0.5)';}}
        if(prop['chart.xaxispos']=='center'){for(var i=0;i<prop['chart.ylabels.specific'].length;++i){var y=this.gutterTop+(this.grapharea/(((prop['chart.ylabels.specific'].length-1))*2)*i);if(ymin&&ymin>0){var y=((this.grapharea/2)/(prop['chart.ylabels.specific'].length-(ymin?1:0)))*i;y+=this.gutterTop;}
            RG.Text2(this,{'font':font,'size':text_size,'x':x,'y':y,'text':String(prop['chart.ylabels.specific'][i]),'valign':'center','halign':halign,'bounding':bounding,'boundingFill':bgcolor,'tag':'ylabels.specific'});}
            var reversed_labels=RG.array_reverse(prop['chart.ylabels.specific']);for(var i=0;i<reversed_labels.length;++i){var y=(this.grapharea/2)+this.gutterTop+((this.grapharea/((reversed_labels.length-1)*2))*i);RG.Text2(this,{'font':font,'size':text_size,'x':x,'y':y,'text':i==0?'':String(reversed_labels[i]),'valign':'center','halign':halign,'bounding':bounding,'boundingFill':bgcolor,'tag':'ylabels.specific'});}}else if(prop['chart.xaxispos']=='top'){var reversed_labels=RG.array_reverse(prop['chart.ylabels.specific']);for(var i=0;i<reversed_labels.length;++i){var y=(this.grapharea/(reversed_labels.length-1))*i;y=y+this.gutterTop;RG.Text2(this,{'font':font,'size':text_size,'x':x,'y':y,'text':String(reversed_labels[i]),'valign':'center','halign':halign,'bounding':bounding,'boundingFill':bgcolor,'tag':'ylabels.specific'});}}else{for(var i=0;i<prop['chart.ylabels.specific'].length;++i){var y=this.gutterTop+((this.grapharea/(prop['chart.ylabels.specific'].length-1))*i);RG.Text2(this,{'font':font,'size':text_size,'x':x,'y':y,'text':String(prop['chart.ylabels.specific'][i]),'valign':'center','halign':halign,'bounding':bounding,'boundingFill':bgcolor,'tag':'ylabels.specific'});}}}
        if(prop['chart.labels']&&prop['chart.labels'].length>0){var yOffset=5;var bordered=false;var bgcolor=null;var angle=0;var valign='top';var halign='center';if(prop['chart.xlabels.inside']){yOffset=-5;bordered=true;bgcolor=prop['chart.xlabels.inside.color'];valign='bottom';}
            if(prop['chart.xaxispos']=='top'){valign='bottom';yOffset+=2;}
            if(typeof(prop['chart.text.angle'])=='number'&&prop['chart.text.angle']>0){angle=-1*prop['chart.text.angle'];valign='center';halign='right';yOffset=10;if(prop['chart.xaxispos']=='top'){yOffset=10;}}
            co.fillStyle=prop['chart.text.color'];var numLabels=prop['chart.labels'].length;for(i=0;i<numLabels;++i){if(prop['chart.labels'][i]){var labelX=((ca.width-this.gutterLeft-this.gutterRight-(2*prop['chart.hmargin']))/(numLabels-1))*i;labelX+=this.gutterLeft+prop['chart.hmargin'];if(prop['chart.labels'].length!=this.data[0].length){labelX=this.gutterLeft+prop['chart.hmargin']+((ca.width-this.gutterLeft-this.gutterRight-(2*prop['chart.hmargin']))*(i/(prop['chart.labels'].length-1)));}
                if(!labelX){labelX=this.gutterLeft+prop['chart.hmargin'];}
                if(prop['chart.xaxispos']=='top'&&prop['chart.text.angle']>0){halign='left';}
                if(prop['chart.text.angle']!=0){halign='right';}
                RG.Text2(this,{'font':font,'size':text_size,'x':labelX,'y':(prop['chart.xaxispos']=='top')?this.gutterTop-yOffset-(prop['chart.xlabels.inside']?-22:0):(ca.height-this.gutterBottom)+yOffset,'text':String(prop['chart.labels'][i]),'valign':valign,'halign':halign,'bounding':bordered,'boundingFill':bgcolor,'angle':angle,'tag':'labels'});}}}
        co.stroke();co.fill();}
    this.DrawLine=function(lineData,color,fill,linewidth,tickmarks,index)
    {var ca=this.canvas;var co=this.context;var prop=this.properties;if(prop['chart.animation.unfold.y']&&prop['chart.animation.factor']!=1){for(var i=0;i<lineData.length;++i){lineData[i]*=prop['chart.animation.factor'];}}
        var penUp=false;var yPos=null;var xPos=0;co.lineWidth=1;var lineCoords=[];if(index>0){var prevLineCoords=this.coords2[index-1];}
        var xInterval=(ca.width-(2*prop['chart.hmargin'])-this.gutterLeft-this.gutterRight)/(lineData.length-1);for(i=0;i<lineData.length;i++){var data_point=lineData[i];var yPos=this.getYCoord(data_point);if(lineData[i]==null||(prop['chart.xaxispos']=='bottom'&&lineData[i]<this.min&&!prop['chart.outofbounds'])||(prop['chart.xaxispos']=='center'&&lineData[i]<(-1*this.max)&&!prop['chart.outofbounds'])){yPos=null;}
        co.lineCap='round';co.lineJoin='round';if(i>0){xPos=xPos+xInterval;}else{xPos=prop['chart.hmargin']+this.gutterLeft;}
        if(prop['chart.animation.unfold.x']){xPos*=prop['chart.animation.factor'];if(xPos<prop['chart.gutter.left']){xPos=prop['chart.gutter.left'];}}
        this.coords.push([xPos,yPos]);lineCoords.push([xPos,yPos]);}
        co.stroke();this.coords2[index]=lineCoords;if(ISOLD&&prop['chart.shadow']){this.DrawIEShadow(lineCoords,co.shadowColor);}
        co.beginPath();co.strokeStyle='rgba(0,0,0,0)';if(fill){co.fillStyle=fill;}
        var isStepped=prop['chart.stepped'];var isFilled=prop['chart.filled'];if(prop['chart.xaxispos']=='top'){var xAxisPos=this.gutterTop;}else if(prop['chart.xaxispos']=='center'){var xAxisPos=this.gutterTop+(this.grapharea/2);}else if(prop['chart.xaxispos']=='bottom'){var xAxisPos=ca.height-this.gutterBottom;}
        for(var i=0;i<lineCoords.length;++i){xPos=lineCoords[i][0];yPos=lineCoords[i][1];var set=index;var prevY=(lineCoords[i-1]?lineCoords[i-1][1]:null);var isLast=(i+1)==lineCoords.length;if(prevY<this.gutterTop||prevY>(ca.height-this.gutterBottom)){penUp=true;}
            if(i==0||penUp||!yPos||!prevY||prevY<this.gutterTop){if(prop['chart.filled']&&!prop['chart.filled.range']){co.moveTo(xPos+1,xAxisPos);if(prop['chart.xaxispos']=='top'){co.moveTo(xPos+1,xAxisPos);}
                co.lineTo(xPos,yPos);}else{if(ISOLD&&yPos==null){}else{co.moveTo(xPos+1,yPos);}}
                if(yPos==null){penUp=true;}else{penUp=false;}}else{if(isStepped){co.lineTo(xPos,lineCoords[i-1][1]);}
                if((yPos>=this.gutterTop&&yPos<=(ca.height-this.gutterBottom))||prop['chart.outofbounds']){if(isLast&&prop['chart.filled']&&!prop['chart.filled.range']&&prop['chart.yaxispos']=='right'){xPos-=1;}
                    if(!isStepped||!isLast){co.lineTo(xPos,yPos);if(isFilled&&lineCoords[i+1]&&lineCoords[i+1][1]==null){co.lineTo(xPos,xAxisPos);}}else if(isStepped&&isLast){co.lineTo(xPos,yPos);}
                    penUp=false;}else{penUp=true;}}}
        if(prop['chart.filled']&&!prop['chart.filled.range']&&!prop['chart.curvy']){var fillStyle=prop['chart.fillstyle'];if(index>0&&prop['chart.filled.accumulative']){co.lineTo(xPos,prevLineCoords?prevLineCoords[i-1][1]:(ca.height-this.gutterBottom-1+(prop['chart.xaxispos']=='center'?(ca.height-this.gutterTop-this.gutterBottom)/2:0)));for(var k=(i-1);k>=0;--k){co.lineTo(k==0?prevLineCoords[k][0]+1:prevLineCoords[k][0],prevLineCoords[k][1]);}}else{if(prop['chart.xaxispos']=='top'){co.lineTo(xPos,prop['chart.gutter.top']+1);co.lineTo(lineCoords[0][0],prop['chart.gutter.top']+1);}else if(typeof(lineCoords[i-1][1])=='number'){var yPosition=prop['chart.xaxispos']=='center'?((ca.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop:ca.height-this.gutterBottom;co.lineTo(xPos,yPosition);co.lineTo(lineCoords[0][0],yPosition);}}
            co.fillStyle=fill;co.fill();co.beginPath();}
        if(ISCHROME&&prop['chart.shadow']&&prop['chart.chromefix']&&prop['chart.shadow.blur']>0){for(var i=lineCoords.length-1;i>=0;--i){if(typeof(lineCoords[i][1])!='number'||(typeof(lineCoords[i+1])=='object'&&typeof(lineCoords[i+1][1])!='number')){co.moveTo(lineCoords[i][0],lineCoords[i][1]);}else{co.lineTo(lineCoords[i][0],lineCoords[i][1]);}}}
        co.stroke();if(prop['chart.backdrop']){this.DrawBackdrop(lineCoords,color);}
        co.save()
        co.beginPath();co.rect(0,0,ca.width*prop['chart.animation.trace.clip'],ca.height);co.clip();this.SetShadow(index);this.RedrawLine(lineCoords,color,linewidth);co.stroke();RG.NoShadow(this);for(var i=0;i<lineCoords.length;++i){i=Number(i);co.strokeStyle=color;if(isStepped&&i==(lineCoords.length-1)){co.beginPath();}
        if((tickmarks!='endcircle'&&tickmarks!='endsquare'&&tickmarks!='filledendsquare'&&tickmarks!='endtick'&&tickmarks!='endtriangle'&&tickmarks!='arrow'&&tickmarks!='filledarrow')||(i==0&&tickmarks!='arrow'&&tickmarks!='filledarrow')||i==(lineCoords.length-1)){var prevX=(i<=0?null:lineCoords[i-1][0]);var prevY=(i<=0?null:lineCoords[i-1][1]);this.DrawTick(lineData,lineCoords[i][0],lineCoords[i][1],color,false,prevX,prevY,tickmarks,i);}}
        co.restore();co.beginPath();co.arc(ca.width+50000,ca.height+50000,2,0,6.38,1);}
    this.DrawTick=function(lineData,xPos,yPos,color,isShadow,prevX,prevY,tickmarks,index)
    {if(!prop['chart.line.visible']){return;}else if(RG.is_null(yPos)){return;}else if((yPos>(ca.height-this.gutterBottom))&&!prop['chart.outofbounds']){return;}else if((yPos<this.gutterTop)&&!prop['chart.outofbounds']){return;}
        co.beginPath();var offset=0;co.lineWidth=prop['chart.tickmarks.linewidth']?prop['chart.tickmarks.linewidth']:prop['chart.linewidth'];co.strokeStyle=isShadow?prop['chart.shadow.color']:co.strokeStyle;co.fillStyle=isShadow?prop['chart.shadow.color']:co.strokeStyle;if(tickmarks=='circle'||tickmarks=='filledcircle'||tickmarks=='endcircle'){if(tickmarks=='circle'||tickmarks=='filledcircle'||(tickmarks=='endcircle'&&(index==0||index==(lineData.length-1)))){co.beginPath();co.arc(xPos+offset,yPos+offset,prop['chart.ticksize'],0,360/(180/PI),false);if(tickmarks=='filledcircle'){co.fillStyle=isShadow?prop['chart.shadow.color']:co.strokeStyle;}else{co.fillStyle=isShadow?prop['chart.shadow.color']:'white';}
        co.stroke();co.fill();}}else if(tickmarks=='halftick'){co.beginPath();co.moveTo(Math.round(xPos),yPos);co.lineTo(Math.round(xPos),yPos+prop['chart.ticksize']);co.stroke();}else if(tickmarks=='tick'){co.beginPath();co.moveTo(Math.round(xPos),yPos-prop['chart.ticksize']);co.lineTo(Math.round(xPos),yPos+prop['chart.ticksize']);co.stroke();}else if(tickmarks=='endtick'&&(index==0||index==(lineData.length-1))){co.beginPath();co.moveTo(Math.round(xPos),yPos-prop['chart.ticksize']);co.lineTo(Math.round(xPos),yPos+prop['chart.ticksize']);co.stroke();}else if(tickmarks=='cross'){co.beginPath();var ticksize=prop['chart.ticksize'];co.moveTo(xPos-ticksize,yPos-ticksize);co.lineTo(xPos+ticksize,yPos+ticksize);co.moveTo(xPos+ticksize,yPos-ticksize);co.lineTo(xPos-ticksize,yPos+ticksize);co.stroke();}else if(tickmarks=='triangle'||tickmarks=='filledtriangle'||(tickmarks=='endtriangle'&&(index==0||index==(lineData.length-1)))){co.beginPath();if(tickmarks=='filledtriangle'){co.fillStyle=isShadow?prop['chart.shadow.color']:co.strokeStyle;}else{co.fillStyle='white';}
        co.moveTo(Math.round(xPos-prop['chart.ticksize']),yPos+prop['chart.ticksize']);co.lineTo(Math.round(xPos),yPos-prop['chart.ticksize']);co.lineTo(Math.round(xPos+prop['chart.ticksize']),yPos+prop['chart.ticksize']);co.closePath();co.stroke();co.fill();}else if(tickmarks=='borderedcircle'||tickmarks=='dot'){co.lineWidth=1;co.strokeStyle=prop['chart.tickmarks.dot.color'];co.fillStyle=prop['chart.tickmarks.dot.color'];co.beginPath();co.arc(xPos,yPos,prop['chart.ticksize'],0,360/(180/PI),false);co.closePath();co.fill();co.stroke();co.beginPath();co.fillStyle=color;co.strokeStyle=color;co.arc(xPos,yPos,prop['chart.ticksize']-2,0,360/(180/PI),false);co.closePath();co.fill();co.stroke();}else if(tickmarks=='square'||tickmarks=='filledsquare'||(tickmarks=='endsquare'&&(index==0||index==(lineData.length-1)))||(tickmarks=='filledendsquare'&&(index==0||index==(lineData.length-1)))){co.fillStyle='white';co.strokeStyle=co.strokeStyle;co.beginPath();co.rect(Math.round(xPos-prop['chart.ticksize']),Math.round(yPos-prop['chart.ticksize']),prop['chart.ticksize']*2,prop['chart.ticksize']*2);if(tickmarks=='filledsquare'||tickmarks=='filledendsquare'){co.fillStyle=isShadow?prop['chart.shadow.color']:co.strokeStyle;co.rect(Math.round(xPos-prop['chart.ticksize']),Math.round(yPos-prop['chart.ticksize']),prop['chart.ticksize']*2,prop['chart.ticksize']*2);}else if(tickmarks=='square'||tickmarks=='endsquare'){co.fillStyle=isShadow?prop['chart.shadow.color']:'white';co.rect(Math.round((xPos-prop['chart.ticksize'])+1),Math.round((yPos-prop['chart.ticksize'])+1),(prop['chart.ticksize']*2)-2,(prop['chart.ticksize']*2)-2);}
        co.stroke();co.fill();}else if(tickmarks=='filledarrow'){var x=Math.abs(xPos-prevX);var y=Math.abs(yPos-prevY);if(yPos<prevY){var a=Math.atan(x/y)+1.57;}else{var a=Math.atan(y/x)+3.14;}
        co.beginPath();co.moveTo(Math.round(xPos),Math.round(yPos));co.arc(Math.round(xPos),Math.round(yPos),7,a-0.5,a+0.5,false);co.closePath();co.stroke();co.fill();}else if(tickmarks=='arrow'){var orig_linewidth=co.lineWidth;var x=Math.abs(xPos-prevX);var y=Math.abs(yPos-prevY);co.lineWidth;if(yPos<prevY){var a=Math.atan(x/y)+1.57;}else{var a=Math.atan(y/x)+3.14;}
        co.beginPath();co.moveTo(Math.round(xPos),Math.round(yPos));co.arc(Math.round(xPos),Math.round(yPos),7,a-0.5-(document.all?0.1:0.01),a-0.4,false);co.moveTo(Math.round(xPos),Math.round(yPos));co.arc(Math.round(xPos),Math.round(yPos),7,a+0.5+(document.all?0.1:0.01),a+0.5,true);co.stroke();co.fill();co.lineWidth=orig_linewidth;}else if(typeof(tickmarks)=='function'){tickmarks(this,lineData,lineData[index],index,xPos,yPos,color,prevX,prevY);}}
    this.DrawRange=function()
    {var RG=RGraph;var ca=this.canvas;var co=this.context;var prop=this.properties;if(prop['chart.filled.range']&&prop['chart.filled']&&prop['chart.line.visible']){if(RG.is_null(prop['chart.filled.range.threshold'])){prop['chart.filled.range.threshold']=this.ymin
        prop['chart.filled.range.threshold.colors']=[prop['chart.fillstyle'],prop['chart.fillstyle']]}
        for(var idx=0;idx<2;++idx){var threshold_colors=prop['chart.filled.range.threshold.colors'];var y=this.getYCoord(prop['chart.filled.range.threshold'])
            co.save();if(idx==0){co.beginPath();co.rect(0,0,ca.width,y);co.clip();}else{co.beginPath();co.rect(0,y,ca.width,ca.height);co.clip();}
            co.beginPath();co.fillStyle=(idx==1?prop['chart.filled.range.threshold.colors'][1]:prop['chart.filled.range.threshold.colors'][0]);co.lineWidth=1;var len=(this.coords.length/2);for(var i=0;i<len;++i){if(!RG.is_null(this.coords[i][1])){if(i==0){co.moveTo(this.coords[i][0],this.coords[i][1])}else{co.lineTo(this.coords[i][0],this.coords[i][1])}}}
            for(var i=this.coords.length-1;i>=len;--i){if(RG.is_null(this.coords[i][1])){co.moveTo(this.coords[i][0],this.coords[i][1])}else{co.lineTo(this.coords[i][0],this.coords[i][1])}}
            co.fill();co.restore();}}}
    this.RedrawLine=function(coords,color,linewidth)
    {var ca=this.canvas;var co=this.context;var prop=this.properties;if(prop['chart.noredraw']||prop['chart.filled.range']){return;}
        co.strokeStyle=(typeof(color)=='object'&&color&&color.toString().indexOf('CanvasGradient')==-1?color[0]:color);co.lineWidth=linewidth;if(!prop['chart.line.visible']){co.strokeStyle='rgba(0,0,0,0)';}
        if(!ISOLD&&(prop['chart.curvy']||prop['chart.spline'])){this.DrawCurvyLine(coords,!prop['chart.line.visible']?'rgba(0,0,0,0)':color,linewidth);return;}
        co.beginPath();var len=coords.length;var width=ca.width
        var height=ca.height;var penUp=false;for(var i=0;i<len;++i){var xPos=coords[i][0];var yPos=coords[i][1];if(i>0){var prevX=coords[i-1][0];var prevY=coords[i-1][1];}
        if(((i==0&&coords[i])||(yPos<this.gutterTop)||(prevY<this.gutterTop)||(yPos>(height-this.gutterBottom))||(i>0&&prevX>(width-this.gutterRight))||(i>0&&prevY>(height-this.gutterBottom))||prevY==null||penUp==true)&&(!prop['chart.outofbounds']||yPos==null||prevY==null)){if(ISOLD&&yPos==null){}else{co.moveTo(coords[i][0],coords[i][1]);}
            penUp=false;}else{if(prop['chart.stepped']&&i>0){co.lineTo(coords[i][0],coords[i-1][1]);}
            co.lineTo(coords[i][0],coords[i][1]);penUp=false;}}
        if(prop['chart.colors.alternate']&&typeof(color)=='object'&&color[0]&&color[1]){for(var i=1;i<len;++i){var prevX=coords[i-1][0];var prevY=coords[i-1][1];if(prevY!=null&&coords[i][1]!=null){co.beginPath();co.strokeStyle=color[coords[i][1]<prevY?0:1];co.lineWidth=prop['chart.linewidth'];co.moveTo(prevX,prevY);co.lineTo(coords[i][0],coords[i][1]);co.stroke();}}}}
    this.DrawIEShadow=function(coords,color)
    {var ca=this.canvas;var co=this.context;var prop=this.properties;var offsetx=prop['chart.shadow.offsetx'];var offsety=prop['chart.shadow.offsety'];co.lineWidth=prop['chart.linewidth'];co.strokeStyle=color;co.beginPath();for(var i=0;i<coords.length;++i){if(i==0){co.moveTo(coords[i][0]+offsetx,coords[i][1]+offsety);}else{co.lineTo(coords[i][0]+offsetx,coords[i][1]+offsety);}}
        co.stroke();}
    this.DrawBackdrop=function(coords,color)
    {var ca=this.canvas;var co=this.context;var prop=this.properties;var size=prop['chart.backdrop.size'];co.lineWidth=size;co.globalAlpha=prop['chart.backdrop.alpha'];co.strokeStyle=color;var yCoords=[];co.beginPath();if(prop['chart.curvy']&&!ISOLD){for(var i=0;i<coords.length;++i){yCoords.push(coords[i][1])}
        this.DrawSpline(co,yCoords,color);}else{co.moveTo(coords[0][0],coords[0][1]);for(var j=1;j<coords.length;++j){co.lineTo(coords[j][0],coords[j][1]);}}
        co.stroke();co.globalAlpha=1;RG.NoShadow(this);}
    this.GetLineWidth=function(i)
    {var linewidth=prop['chart.linewidth'];if(typeof(linewidth)=='number'){return linewidth;}else if(typeof(linewidth)=='object'){if(linewidth[i]){return linewidth[i];}else{return linewidth[0];}
        alert('[LINE] Error! chart.linewidth should be a single number or an array of one or more numbers');}}
    this.getShape=this.getPoint=function(e)
    {var obj=this;var RG=RGraph;var ca=canvas=e.target;var co=context=this.context;var prop=this.properties;var mouseXY=RG.getMouseXY(e);var mouseX=mouseXY[0];var mouseY=mouseXY[1];if(arguments[1]){obj=arguments[1];}
        for(var i=0;i<obj.coords.length;++i){var x=obj.coords[i][0];var y=obj.coords[i][1];if(mouseX<=(x+prop['chart.tooltips.hotspot.size'])&&mouseX>=(x-prop['chart.tooltips.hotspot.size'])&&mouseY<=(y+prop['chart.tooltips.hotspot.size'])&&mouseY>=(y-prop['chart.tooltips.hotspot.size'])){if(RG.parseTooltipText){var tooltip=RG.parseTooltipText(prop['chart.tooltips'],i);}
            var dataset=0;var idx=i;while((idx+1)>this.data[dataset].length){idx-=this.data[dataset].length;dataset++;}
            return{0:obj,1:x,2:y,3:i,'object':obj,'x':x,'y':y,'index':i,'tooltip':tooltip,'dataset':dataset,'index_adjusted':idx};}else if(prop['chart.tooltips.hotspot.xonly']==true&&mouseX<=(x+prop['chart.tooltips.hotspot.size'])&&mouseX>=(x-prop['chart.tooltips.hotspot.size'])){var tooltip=RG.parseTooltipText(prop['chart.tooltips'],i);return{0:obj,1:x,2:y,3:i,'object':obj,'x':x,'y':y,'index':i,'tooltip':tooltip};}}}
    this.DrawAboveLabels=function()
    {var RG=RGraph;var ca=this.canvas;var co=this.context;var prop=this.properties;var context=co;var size=prop['chart.labels.above.size'];var font=prop['chart.text.font'];var units_pre=prop['chart.units.pre'];var units_post=prop['chart.units.post'];co.beginPath();for(var i=0,len=this.coords.length;i<len;++i){var coords=this.coords[i];RG.Text2(this,{'font':font,'size':size,'x':coords[0],'y':coords[1]-5-size,'text':RG.number_format(this,this.data_arr[i],units_pre,units_post),'valign':'center','halign':'center','bounding':true,'boundingFill':'white','tag':'labels.above'});}
        co.fill();}
    this.DrawCurvyLine=function(coords,color,linewidth)
    {var ca=this.canvas;var co=this.context;var prop=this.properties;if(ISOLD){return;}
        var yCoords=[];for(var i=0;i<coords.length;++i){yCoords.push(coords[i][1])}
        if(prop['chart.filled']){co.beginPath();co.moveTo(coords[0][0],ca.height-this.gutterBottom);this.DrawSpline(co,yCoords,color);co.lineTo(coords[coords.length-1][0],ca.height-this.gutterBottom);co.fill();}
        co.beginPath();this.DrawSpline(co,yCoords,color);co.stroke();}
    this.getValue=function(arg)
    {if(arg.length==2){var mouseX=arg[0];var mouseY=arg[1];}else{var mouseCoords=RG.getMouseXY(arg);var mouseX=mouseCoords[0];var mouseY=mouseCoords[1];}
        var obj=this;var xaxispos=prop['chart.xaxispos'];if(mouseY<prop['chart.gutter.top']){return xaxispos=='bottom'||xaxispos=='center'?this.max:this.min;}else if(mouseY>(ca.height-prop['chart.gutter.bottom'])){return xaxispos=='bottom'?this.min:this.max;}
        if(prop['chart.xaxispos']=='center'){var value=(((obj.grapharea/2)-(mouseY-prop['chart.gutter.top']))/obj.grapharea)*(obj.max-obj.min);value*=2;value>0?value+=this.min:value-=this.min;return value;}else if(prop['chart.xaxispos']=='top'){var value=((obj.grapharea-(mouseY-prop['chart.gutter.top']))/obj.grapharea)*(obj.max-obj.min);value=Math.abs(obj.max-value)*-1;return value;}else{var value=((obj.grapharea-(mouseY-prop['chart.gutter.top']))/obj.grapharea)*(obj.max-obj.min)
            value+=obj.min;return value;}}
    this.Highlight=function(shape)
    {if(prop['chart.tooltips.highlight']){RG.Highlight.Point(this,shape);}}
    this.getObjectByXY=function(e)
    {var ca=this.canvas;var prop=this.properties;var mouseXY=RG.getMouseXY(e);if((mouseXY[0]>prop['chart.gutter.left']-5)&&mouseXY[0]<(ca.width-prop['chart.gutter.right']+5)&&mouseXY[1]>(prop['chart.gutter.top']-5)&&mouseXY[1]<(ca.height-prop['chart.gutter.bottom']+5)){return this;}}
    this.Adjusting_mousemove=function(e)
    {if(prop['chart.adjustable']&&RG.Registry.Get('chart.adjusting')&&RG.Registry.Get('chart.adjusting').uid==this.uid){var value=Number(this.getValue(e));var shape=RG.Registry.Get('chart.adjusting.shape');if(shape){RG.Registry.Set('chart.adjusting.shape',shape);this.original_data[shape['dataset']][shape['index_adjusted']]=Number(value);RG.RedrawCanvas(e.target);RG.FireCustomEvent(this,'onadjust');}}}
    this.getYCoord=function(value)
    {var ca=this.canvas;var co=this.context;var prop=this.properties;if(typeof(value)!='number'){return null;}
        var y;var xaxispos=prop['chart.xaxispos'];if(xaxispos=='top'){if(value<0){value=Math.abs(value);}
        y=((value-this.min)/(this.max-this.min))*this.grapharea;if(prop['chart.scale.invert']){y=this.grapharea-y;}
        y=y+this.gutterTop}else if(xaxispos=='center'){y=((value-this.min)/(this.max-this.min))*(this.grapharea/2);y=(this.grapharea/2)-y;y+=this.gutterTop;}else{if((value<this.min||value>this.max)&&prop['chart.outofbounds']==false){return null;}
        y=((value-this.min)/(this.max-this.min))*this.grapharea;if(prop['chart.scale.invert']){y=this.grapharea-y;}
        y=ca.height-this.gutterBottom-y;}
        return y;}
    this.positionTooltip=function(obj,x,y,tooltip,idx)
    {var ca=obj.canvas;var co=obj.context;var prop=obj.properties;var coordX=obj.coords[tooltip.__index__][0];var coordY=obj.coords[tooltip.__index__][1];var canvasXY=RG.getCanvasXY(obj.canvas);var gutterLeft=prop['chart.gutter.left'];var gutterTop=prop['chart.gutter.top'];var width=tooltip.offsetWidth;tooltip.style.left=0;tooltip.style.top=parseInt(tooltip.style.top)-9+'px';tooltip.style.overflow='';var img=new Image();img.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC';img.style.position='absolute';img.id='__rgraph_tooltip_pointer__';img.style.top=(tooltip.offsetHeight-2)+'px';tooltip.appendChild(img);if((canvasXY[0]+coordX-(width/2))<10){tooltip.style.left=(canvasXY[0]+coordX-(width*0.2))+'px';img.style.left=((width*0.2)-8.5)+'px';}else if((canvasXY[0]+coordX+(width/2))>document.body.offsetWidth){tooltip.style.left=canvasXY[0]+coordX-(width*0.8)+'px';img.style.left=((width*0.8)-8.5)+'px';}else{tooltip.style.left=(canvasXY[0]+coordX-(width*0.5))+'px';img.style.left=((width*0.5)-8.5)+'px';}}
    this.DrawSpline=function(context,coords,color)
    {var co=context;var ca=co.canvas;var prop=this.properties;var xCoords=[];var gutterLeft=prop['chart.gutter.left'];var gutterRight=prop['chart.gutter.right'];var hmargin=prop['chart.hmargin'];var interval=(ca.width-(gutterLeft+gutterRight)-(2*hmargin))/(coords.length-1);co.strokeStyle=color;coords.forEach(function(value,idx,arr)
    {if(typeof value=='object'&&value&&value.length==2){arr[idx]=Number(value[1]);}});var P=[coords[0]];for(var i=0;i<coords.length;++i){P.push(coords[i]);}
        P.push(coords[coords.length-1]+(coords[coords.length-1]-coords[coords.length-2]));for(var j=1;j<P.length-2;++j){for(var t=0;t<10;++t){var yCoord=Spline(t/10,P[j-1],P[j],P[j+1],P[j+2]);xCoords.push(((j-1)*interval)+(t*(interval/10))+gutterLeft+hmargin);co.lineTo(xCoords[xCoords.length-1],yCoord);}}
        co.lineTo(((j-1)*interval)+gutterLeft+hmargin,P[j]);function Spline(t,P0,P1,P2,P3)
    {return 0.5*((2*P1)+
        ((0-P0)+P2)*t+
        ((2*P0-(5*P1)+(4*P2)-P3)*(t*t)+
            ((0-P0)+(3*P1)-(3*P2)+P3)*(t*t*t)));}}
    this.parseColors=function()
    {var prop=this.properties;for(var i=0;i<prop['chart.colors'].length;++i){if(typeof(prop['chart.colors'][i])=='object'&&prop['chart.colors'][i][0]&&prop['chart.colors'][i][1]){prop['chart.colors'][i][0]=this.parseSingleColorForGradient(prop['chart.colors'][i][0]);prop['chart.colors'][i][1]=this.parseSingleColorForGradient(prop['chart.colors'][i][1]);}else{prop['chart.colors'][i]=this.parseSingleColorForGradient(prop['chart.colors'][i]);}}
        if(prop['chart.fillstyle']){if(typeof(prop['chart.fillstyle'])=='string'){prop['chart.fillstyle']=this.parseSingleColorForGradient(prop['chart.fillstyle'],'vertical');}else{for(var i=0;i<prop['chart.fillstyle'].length;++i){prop['chart.fillstyle'][i]=this.parseSingleColorForGradient(prop['chart.fillstyle'][i],'vertical');}}}
        if(!RG.is_null(prop['chart.key.colors'])){for(var i=0;i<prop['chart.key.colors'].length;++i){prop['chart.key.colors'][i]=this.parseSingleColorForGradient(prop['chart.key.colors'][i]);}}
        var properties=['chart.background.barcolor1','chart.background.barcolor2','chart.background.grid.color','chart.text.color','chart.crosshairs.color','chart.annotate.color','chart.title.color','chart.title.yaxis.color','chart.key.background','chart.axis.color','chart.highlight.fill'];for(var i=0;i<properties.length;++i){prop[properties[i]]=this.parseSingleColorForGradient(prop[properties[i]]);}}
    this.parseSingleColorForGradient=function(color)
    {var RG=RGraph;var ca=this.canvas;var co=this.context;if(!color||typeof(color)!='string'){return color;}
        var dir=typeof(arguments[1])=='string'?arguments[1]:'horizontal';if(color.match(/^gradient\((.*)\)$/i)){var parts=RegExp.$1.split(':');if(dir=='horizontal'){var grad=co.createLinearGradient(0,0,ca.width,0);}else{var grad=co.createLinearGradient(0,0,0,ca.height);}
        var diff=1/(parts.length-1);grad.addColorStop(0,RG.trim(parts[0]));for(var j=1;j<parts.length;++j){grad.addColorStop(j*diff,RG.trim(parts[j]));}}
        return grad?grad:color;}
    this.SetShadow=function(i)
    {var ca=this.canvas;var co=this.context;var prop=this.properties;if(prop['chart.shadow']){var shadowColor=prop['chart.shadow.color'];if(typeof(shadowColor)=='object'&&shadowColor[i-1]){co.shadowColor=shadowColor[i];}else if(typeof(shadowColor)=='object'){co.shadowColor=shadowColor[0];}else if(typeof(shadowColor)=='string'){co.shadowColor=shadowColor;}
        co.shadowBlur=prop['chart.shadow.blur'];co.shadowOffsetX=prop['chart.shadow.offsetx'];co.shadowOffsetY=prop['chart.shadow.offsety'];}}
    this.interactiveKeyHighlight=function(index)
    {var coords=this.coords2[index];if(coords){var pre_linewidth=co.lineWidth;var pre_linecap=co.lineCap;co.lineWidth=prop['chart.linewidth']+10;co.lineCap='round';co.strokeStyle=prop['chart.key.interactive.highlight.chart.stroke'];co.beginPath();if(prop['chart.curvy']){this.DrawSpline(co,coords,prop['chart.key.interactive.highlight.chart']);}else{for(var i=0,len=coords.length;i<len;i+=1){if(i==0||RG.is_null(coords[i][1])||(typeof coords[i-1][1]!=undefined&&RG.is_null(coords[i-1][1]))){co.moveTo(coords[i][0],coords[i][1]);}else{co.lineTo(coords[i][0],coords[i][1]);}}}
        co.stroke();co.lineWidth=pre_linewidth;co.lineCap=pre_linecap;}}
    RG.Register(this);}
if(typeof(RGraph)=='undefined')RGraph={};RGraph.DrawKey=function(obj,key,colors)
{var canvas=obj.canvas;var context=obj.context;context.lineWidth=1;context.beginPath();var keypos=obj.Get('chart.key.position');var textsize=obj.Get('chart.text.size');if(typeof(obj.Get('chart.key.vpos'))=='number'){obj.Set('chart.key.position.y',obj.Get('chart.key.vpos')*this.Get('chart.gutter.top'));}
    var key_non_null=[];var colors_non_null=[];for(var i=0;i<key.length;++i){if(key[i]!=null){colors_non_null.push(colors[i]);key_non_null.push(key[i]);}}
    key=key_non_null;colors=colors_non_null;if(keypos&&keypos=='gutter'){RGraph.DrawKey_gutter(obj,key,colors);}else if(keypos&&keypos=='graph'){RGraph.DrawKey_graph(obj,key,colors);}else{alert('[COMMON] ('+obj.id+') Unknown key position: '+keypos);}}
RGraph.DrawKey_graph=function(obj,key,colors)
{var canvas=obj.canvas;var context=obj.context;var text_size=typeof(obj.Get('chart.key.text.size'))=='number'?obj.Get('chart.key.text.size'):obj.Get('chart.text.size');var text_font=obj.Get('chart.text.font');var gutterLeft=obj.Get('chart.gutter.left');var gutterRight=obj.Get('chart.gutter.right');var gutterTop=obj.Get('chart.gutter.top');var gutterBottom=obj.Get('chart.gutter.bottom');var hpos=obj.Get('chart.yaxispos')=='right'?gutterLeft+10:RGraph.GetWidth(obj)-gutterRight-10;var vpos=gutterTop+10;var title=obj.Get('chart.title');var blob_size=text_size;var hmargin=8;var vmargin=4;var fillstyle=obj.Get('chart.key.background');var strokestyle='#333';var height=0;var width=0;if(!obj.coords)obj.coords={};obj.coords.key=[];context.font=text_size+'pt '+obj.Get('chart.text.font');for(i=0;i<key.length;++i){width=Math.max(width,context.measureText(key[i]).width);}
    width+=5;width+=blob_size;width+=5;width+=5;width+=5;if(obj.Get('chart.yaxispos')=='left'||(obj.type=='pie'&&!obj.Get('chart.yaxispos'))||(obj.type=='hbar'&&!obj.Get('chart.yaxispos'))||(obj.type=='hbar'&&obj.Get('chart.yaxispos')=='center')||(obj.type=='rscatter'&&!obj.Get('chart.yaxispos'))||(obj.type=='radar'&&!obj.Get('chart.yaxispos'))||(obj.type=='rose'&&!obj.Get('chart.yaxispos'))||(obj.type=='funnel'&&!obj.Get('chart.yaxispos'))||(obj.type=='vprogress'&&!obj.Get('chart.yaxispos'))||(obj.type=='hprogress'&&!obj.Get('chart.yaxispos'))){hpos-=width;}
    if(typeof(obj.Get('chart.key.halign'))=='string'){if(obj.Get('chart.key.halign')=='left'){hpos=gutterLeft+10;}else if(obj.Get('chart.key.halign')=='right'){hpos=obj.canvas.width-gutterRight-width;}}
    if(typeof(obj.Get('chart.key.position.x'))=='number'){hpos=obj.Get('chart.key.position.x');}
    if(typeof(obj.Get('chart.key.position.y'))=='number'){vpos=obj.Get('chart.key.position.y');}
    if(obj.Get('chart.key.shadow')){context.shadowColor=obj.Get('chart.key.shadow.color');context.shadowBlur=obj.Get('chart.key.shadow.blur');context.shadowOffsetX=obj.Get('chart.key.shadow.offsetx');context.shadowOffsetY=obj.Get('chart.key.shadow.offsety');}
    context.beginPath();context.fillStyle=obj.Get('chart.key.background');context.strokeStyle='black';if(typeof(obj.Get('chart.key.position.graph.boxed'))=='undefined'||(typeof(obj.Get('chart.key.position.graph.boxed'))=='boolean'&&obj.Get('chart.key.position.graph.boxed'))){if(arguments[3]!=false){context.lineWidth=typeof(obj.Get('chart.key.linewidth'))=='number'?obj.Get('chart.key.linewidth'):1;if(obj.Get('chart.key.rounded')==true){context.beginPath();context.strokeStyle=strokestyle;RGraph.strokedCurvyRect(context,Math.round(hpos),Math.round(vpos),width-5,5+((text_size+5)*RGraph.getKeyLength(key)),4);context.stroke();context.fill();RGraph.NoShadow(obj);}else{context.strokeRect(Math.round(hpos),Math.round(vpos),width-5,5+((text_size+5)*RGraph.getKeyLength(key)));context.fillRect(Math.round(hpos),Math.round(vpos),width-5,5+((text_size+5)*RGraph.getKeyLength(key)));}}}
    RGraph.NoShadow(obj);context.beginPath();if(obj.Get('chart.key.colors')){colors=obj.Get('chart.key.colors');}
    for(var i=key.length-1;i>=0;i--){var j=Number(i)+1;if(typeof(obj.properties['chart.key.color.shape'])=='object'&&typeof(obj.properties['chart.key.color.shape'][i])=='string'){var blob_shape=obj.properties['chart.key.color.shape'][i];}else if(typeof(obj.properties['chart.key.color.shape'])=='string'){var blob_shape=obj.properties['chart.key.color.shape'];}else{var blob_shape='square';}
        if(blob_shape=='circle'){context.beginPath();context.fillStyle=colors[i];context.arc(hpos+5+(blob_size/2),vpos+(5*j)+(text_size*j)-text_size+(blob_size/2),blob_size/2,0,6.26,0);context.fill();}else if(blob_shape=='line'){context.beginPath();context.strokeStyle=colors[i];context.moveTo(hpos+5,vpos+(5*j)+(text_size*j)-text_size+(blob_size/2));context.lineTo(hpos+blob_size+5,vpos+(5*j)+(text_size*j)-text_size+(blob_size/2));context.stroke();}else if(blob_shape=='triangle'){context.beginPath();context.strokeStyle=colors[i];context.moveTo(hpos+5,vpos+(5*j)+(text_size*j)-text_size+blob_size);context.lineTo(hpos+(blob_size/2)+5,vpos+(5*j)+(text_size*j)-text_size);context.lineTo(hpos+blob_size+5,vpos+(5*j)+(text_size*j)-text_size+blob_size);context.closePath();context.fillStyle=colors[i];context.fill();}else{context.fillStyle=colors[i];context.fillRect(hpos+5,vpos+(5*j)+(text_size*j)-text_size,text_size,text_size+1);}
        context.beginPath();context.fillStyle='black';RGraph.Text2(obj,{'font':text_font,'size':text_size,'x':hpos+blob_size+5+5,'y':vpos+(5*j)+(text_size*j)+3,'text':key[i]});if(obj.Get('chart.key.interactive')){var px=hpos+5;var py=vpos+(5*j)+(text_size*j)-text_size;var pw=width-5-5-5;var ph=text_size;obj.coords.key.push([px,py,pw,ph]);}}
    context.fill();if(obj.Get('chart.key.interactive')){InteractiveKey_line_mousemove=function(e)
{var objects=RGraph.ObjectRegistry.getObjectsByCanvasID(e.target.id);for(var i=0;i<objects.length;++i){var obj=objects[i];var mouseXY=RGraph.getMouseXY(e);var mouseX=mouseXY[0];var mouseY=mouseXY[1];if(obj.coords.key&&obj.coords.key.length){for(var i=0;i<obj.coords.key.length;++i){var index=obj.coords.key.length-i-1;var px=obj.coords.key[i][0];var py=obj.coords.key[i][1];var pw=obj.coords.key[i][2];var ph=obj.coords.key[i][3];if(mouseX>(px-2)&&mouseX<(px+pw+2)&&mouseY>(py-2)&&mouseY<(py+ph+2)&&(obj.type=='pie'?obj.data[index]>0:1)){mouse_over_key=true;return;}
    mouse_over_key=false;if(typeof(obj.Get('chart.tooltips'))=='object'&&typeof(canvas_onmousemove_func)=='function'){canvas_onmousemove_func(e);}}}}}
    InteractiveKey_line_mouseup=function(e)
    {var objects=RGraph.ObjectRegistry.getObjectsByCanvasID(e.target.id);for(var i=0;i<objects.length;++i){var obj=objects[i]
        if(!RGraph.is_null(obj)&&obj.type=='line'){var mouseXY=RGraph.getMouseXY(e);var mouseX=mouseXY[0];var mouseY=mouseXY[1];RGraph.DrawKey(obj,obj.Get('chart.key'),obj.Get('chart.colors'));for(var i=0;i<obj.coords.key.length;++i){var px=obj.coords.key[i][0];var py=obj.coords.key[i][1];var pw=obj.coords.key[i][2];var ph=obj.coords.key[i][3];if(mouseX>(px-2)&&mouseX<(px+pw+2)&&mouseY>(py-2)&&mouseY<(py+ph+2)){RGraph.RedrawCanvas(obj.canvas);var index=obj.coords.key.length-i-1;obj.context.beginPath();obj.context.fillStyle='rgba(255,255,255,0.9)';obj.context.rect(Math.round(obj.Get('chart.gutter.left'))-1,Math.round(obj.Get('chart.gutter.top'))-1,canvas.width-obj.properties['chart.gutter.left']-obj.properties['chart.gutter.right']+2,canvas.height-obj.Get('chart.gutter.bottom')-obj.Get('chart.gutter.top')+2);obj.context.fill();context.beginPath();obj.DrawAxes();context.stroke();obj.context.beginPath();if(obj.Get('chart.shadow')){if(typeof(obj.Get('chart.shadow.color'))=='string'){RGraph.SetShadow(obj,obj.Get('chart.shadow.color'),obj.Get('chart.shadow.offsetx'),obj.Get('chart.shadow.offsety'),obj.Get('chart.shadow.blur'));}else{RGraph.SetShadow(obj,obj.Get('chart.shadow.color')[obj.Get('chart.shadow.color').length-1-i],obj.Get('chart.shadow.offsetx'),obj.Get('chart.shadow.offsety'),obj.Get('chart.shadow.blur'));}}
            obj.context.strokeStyle=obj.Get('chart.colors')[index];obj.context.lineWidth=obj.Get('chart.linewidth');if(obj.coords2&&obj.coords2[index]&&obj.coords2[index].length){for(var j=0;j<obj.coords2[index].length;++j){var x=obj.coords2[index][j][0];var y=obj.coords2[index][j][1];var prevY=obj.coords2[index][j-1]&&obj.coords2[index][j-1][1]
                if(j==0||y==null||prevY==null){obj.context.moveTo(x,y);}else{obj.context.lineTo(x,y);}}}
            obj.context.stroke();obj.context.lineWidth=1;obj.context.beginPath();obj.context.strokeStyle='black';obj.context.fillStyle='white';RGraph.SetShadow(obj,'rgba(0,0,0,0.5)',0,0,10);obj.context.strokeRect(px-2,py-2,pw+4,ph+4);obj.context.fillRect(px-2,py-2,pw+4,ph+4);obj.context.stroke();obj.context.fill();RGraph.NoShadow(obj);obj.context.beginPath();obj.context.fillStyle=obj.Get('chart.colors')[index];obj.context.fillRect(px,py,blob_size,blob_size);obj.context.fill();obj.context.beginPath();obj.context.fillStyle=obj.Get('chart.text.color');RGraph.Text2(obj,{'font':obj.Get('chart.text.font'),'size':obj.Get('chart.text.size'),'x':px+5+blob_size,'y':py+ph+3,'text':obj.Get('chart.key')[obj.Get('chart.key').length-i-1]});context.fill();obj.canvas.style.cursor='pointer';e.cancelBubble=true;e.stopPropagation();}
            canvas.style.cursor='default';}}}}
    InteractiveKey_pie_mousemove=function(e)
    {InteractiveKey_line_mousemove(e);}
    InteractiveKey_pie_mouseup=function(e)
    {var objects=RGraph.ObjectRegistry.objects.byCanvasID;for(var i=0;i<objects.length;++i){if(objects[i][0]==e.target.id&&objects[i][1].type=='pie'){var obj=objects[i][1];var mouseXY=RGraph.getMouseXY(e);var mouseX=mouseXY[0];var mouseY=mouseXY[1];if(obj.coords.key&&obj.coords.key.length){RGraph.RedrawCanvas(obj.canvas);for(var i=0;i<obj.coords.key.length;++i){var index=obj.coords.key.length-i-1;var px=obj.coords.key[i][0];var py=obj.coords.key[i][1];var pw=obj.coords.key[i][2];var ph=obj.coords.key[i][3];if(mouseX>=(px-2)&&mouseX<=(px+pw+2)&&mouseY>=(py-2)&&mouseY<=(py+ph+2)&&obj.data[index]>0){obj.context.beginPath();obj.context.fillStyle='rgba(255,255,255,0.9)';obj.context.rect(0,0,obj.canvas.width,obj.canvas.height);obj.context.fill();var segment=obj.angles[index];obj.context.beginPath();RGraph.SetShadow(obj,'gray',0,0,15);obj.context.fillStyle=obj.Get('chart.colors')[index];obj.context.moveTo(obj.angles[index][2],obj.angles[index][3]);obj.context.arc(obj.angles[index][2],obj.angles[index][3],obj.radius,segment[0],segment[1],false);obj.context.closePath();obj.context.fill();obj.context.lineWidth=1;obj.context.beginPath();obj.context.strokeStyle='black';obj.context.fillStyle='white';RGraph.SetShadow(obj,'rgba(0,0,0,0.5)',0,0,10);obj.context.strokeRect(px-2,py-2,pw+4,ph+4);obj.context.fillRect(px-2,py-2,pw+4,ph+4);obj.context.stroke();obj.context.fill();RGraph.NoShadow(obj);obj.context.beginPath();obj.context.fillStyle=obj.Get('chart.colors')[index];obj.context.fillRect(px,py,blob_size,blob_size);obj.context.fill();obj.context.beginPath();obj.context.fillStyle=obj.Get('chart.text.color');RGraph.Text2(obj,{'font':obj.Get('chart.text.font'),'size':obj.Get('chart.text.size'),'x':px+5+blob_size,'y':py+ph+3,'text':obj.Get('chart.key')[obj.Get('chart.key').length-i-1]});context.fill();e.stopPropagation();return;}}}}}}}}
RGraph.DrawKey_gutter=function(obj,key,colors)
{var canvas=obj.canvas;var context=obj.context;var text_size=typeof(obj.Get('chart.key.text.size'))=='number'?obj.Get('chart.key.text.size'):obj.Get('chart.text.size');var text_font=obj.Get('chart.text.font');var gutterLeft=obj.gutterLeft;var gutterRight=obj.gutterRight;var gutterTop=obj.gutterTop;var gutterBottom=obj.gutterBottom;var hpos=((obj.canvas.width-obj.gutterLeft-obj.gutterRight)/2)+obj.gutterLeft;var vpos=gutterTop-text_size-5;var title=obj.Get('chart.title');var blob_size=text_size;var hmargin=8;var vmargin=4;var fillstyle=obj.Get('chart.key.background');var strokestyle='#999';var length=0;context.font=text_size+'pt '+text_font;for(i=0;i<key.length;++i){length+=hmargin;length+=blob_size;length+=hmargin;length+=context.measureText(key[i]).width;}
    length+=hmargin;if(obj.type=='pie'){if(obj.Get('chart.align')=='left'){var hpos=obj.radius+gutterLeft;}else if(obj.Get('chart.align')=='right'){var hpos=obj.canvas.width-obj.radius-gutterRight;}else{hpos=canvas.width/2;}}
    hpos-=(length/2);if(typeof(obj.Get('chart.key.position.x'))=='number'){hpos=obj.Get('chart.key.position.x');}
    if(typeof(obj.Get('chart.key.position.y'))=='number'){vpos=obj.Get('chart.key.position.y');}
    if(obj.Get('chart.key.position.gutter.boxed')){if(obj.Get('chart.key.shadow')){context.shadowColor=obj.Get('chart.key.shadow.color');context.shadowBlur=obj.Get('chart.key.shadow.blur');context.shadowOffsetX=obj.Get('chart.key.shadow.offsetx');context.shadowOffsetY=obj.Get('chart.key.shadow.offsety');}
        context.beginPath();context.fillStyle=fillstyle;context.strokeStyle=strokestyle;if(obj.Get('chart.key.rounded')){RGraph.strokedCurvyRect(context,hpos,vpos-vmargin,length,text_size+vmargin+vmargin)}else{context.strokeRect(hpos,vpos-vmargin,length,text_size+vmargin+vmargin);context.fillRect(hpos,vpos-vmargin,length,text_size+vmargin+vmargin);}
        context.stroke();context.fill();RGraph.NoShadow(obj);}
    if(obj.Get('chart.key.colors')){colors=obj.Get('chart.key.colors');}
    for(var i=0,pos=hpos;i<key.length;++i){pos+=hmargin;if(typeof(obj.properties['chart.key.color.shape'])=='object'&&typeof(obj.properties['chart.key.color.shape'][i])=='string'){var blob_shape=obj.properties['chart.key.color.shape'][i];}else if(typeof(obj.properties['chart.key.color.shape'])=='string'){var blob_shape=obj.properties['chart.key.color.shape'];}else{var blob_shape='square';}
        if(blob_shape=='line'){context.beginPath();context.strokeStyle=colors[i];context.moveTo(pos,vpos+(blob_size/2));context.lineTo(pos+blob_size,vpos+(blob_size/2));context.stroke();}else if(blob_shape=='circle'){context.beginPath();context.fillStyle=colors[i];context.moveTo(pos,vpos+(blob_size/2));context.arc(pos+(blob_size/2),vpos+(blob_size/2),(blob_size/2),0,6.28,0);context.fill();}else if(blob_shape=='triangle'){context.fillStyle=colors[i];context.beginPath();context.strokeStyle=colors[i];context.moveTo(pos,vpos+blob_size);context.lineTo(pos+(blob_size/2),vpos);context.lineTo(pos+blob_size,vpos+blob_size);context.closePath();context.fill();}else{context.beginPath();context.fillStyle=colors[i];context.rect(pos,vpos,blob_size,blob_size);context.fill();}
        pos+=blob_size;pos+=hmargin;context.beginPath();context.fillStyle='black';RGraph.Text2(obj,{'font':text_font,'size':text_size,'x':pos,'y':vpos+text_size+3,'text':key[i]});context.fill();pos+=context.measureText(key[i]).width;}}
RGraph.getKeyLength=function(key)
{var len=0;for(var i=0;i<key.length;++i){if(key[i]!=null){++len;}}
    return len;}
if(typeof(RGraph)=='undefined')RGraph={isRGraph:true,type:'common'};RGraph.InstallWindowMousedownListener=function(obj)
{if(!window.__rgraph_mousedown_event_listener_installed__){var func=function(e)
{if(navigator.userAgent.indexOf('Firefox')>=0)window.event=e;e=RGraph.FixEventObject(e);if(typeof(window.onmousedown_rgraph)=='function'){window.onmousedown_rgraph(e);}
    if(RGraph.HideTooltip&&RGraph.Registry.Get('chart.tooltip')){RGraph.Clear(RGraph.Registry.Get('chart.tooltip').__canvas__);RGraph.Redraw();RGraph.HideTooltip();}}
    window.addEventListener('mousedown',func,false);window.__rgraph_mousedown_event_listener_installed__=func;}}
RGraph.InstallWindowMouseupListener=function(obj)
{if(!window.__rgraph_mouseup_event_listener_installed__){var func=function(e)
{if(navigator.userAgent.indexOf('Firefox')>=0)window.event=e;e=RGraph.FixEventObject(e);if(RGraph.Annotating_window_onmouseup){RGraph.Annotating_window_onmouseup(e);return;}
    if(typeof(window.onmouseup_rgraph)=='function'){window.onmouseup_rgraph(e);}
    if(RGraph.Registry.Get('chart.adjusting')||RGraph.Registry.Get('chart.adjusting.gantt')){RGraph.FireCustomEvent(RGraph.Registry.Get('chart.adjusting'),'onadjustend');}
    RGraph.Registry.Set('chart.adjusting',null);RGraph.Registry.Set('chart.adjusting.shape',null);RGraph.Registry.Set('chart.adjusting.gantt',null);var tags=document.getElementsByTagName('canvas');for(var i=0;i<tags.length;++i){if(tags[i].__object__&&tags[i].__object__.isRGraph){if(!tags[i].__object__.Get('chart.annotatable')){if(!tags[i].__rgraph_trace_cover__&&!noredraw){RGraph.Clear(tags[i]);}else{var noredraw=true;}}}}
    if(!noredraw){RGraph.Redraw();}}
    window.addEventListener('mouseup',func,false);window.__rgraph_mouseup_event_listener_installed__=func;}}
RGraph.InstallCanvasMouseupListener=function(obj)
{if(!obj.canvas.__rgraph_mouseup_event_listener_installed__){var func=function(e)
{if(navigator.userAgent.indexOf('Firefox')>=0)window.event=e;e=RGraph.FixEventObject(e);if(typeof(e.target.onmouseup_rgraph)=='function'){e.target.onmouseup_rgraph(e);}
    var objects=RGraph.ObjectRegistry.getObjectsByXY(e);if(objects){for(var i=0;i<objects.length;++i){var obj=objects[i];var id=objects[i].id;if(!RGraph.is_null(obj)&&RGraph.Tooltip){var shape=obj.getShape(e);if(shape&&shape['tooltip']){var text=shape['tooltip'];if(text){var type=shape['object'].type;if(type=='line'||type=='rscatter'||(type=='scatter'&&!obj.Get('chart.boxplot'))||type=='radar'){var canvasXY=RGraph.getCanvasXY(obj.canvas);var x=canvasXY[0]+shape['x'];var y=canvasXY[1]+shape['y'];}else{var x=e.pageX;var y=e.pageY;}
    RGraph.Clear(obj.canvas);RGraph.Redraw();obj.Highlight(shape);RGraph.Registry.Set('chart.tooltip.shape',shape);RGraph.Tooltip(obj,text,x,y,shape['index'],e);if(RGraph.Registry.Get('chart.tooltip')){RGraph.Registry.Get('chart.tooltip').__shape__=shape;RGraph.EvaluateCursor(e);}
    e.cancelBubble=true;e.stopPropagation();return false;}}}
    if(RGraph.Registry.Get('chart.adjusting')||RGraph.Registry.Get('chart.adjusting.gantt')){RGraph.FireCustomEvent(RGraph.Registry.Get('chart.adjusting'),'onadjustend');}
    RGraph.Registry.Set('chart.adjusting',null);RGraph.Registry.Set('chart.adjusting.shape',null);RGraph.Registry.Set('chart.adjusting.gantt',null);if(shape||(obj.overChartArea&&obj.overChartArea(e))){break;}}}}
    obj.canvas.addEventListener('mouseup',func,false);obj.canvas.__rgraph_mouseup_event_listener_installed__=func;}}
RGraph.InstallCanvasMousemoveListener=function(obj)
{if(!obj.canvas.__rgraph_mousemove_event_listener_installed__){var func=function(e)
{if(navigator.userAgent.indexOf('Firefox')>=0)window.event=e;e=RGraph.FixEventObject(e);if(typeof(e.target.onmousemove_rgraph)=='function'){e.target.onmousemove_rgraph(e);}
    var objects=RGraph.ObjectRegistry.getObjectsByXY(e);if(objects&&objects.length){for(var i=0;i<objects.length;++i){var obj=objects[i];var id=obj.id;if(!obj.getShape){continue;}
    var shape=obj.getShape(e);var func=obj.Get('chart.events.mousemove');if(!func&&typeof(obj.onmousemove)=='function'){var func=obj.onmousemove;}
    if(shape){var index=shape['object'].type=='scatter'?shape['index_adjusted']:shape['index'];if(typeof(obj['$'+index])=='object'&&typeof(obj['$'+index].onmousemove)=='function'){var func2=obj['$'+index].onmousemove;}}
    if(shape&&(typeof(func)=='function'||typeof(func2)=='function')){if(obj.Get('chart.events.mousemove.revertto')==null){obj.Set('chart.events.mousemove.revertto',e.target.style.cursor);}
        if(typeof(func)=='function')func(e,shape);if(typeof(func2)=='function')func2(e,shape);}else if(typeof(obj.Get('chart.events.mousemove.revertto'))=='string'){RGraph.cursor.push('default');obj.Set('chart.events.mousemove.revertto',null);}
    if(shape&&(obj.Get('chart.tooltips')&&obj.Get('chart.tooltips')[shape['index']]||shape['tooltip'])&&(obj.Get('chart.tooltips.event')=='onmousemove'||obj.Get('chart.tooltips.event')=='mousemove')&&(RGraph.is_null(RGraph.Registry.Get('chart.tooltip'))||RGraph.Registry.Get('chart.tooltip').__index__!=shape['index']||(typeof(shape['dataset'])=='number'&&shape['dataset']!=RGraph.Registry.Get('chart.tooltip').__shape__['dataset'])||obj.uid!=RGraph.Registry.Get('chart.tooltip').__object__.uid)){RGraph.Clear(obj.canvas);RGraph.Redraw();obj.canvas.__rgraph_mouseup_event_listener_installed__(e);return;}
    if(obj&&obj.Get('chart.adjustable')){obj.Adjusting_mousemove(e);}
    if(shape||(obj.overChartArea&&obj.overChartArea(e))){break;}}}
    if(e.target&&e.target.__object__&&e.target.__object__.Get('chart.crosshairs')){RGraph.DrawCrosshairs(e,e.target.__object__);}
    if(typeof(InteractiveKey_line_mousemove)=='function')InteractiveKey_line_mousemove(e);if(typeof(InteractiveKey_pie_mousemove)=='function')InteractiveKey_pie_mousemove(e);if(e.target.__object__&&e.target.__object__.Get('chart.annotatable')&&RGraph.Annotating_canvas_onmousemove){RGraph.Annotating_canvas_onmousemove(e);}
    RGraph.EvaluateCursor(e);}
    obj.canvas.addEventListener('mousemove',func,false);obj.canvas.__rgraph_mousemove_event_listener_installed__=func;}}
RGraph.InstallCanvasMousedownListener=function(obj)
{if(!obj.canvas.__rgraph_mousedown_event_listener_installed__){var func=function(e)
{if(navigator.userAgent.indexOf('Firefox')>=0)window.event=e;e=RGraph.FixEventObject(e);if(typeof(e.target.onmousedown_rgraph)=='function'){e.target.onmousedown_rgraph(e);}
    if(e.target.__object__&&e.target.__object__.Get('chart.annotatable')&&RGraph.Annotating_canvas_onmousedown){RGraph.Annotating_canvas_onmousedown(e);return;}
    var obj=RGraph.ObjectRegistry.getObjectByXY(e);if(obj){var id=obj.id;if(obj&&obj.isRGraph&&obj.Get('chart.adjustable')){var obj=RGraph.ObjectRegistry.getObjectByXY(e);if(obj&&obj.isRGraph){switch(obj.type){case'bar':var shape=obj.getShapeByX(e);break;case'gantt':var shape=obj.getShape(e);if(shape){var mouseXY=RGraph.getMouseXY(e);RGraph.Registry.Set('chart.adjusting.gantt',{'index':shape['index'],'object':obj,'mousex':mouseXY[0],'mousey':mouseXY[1],'event_start':obj.data[shape['index']][0],'event_duration':obj.data[shape['index']][1],'mode':(mouseXY[0]>(shape['x']+shape['width']-5)?'resize':'move'),'shape':shape});}
    break;case'line':var shape=obj.getShape(e);break;default:var shape=null;}
    RGraph.Registry.Set('chart.adjusting.shape',shape);RGraph.FireCustomEvent(obj,'onadjustbegin');RGraph.Registry.Set('chart.adjusting',obj);RGraph.Clear(obj.canvas);RGraph.Redraw();obj.canvas.__rgraph_mousemove_event_listener_installed__(e);}}
    RGraph.Clear(obj.canvas);RGraph.Redraw();}}
    obj.canvas.addEventListener('mousedown',func,false);obj.canvas.__rgraph_mousedown_event_listener_installed__=func;}}
RGraph.InstallCanvasClickListener=function(obj)
{if(!obj.canvas.__rgraph_click_event_listener_installed__){var func=function(e)
{if(navigator.userAgent.indexOf('Firefox')>=0)window.event=e;e=RGraph.FixEventObject(e);if(typeof(e.target.onclick_rgraph)=='function'){e.target.onclick_rgraph(e);}
    var objects=RGraph.ObjectRegistry.getObjectsByXY(e);for(var i=0;i<objects.length;++i){var obj=objects[i];var id=obj.id;var shape=obj.getShape(e);var func=obj.Get('chart.events.click');if(!func&&typeof(obj.onclick)=='function'){func=obj.onclick;}
    if(shape&&typeof(func)=='function'){func(e,shape);return;}
    if(shape){var index=shape['object'].type=='scatter'?shape['index_adjusted']:shape['index'];if(typeof(index)=='number'&&obj['$'+index]){var func=obj['$'+index].onclick;if(typeof(func)=='function'){func(e,shape);return;}}}
    if(shape||(obj.overChartArea&&obj.overChartArea(e))){break;}}}
    obj.canvas.addEventListener('click',func,false);obj.canvas.__rgraph_click_event_listener_installed__=func;}}
RGraph.EvaluateCursor=function(e)
{var mouseXY=RGraph.getMouseXY(e);var mouseX=mouseXY[0];var mouseY=mouseXY[1];var canvas=e.target;var objects=RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id);for(var i=0;i<objects.length;++i){if((objects[i].getShape&&objects[i].getShape(e))||(objects[i].overChartArea&&objects[i].overChartArea(e))){var obj=objects[i];var id=obj.id;}}
    if(!RGraph.is_null(obj)){if(obj.getShape&&obj.getShape(e)){var shape=obj.getShape(e);if(obj.Get('chart.tooltips')){var text=RGraph.parseTooltipText(obj.Get('chart.tooltips'),shape['index']);if(!text&&shape['object'].type=='scatter'&&shape['index_adjusted']){text=RGraph.parseTooltipText(obj.Get('chart.tooltips'),shape['index_adjusted']);}
        if(text){var pointer=true;}}}
        if(!RGraph.is_null(obj)&&obj.Get('chart.key.interactive')){for(var j=0;j<obj.coords.key.length;++j){if(mouseX>obj.coords.key[j][0]&&mouseX<(obj.coords.key[j][0]+obj.coords.key[j][2])&&mouseY>obj.coords.key[j][1]&&mouseY<(obj.coords.key[j][1]+obj.coords.key[j][3])){var pointer=true;}}}}
    if(!RGraph.is_null(shape)&&!RGraph.is_null(obj)){if(!RGraph.is_null(obj.Get('chart.events.mousemove'))&&typeof(obj.Get('chart.events.mousemove'))=='function'){var str=(obj.Get('chart.events.mousemove')).toString();if(str.match(/pointer/)&&str.match(/cursor/)&&str.match(/style/)){var pointer=true;}}
        if(!RGraph.is_null(obj.onmousemove)&&typeof(obj.onmousemove)=='function'){var str=(obj.onmousemove).toString();if(str.match(/pointer/)&&str.match(/cursor/)&&str.match(/style/)){var pointer=true;}}
        var index=shape['object'].type=='scatter'?shape['index_adjusted']:shape['index'];if(!RGraph.is_null(obj['$'+index])&&typeof(obj['$'+index].onmousemove)=='function'){var str=(obj['$'+index].onmousemove).toString();if(str.match(/pointer/)&&str.match(/cursor/)&&str.match(/style/)){var pointer=true;}}}
    var objects=RGraph.ObjectRegistry.objects.byCanvasID;for(var i=0;i<objects.length;++i){if(objects[i]&&objects[i][1].Get('chart.resizable')){var resizable=true;}}
    if(resizable&&mouseX>(e.target.width-32)&&mouseY>(e.target.height-16)){pointer=true;}
    if(pointer){e.target.style.cursor='pointer';}else if(e.target.style.cursor=='pointer'){e.target.style.cursor='default';}else{e.target.style.cursor=null;}
    if(resizable&&mouseX>=(e.target.width-15)&&mouseY>=(e.target.height-15)){e.target.style.cursor='move';}
    if(typeof(mouse_over_key)=='boolean'&&mouse_over_key){e.target.style.cursor='pointer';}
    if(obj&&obj.type=='gantt'&&obj.Get('chart.adjustable')){if(obj.getShape&&obj.getShape(e)){e.target.style.cursor='ew-resize';}else{e.target.style.cursor='default';}}
    if(obj&&obj.type=='line'&&obj.Get('chart.adjustable')){if(obj.getShape&&obj.getShape(e)){e.target.style.cursor='ns-resize';}else{e.target.style.cursor='default';}}
    if(e.target.__object__&&e.target.__object__.Get('chart.annotatable')){e.target.style.cursor='crosshair';}}
RGraph.parseTooltipText=function(tooltips,idx)
{if(!tooltips){return null;}
    if(typeof(tooltips)=='function'){var text=tooltips(idx);}else if(typeof(tooltips)=='string'){var text=tooltips;}else if(typeof(tooltips)=='object'&&typeof(tooltips)[idx]=='function'){var text=tooltips[idx](idx);}else if(typeof(tooltips)[idx]=='string'&&tooltips[idx]){var text=tooltips[idx];}else{var text='';}
    if(text=='undefined'){text='';}else if(text=='null'){text='';}
    return RGraph.getTooltipTextFromDIV?RGraph.getTooltipTextFromDIV(text):text;}
RGraph.DrawCrosshairs=function(e,obj)
{var e=RGraph.FixEventObject(e);var width=obj.canvas.width;var height=obj.canvas.height;var mouseXY=RGraph.getMouseXY(e);var x=mouseXY[0];var y=mouseXY[1];var gutterLeft=obj.gutterLeft;var gutterRight=obj.gutterRight;var gutterTop=obj.gutterTop;var gutterBottom=obj.gutterBottom;var prop=obj.properties;RGraph.RedrawCanvas(obj.canvas);if(x>=gutterLeft&&y>=gutterTop&&x<=(width-gutterRight)&&y<=(height-gutterBottom)){var linewidth=prop['chart.crosshairs.linewidth']?prop['chart.crosshairs.linewidth']:1;obj.context.lineWidth=linewidth?linewidth:1;obj.context.beginPath();obj.context.strokeStyle=prop['chart.crosshairs.color'];if(prop['chart.crosshairs.snap']){var point=null;var dist=null;var len=null;if(obj.type=='line'){for(var i=0;i<obj.coords.length;++i){var len=RGraph.getHypLength(obj.coords[i][0],obj.coords[i][1],x,y);if(typeof(dist)!='number'||len<dist){var point=i;var dist=len;}}
    x=obj.coords[point][0];y=obj.coords[point][1];for(var dataset=0;dataset<obj.coords2.length;++dataset){for(var point=0;point<obj.coords2[dataset].length;++point){if(obj.coords2[dataset][point][0]==x&&obj.coords2[dataset][point][1]==y){obj.canvas.__crosshairs_snap_dataset__=dataset;obj.canvas.__crosshairs_snap_point__=point;}}}}else{for(var i=0;i<obj.coords.length;++i){for(var j=0;j<obj.coords[i].length;++j){var len=RGraph.getHypLength(obj.coords[i][j][0],obj.coords[i][j][1],x,y);if(typeof(dist)!='number'||len<dist){var dataset=i;var point=j;var dist=len;}}}
    obj.canvas.__crosshairs_snap_dataset__=dataset;obj.canvas.__crosshairs_snap_point__=point;x=obj.coords[dataset][point][0];y=obj.coords[dataset][point][1];}}
    if(prop['chart.crosshairs.vline']){obj.context.moveTo(Math.round(x),Math.round(gutterTop));obj.context.lineTo(Math.round(x),Math.round(height-gutterBottom));}
    if(prop['chart.crosshairs.hline']){obj.context.moveTo(Math.round(gutterLeft),Math.round(y));obj.context.lineTo(Math.round(width-gutterRight),Math.round(y));}
    obj.context.stroke();if(obj.type=='scatter'&&prop['chart.crosshairs.coords']){var xCoord=(((x-gutterLeft)/(width-gutterLeft-gutterRight))*(prop['chart.xmax']-prop['chart.xmin']))+prop['chart.xmin'];xCoord=xCoord.toFixed(prop['chart.scale.decimals']);var yCoord=obj.max-(((y-prop['chart.gutter.top'])/(height-gutterTop-gutterBottom))*obj.max);if(obj.type=='scatter'&&obj.properties['chart.xaxispos']=='center'){yCoord=(yCoord-(obj.max/2))*2;}
        yCoord=yCoord.toFixed(prop['chart.scale.decimals']);var div=RGraph.Registry.Get('chart.coordinates.coords.div');var mouseXY=RGraph.getMouseXY(e);var canvasXY=RGraph.getCanvasXY(obj.canvas);if(!div){var div=document.createElement('DIV');div.__object__=obj;div.style.position='absolute';div.style.backgroundColor='white';div.style.border='1px solid black';div.style.fontFamily='Arial, Verdana, sans-serif';div.style.fontSize='10pt'
            div.style.padding='2px';div.style.opacity=1;div.style.WebkitBorderRadius='3px';div.style.borderRadius='3px';div.style.MozBorderRadius='3px';document.body.appendChild(div);RGraph.Registry.Set('chart.coordinates.coords.div',div);}
        div.style.opacity=1;div.style.display='inline';if(!prop['chart.crosshairs.coords.fixed']){div.style.left=Math.max(2,(e.pageX-div.offsetWidth-3))+'px';div.style.top=Math.max(2,(e.pageY-div.offsetHeight-3))+'px';}else{div.style.left=canvasXY[0]+gutterLeft+3+'px';div.style.top=canvasXY[1]+gutterTop+3+'px';}
        div.innerHTML='<span style="color: #666">'+prop['chart.crosshairs.coords.labels.x']+':</span> '+xCoord+'<br><span style="color: #666">'+prop['chart.crosshairs.coords.labels.y']+':</span> '+yCoord;obj.canvas.addEventListener('mouseout',RGraph.HideCrosshairCoords,false);obj.canvas.__crosshairs_labels__=div;obj.canvas.__crosshairs_x__=xCoord;obj.canvas.__crosshairs_y__=yCoord;}else if(prop['chart.crosshairs.coords']){alert('[RGRAPH] Showing crosshair coordinates is only supported on the Scatter chart');}
    RGraph.FireCustomEvent(obj,'oncrosshairs');}else{RGraph.HideCrosshairCoords();}}
0
if(typeof(RGraph)=='undefined')RGraph={isRGraph:true,type:'common'};RGraph.tooltips={};RGraph.tooltips.padding='3px';RGraph.tooltips.font_face='Tahoma';RGraph.tooltips.font_size='10pt';RGraph.Tooltip=function(obj,text,x,y,idx,e)
{if(typeof(obj.Get('chart.tooltips.override'))=='function'){return obj.Get('chart.tooltips.override')(obj,text,x,y,idx);}
    var originalX=x;var originalY=y;text=RGraph.getTooltipTextFromDIV(text);var timers=RGraph.Registry.Get('chart.tooltip.timers');if(timers&&timers.length){for(i=0;i<timers.length;++i){clearTimeout(timers[i]);}}
    RGraph.Registry.Set('chart.tooltip.timers',[]);if(obj.Get('chart.contextmenu')){RGraph.HideContext();}
    var effect=obj.Get('chart.tooltips.effect')?obj.Get('chart.tooltips.effect').toLowerCase():'fade';var tooltipObj=document.createElement('DIV');tooltipObj.className=obj.Get('chart.tooltips.css.class');tooltipObj.style.display='none';tooltipObj.style.position=RGraph.isFixed(obj.canvas)?'fixed':'absolute';tooltipObj.style.left=0;tooltipObj.style.top=0;tooltipObj.style.backgroundColor='rgb(255,255,239)';tooltipObj.style.color='black';if(!document.all)tooltipObj.style.border='';tooltipObj.style.visibility='visible';tooltipObj.style.paddingLeft=RGraph.tooltips.padding;tooltipObj.style.paddingRight=RGraph.tooltips.padding;tooltipObj.style.fontFamily=RGraph.tooltips.font_face;tooltipObj.style.fontSize=RGraph.tooltips.font_size;tooltipObj.style.zIndex=3;if(RGraph.trim(text).length>0){tooltipObj.style.border='1px #bbb solid';}
    tooltipObj.style.borderRadius='5px';tooltipObj.style.MozBorderRadius='5px';tooltipObj.style.WebkitBorderRadius='5px';tooltipObj.style.WebkitBoxShadow='rgba(96,96,96,0.5) 0 0 15px';tooltipObj.style.MozBoxShadow='rgba(96,96,96,0.5) 0 0 15px';tooltipObj.style.boxShadow='rgba(96,96,96,0.5) 0 0 15px';tooltipObj.style.filter='progid:DXImageTransform.Microsoft.Shadow(color=#666666,direction=135)';tooltipObj.style.opacity=0;tooltipObj.innerHTML=text;tooltipObj.__text__=text;tooltipObj.__canvas__=obj.canvas;tooltipObj.style.display='inline';tooltipObj.id='__rgraph_tooltip_'+obj.canvas.id+'_'+obj.uid+'_'+idx;tooltipObj.__event__=obj.Get('chart.tooltips.event')||'click';tooltipObj.__object__=obj;if(typeof(idx)=='number'){tooltipObj.__index__=idx;origIdx=idx;}
    if(obj.type=='line'||obj.type=='radar'){for(var ds=0;ds<obj.data.length;++ds){if(idx>=obj.data[ds].length){idx-=obj.data[ds].length;}else{break;}}
        tooltipObj.__dataset__=ds;tooltipObj.__index2__=idx;}
    document.body.appendChild(tooltipObj);var width=tooltipObj.offsetWidth;var height=tooltipObj.offsetHeight;tooltipObj.style.width=width+'px';tooltipObj.style.top=(y-height-2)+'px';if(typeof(obj.positionTooltip)=='function'){if(tooltipObj.innerHTML.length>0){obj.positionTooltip(obj,x,y,tooltipObj,origIdx?origIdx:idx);if(obj.Get('chart.tooltips.coords.page')){tooltipObj.style.left=e.pageX-(width/2)-4.25+'px';tooltipObj.style.top=e.pageY-height-10+'px';document.getElementById('__rgraph_tooltip_pointer__').style.left=(parseInt(tooltipObj.offsetWidth)/2)-8.5+'px';}}}else{tooltipObj.style.left=e.pageX-(width/2)-4.25+'px';tooltipObj.style.top=e.pageY-height-7+'px';}
    if(effect=='fade'||effect=='expand'||effect=='contract'||effect=='snap'){setTimeout(function(){tooltipObj.style.opacity=0.1;},25);setTimeout(function(){tooltipObj.style.opacity=0.2;},50);setTimeout(function(){tooltipObj.style.opacity=0.3;},75);setTimeout(function(){tooltipObj.style.opacity=0.4;},100);setTimeout(function(){tooltipObj.style.opacity=0.5;},125);setTimeout(function(){tooltipObj.style.opacity=0.6;},150);setTimeout(function(){tooltipObj.style.opacity=0.7;},175);setTimeout(function(){tooltipObj.style.opacity=0.8;},200);setTimeout(function(){tooltipObj.style.opacity=0.9;},225);if(effect=='expand'||effect=='contract'||effect=='snap'){console.log('[RGRAPH] The snap, expand and contract tooltip effects are deprecated. Available effects now are fade and none');}}
    setTimeout("if (RGraph.Registry.Get('chart.tooltip')) { RGraph.Registry.Get('chart.tooltip').style.opacity = 1;}",effect=='none'?50:250);tooltipObj.onmousedown=function(e){e.stopPropagation();}
    tooltipObj.onmouseup=function(e){e.stopPropagation();}
    tooltipObj.onclick=function(e){if(e.button==0){e.stopPropagation();}}
    RGraph.Registry.Set('chart.tooltip',tooltipObj);RGraph.FireCustomEvent(obj,'ontooltip');}
RGraph.getTooltipTextFromDIV=function(text)
{var result=/^id:(.*)/.exec(text);if(result&&result[1]&&document.getElementById(result[1])){text=document.getElementById(result[1]).innerHTML;}else if(result&&result[1]){text='';}
    return text;}
RGraph.getTooltipWidth=function(text,obj)
{var div=document.createElement('DIV');div.className=obj.Get('chart.tooltips.css.class');div.style.paddingLeft=RGraph.tooltips.padding;div.style.paddingRight=RGraph.tooltips.padding;div.style.fontFamily=RGraph.tooltips.font_face;div.style.fontSize=RGraph.tooltips.font_size;div.style.visibility='hidden';div.style.position='absolute';div.style.top='300px';div.style.left=0;div.style.display='inline';div.innerHTML=RGraph.getTooltipTextFromDIV(text);document.body.appendChild(div);return div.offsetWidth;}
RGraph.HideTooltip=function()
{var tooltip=RGraph.Registry.Get('chart.tooltip');var uid=arguments[0]&&arguments[0].uid?arguments[0].uid:null;if(tooltip&&tooltip.parentNode&&(!uid||uid==tooltip.__canvas__.uid)){tooltip.parentNode.removeChild(tooltip);tooltip.style.display='none';tooltip.style.visibility='hidden';RGraph.Registry.Set('chart.tooltip',null);}}
RGraph.PreLoadTooltipImages=function(obj)
{var tooltips=obj.Get('chart.tooltips');if(RGraph.hasTooltips(obj)){if(obj.type=='rscatter'){tooltips=[];for(var i=0;i<obj.data.length;++i){tooltips.push(obj.data[3]);}}
    for(var i=0;i<tooltips.length;++i){var div=document.createElement('DIV');div.style.position='absolute';div.style.opacity=0;div.style.top='-100px';div.style.left='-100px';div.innerHTML=tooltips[i];document.body.appendChild(div);var img_tags=div.getElementsByTagName('IMG');for(var j=0;j<img_tags.length;++j){if(img_tags&&img_tags[i]){var img=document.createElement('IMG');img.style.position='absolute';img.style.opacity=0;img.style.top='-100px';img.style.left='-100px';img.src=img_tags[i].src
        document.body.appendChild(img);setTimeout(function(){document.body.removeChild(img);},250);}}
        document.body.removeChild(div);}}}
RGraph.Tooltips_mousemove=function(obj,e)
{var shape=obj.getShape(e);var changeCursor_tooltips=false
    if(shape&&typeof(shape['index'])=='number'&&obj.Get('chart.tooltips')[shape['index']]){var text=RGraph.parseTooltipText(obj.Get('chart.tooltips'),shape['index']);if(text){changeCursor_tooltips=true;if(obj.Get('chart.tooltips.event')=='onmousemove'){if(!RGraph.Registry.Get('chart.tooltip')||RGraph.Registry.Get('chart.tooltip').__object__.uid!=obj.uid||RGraph.Registry.Get('chart.tooltip').__index__!=shape['index']){RGraph.HideTooltip();RGraph.Clear(obj.canvas);RGraph.Redraw();RGraph.Tooltip(obj,text,e.pageX,e.pageY,shape['index']);obj.Highlight(shape);}}}}else if(shape&&typeof(shape['index'])=='number'){var text=RGraph.parseTooltipText(obj.Get('chart.tooltips'),shape['index']);if(text){changeCursor_tooltips=true}}
    return changeCursor_tooltips;}
if(typeof(RGraph)=='undefined')RGraph={isRGraph:true,type:'common'};RGraph.Effects={};RGraph.Effects.Fade={};RGraph.Effects.jQuery={}
RGraph.Effects.jQuery.HBlinds={};RGraph.Effects.jQuery.VBlinds={}
RGraph.Effects.jQuery.Slide={};RGraph.Effects.Pie={}
RGraph.Effects.Bar={};RGraph.Effects.Line={}
RGraph.Effects.Line.jQuery={};RGraph.Effects.Fuel={}
RGraph.Effects.Rose={};RGraph.Effects.Odo={}
RGraph.Effects.Gauge={};RGraph.Effects.Meter={}
RGraph.Effects.HBar={};RGraph.Effects.HProgress={}
RGraph.Effects.VProgress={};RGraph.Effects.Radar={}
RGraph.Effects.Waterfall={};RGraph.Effects.Gantt={}
RGraph.Effects.Thermometer={};RGraph.Effects.Scatter={}
RGraph.Effects.Scatter.jQuery={};RGraph.Effects.CornerGauge={}
RGraph.Effects.jQuery.HScissors={};RGraph.Effects.jQuery.VScissors={}
RGraph.Effects.Fade.In=function(obj)
{var canvas=obj.canvas;var duration=(arguments[1]&&arguments[1].duration?arguments[1].duration:250);var frames=(arguments[1]&&arguments[1].frames?arguments[1].frames:5);canvas.style.opacity=0;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);for(var i=1;i<=frames;++i){setTimeout('document.getElementById("'+canvas.id+'").style.opacity = '+(i*(1/frames)),i*(duration/frames));}
    if(typeof(arguments[2])=='function'){setTimeout(arguments[2],duration);}}
RGraph.Effects.Fade.Out=function(obj)
{var canvas=obj.canvas;var duration=(arguments[1]&&arguments[1].duration?arguments[1].duration:250);var frames=(arguments[1]&&arguments[1].frames?arguments[1].frames:5);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);for(var i=frames;i>=0;--i){setTimeout('document.getElementById("'+canvas.id+'").style.opacity = '+(i*(1/frames)),(frames-i)*(duration/frames));}
    if(typeof(arguments[2])=='function'){setTimeout(arguments[2],duration);}}
RGraph.Effects.jQuery.Expand=function(obj)
{if(typeof(jQuery)=='undefined'){alert('[ERROR] Could not find jQuery object - have you included the jQuery file?');}
    var bounce=(!arguments[1]||(arguments[1]&&(arguments[1].bounce||typeof(arguments[1].bounce)=='undefined')))?true:false;var canvas=obj.canvas;if(!canvas.__rgraph_div_placeholder__){var div=RGraph.Effects.ReplaceCanvasWithDIV(canvas);canvas.__rgraph_div_placeholder__=div;}else{div=canvas.__rgraph_div_placeholder__;}
    div.style.position='relative';canvas.style.position='absolute';canvas.style.top=(canvas.height/2)+'px';canvas.style.left=(canvas.width/2)+'px';canvas.style.width=0;canvas.style.height=0;canvas.style.opacity=0;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(bounce){jQuery('#'+obj.id).animate({opacity:1,width:'120%',height:'120%',left:(canvas.width*-0.1)+'px',top:(canvas.height*-0.1)+'px'},500,function(){jQuery('#'+obj.id).animate({width:'90%',height:'90%',top:(canvas.height*0.05)+'px',left:(canvas.width*0.05)+'px'},250,function()
{jQuery('#'+obj.id).animate({width:'101%',height:'101%',top:(canvas.height*-0.005)+'px',left:(canvas.width*-0.005)+'px'},250,function()
{jQuery('#'+obj.id).animate({width:'100%',height:'100%',top:0,left:0},250);});});});}else{jQuery('#'+obj.id).animate({opacity:1,width:'100%',height:'100%',left:0,top:0},1000)}
    if(typeof(arguments[2])=='function'){setTimeout(arguments[2],1000);}}
RGraph.Effects.jQuery.Contract=function(obj)
{if(typeof(jQuery)=='undefined'){alert('[ERROR] Could not find jQuery object - have you included the jQuery file?');}
    var canvas=obj.canvas;if(!canvas.__rgraph_div_placeholder__){var div=RGraph.Effects.ReplaceCanvasWithDIV(canvas);canvas.__rgraph_div_placeholder__=div;}else{div=canvas.__rgraph_div_placeholder__;}
    div.style.position='relative';canvas.style.position='absolute';canvas.style.top=0;canvas.style.left=0;jQuery('#'+obj.id).animate({width:(canvas.width*1.2)+'px',height:(canvas.height*1.2)+'px',left:(canvas.width*-0.1)+'px',top:(canvas.height*-0.1)+'px'},250,function()
{jQuery('#'+obj.id).animate({opacity:0,width:0,height:0,left:(canvas.width*0.5)+'px',top:(canvas.height*0.5)+'px'},750)});if(typeof(arguments[2])=='function'){setTimeout(arguments[2],1000);}}
RGraph.Effects.ReplaceCanvasWithDIV=function(canvas)
{if(!canvas.replacementDIV){var div=document.createElement('DIV');div.style.width=canvas.width+'px';div.style.height=canvas.height+'px';div.style.cssFloat=canvas.style.cssFloat;div.style.left=canvas.style.left;div.style.top=canvas.style.top;div.style.display='inline-block';canvas.parentNode.insertBefore(div,canvas);canvas.parentNode.removeChild(canvas);div.appendChild(canvas);canvas.style.position='relative';canvas.style.left=(div.offsetWidth/2)+'px';canvas.style.top=(div.offsetHeight/2)+'px';canvas.style.cssFloat='';canvas.replacementDIV=div;}else{var div=canvas.replacementDIV;}
    return div;}
RGraph.Effects.jQuery.Snap=function(obj)
{var delay=500;var div=RGraph.Effects.ReplaceCanvasWithDIV(obj.canvas);obj.canvas.style.position='absolute';obj.canvas.style.top=0;obj.canvas.style.left=0;obj.canvas.style.width=0;obj.canvas.style.height=0;obj.canvas.style.opacity=0;var targetLeft=div.offsetLeft;var targetTop=div.offsetTop;var targetWidth=div.offsetWidth;var targetHeight=div.offsetHeight;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);jQuery('#'+obj.id).animate({opacity:1,width:targetWidth+'px',height:targetHeight+'px',left:targetLeft+'px',top:targetTop+'px'},delay);if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay+50);}}
RGraph.Effects.jQuery.Reveal=function(obj)
{var opts=arguments[1]?arguments[1]:null;var delay=1000;var canvas=obj.canvas;var xy=RGraph.getCanvasXY(obj.canvas);obj.canvas.style.visibility='hidden';RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);var divs=[['reveal_left',xy[0],xy[1],obj.canvas.width/2,obj.canvas.height],['reveal_right',(xy[0]+(obj.canvas.width/2)),xy[1],(obj.canvas.width/2),obj.canvas.height],['reveal_top',xy[0],xy[1],obj.canvas.width,(obj.canvas.height/2)],['reveal_bottom',xy[0],(xy[1]+(obj.canvas.height/2)),obj.canvas.width,(obj.canvas.height/2)]];for(var i=0;i<divs.length;++i){var div=document.createElement('DIV');div.id=divs[i][0];div.style.width=divs[i][3]+'px';div.style.height=divs[i][4]+'px';div.style.left=divs[i][1]+'px';div.style.top=divs[i][2]+'px';div.style.position='absolute';div.style.backgroundColor=opts&&typeof(opts['color'])=='string'?opts['color']:'white';document.body.appendChild(div);}
    obj.canvas.style.visibility='visible';jQuery('#reveal_left').animate({width:0},delay);jQuery('#reveal_right').animate({left:'+='+(obj.canvas.width/2),width:0},delay);jQuery('#reveal_top').animate({height:0},delay);jQuery('#reveal_bottom').animate({top:'+='+(obj.canvas.height/2),height:0},delay);setTimeout(function()
{document.body.removeChild(document.getElementById("reveal_top"))
    document.body.removeChild(document.getElementById("reveal_bottom"))
    document.body.removeChild(document.getElementById("reveal_left"))
    document.body.removeChild(document.getElementById("reveal_right"))},delay);if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.RevealCircular=function(obj)
{var opts=arguments[1]?arguments[1]:null;var callback=arguments[2]?arguments[2]:null;var frames=30;var RG=RGraph;var ca=obj.canvas;var co=obj.context;var ra=0;var cx=ca.width/2;var cy=ca.height/2;var target_ra=Math.max(ca.height,ca.width);function Grow()
{RG.Clear(ca);co.save();co.beginPath();co.arc(cx,cy,ra,0,TWOPI,false);co.clip();obj.Draw();co.restore();if(ra<target_ra){ra+=target_ra/30;RG.Effects.UpdateCanvas(Grow);}else if(typeof(callback)=='function'){callback(obj);}}
    Grow();}
RGraph.Effects.jQuery.Conceal=function(obj)
{var opts=arguments[1]?arguments[1]:null;var delay=1000;var canvas=obj.canvas;var xy=RGraph.getCanvasXY(obj.canvas);var divs=[['conceal_left',xy[0],xy[1],0,obj.canvas.height],['conceal_right',(xy[0]+obj.canvas.width),xy[1],0,obj.canvas.height],['conceal_top',xy[0],xy[1],obj.canvas.width,0],['conceal_bottom',xy[0],(xy[1]+obj.canvas.height),obj.canvas.width,0]];for(var i=0;i<divs.length;++i){var div=document.createElement('DIV');div.id=divs[i][0];div.style.width=divs[i][3]+'px';div.style.height=divs[i][4]+'px';div.style.left=divs[i][1]+'px';div.style.top=divs[i][2]+'px';div.style.position='absolute';div.style.backgroundColor=opts&&typeof(opts['color'])=='string'?opts['color']:'white';document.body.appendChild(div);}
    jQuery('#conceal_left').animate({width:'+='+(obj.canvas.width/2)},delay);jQuery('#conceal_right').animate({left:'-='+(obj.canvas.width/2),width:(obj.canvas.width/2)},delay);jQuery('#conceal_top').animate({height:'+='+(obj.canvas.height/2)},delay);jQuery('#conceal_bottom').animate({top:'-='+(obj.canvas.height/2),height:(obj.canvas.height/2)},delay);setTimeout(function()
{document.body.removeChild(document.getElementById("conceal_top"))
    document.body.removeChild(document.getElementById("conceal_bottom"))
    document.body.removeChild(document.getElementById("conceal_left"))
    document.body.removeChild(document.getElementById("conceal_right"))},delay);setTimeout(function(){RGraph.Clear(obj.canvas);},delay);if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.jQuery.HBlinds.Open=function(obj)
{var canvas=obj.canvas;var opts=arguments[1]?arguments[1]:[];var delay=1000;var color=opts['color']?opts['color']:'white';var xy=RGraph.getCanvasXY(canvas);var height=canvas.height/5;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);for(var i=0;i<5;++i){var div=document.createElement('DIV');div.id='blinds_'+i;div.style.width=canvas.width+'px';div.style.height=height+'px';div.style.left=xy[0]+'px';div.style.top=(xy[1]+(canvas.height*(i/5)))+'px';div.style.position='absolute';div.style.backgroundColor=color;document.body.appendChild(div);jQuery('#blinds_'+i).animate({height:0},delay);}
    setTimeout(function(){document.body.removeChild(document.getElementById('blinds_0'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_1'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_2'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_3'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_4'));},delay);if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.jQuery.HBlinds.Close=function(obj)
{var canvas=obj.canvas;var opts=arguments[1]?arguments[1]:[];var delay=1000;var color=opts['color']?opts['color']:'white';var xy=RGraph.getCanvasXY(canvas);var height=canvas.height/5;for(var i=0;i<5;++i){var div=document.createElement('DIV');div.id='blinds_'+i;div.style.width=canvas.width+'px';div.style.height=0;div.style.left=xy[0]+'px';div.style.top=(xy[1]+(canvas.height*(i/5)))+'px';div.style.position='absolute';div.style.backgroundColor=color;document.body.appendChild(div);jQuery('#blinds_'+i).animate({height:height+'px'},delay);}
    setTimeout(function(){RGraph.Clear(obj.canvas);},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_0'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_1'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_2'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_3'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_4'));},delay+100);if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.jQuery.VBlinds.Open=function(obj)
{var canvas=obj.canvas;var opts=arguments[1]?arguments[1]:[];var delay=1000;var color=opts['color']?opts['color']:'white';var xy=RGraph.getCanvasXY(canvas);var width=canvas.width/10;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);for(var i=0;i<10;++i){var div=document.createElement('DIV');div.id='blinds_'+i;div.style.width=width+'px';div.style.height=canvas.height+'px';div.style.left=(xy[0]+(canvas.width*(i/10)))+'px';div.style.top=(xy[1])+'px';div.style.position='absolute';div.style.backgroundColor=color;document.body.appendChild(div);jQuery('#blinds_'+i).animate({width:0},delay);}
    setTimeout(function(){document.body.removeChild(document.getElementById('blinds_0'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_1'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_2'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_3'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_4'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_5'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_6'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_7'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_8'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_9'));},delay+100);if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.jQuery.VBlinds.Close=function(obj)
{var canvas=obj.canvas;var opts=arguments[1]?arguments[1]:[];var delay=1000;var color=opts['color']?opts['color']:'white';var xy=RGraph.getCanvasXY(canvas);var width=canvas.width/10;for(var i=0;i<10;++i){var div=document.createElement('DIV');div.id='blinds_'+i;div.style.width=0;div.style.height=canvas.height+'px';div.style.left=(xy[0]+(canvas.width*(i/10)))+'px';div.style.top=(xy[1])+'px';div.style.position='absolute';div.style.backgroundColor=color;document.body.appendChild(div);jQuery('#blinds_'+i).animate({width:width},delay);}
    setTimeout(function(){RGraph.Clear(obj.canvas,color);},delay+100);if(opts['remove']){setTimeout(function(){document.body.removeChild(document.getElementById('blinds_0'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_1'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_2'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_3'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_4'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_5'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_6'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_7'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_8'));},delay+100);setTimeout(function(){document.body.removeChild(document.getElementById('blinds_9'));},delay+100);}
    if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.Pie.Grow=function(obj)
{var canvas=obj.canvas;var opts=arguments[1]?arguments[1]:[];var color=opts['color']?opts['color']:'white';var xy=RGraph.getCanvasXY(canvas);canvas.style.visibility='hidden';RGraph.RedrawCanvas(canvas);var radius=obj.getRadius();if(typeof(obj.Get('chart.radius'))=='number'){radius=obj.Get('chart.radius');}
    canvas.style.visibility='visible';obj.Set('chart.radius',0);RGraph.Effects.Animate(obj,{'chart.radius':radius},arguments[2]);}
RGraph.Effects.Bar.Grow=function(obj)
{var callback=arguments[2];obj.original_data=RGraph.array_clone(obj.data);obj.__animation_frame__=0;if(obj.Get('chart.ymax')==null){var ymax=0;for(var i=0;i<obj.data.length;++i){if(RGraph.is_array(obj.data[i])&&obj.Get('chart.grouping')=='stacked'){ymax=Math.max(ymax,Math.abs(RGraph.array_sum(obj.data[i])));}else if(RGraph.is_array(obj.data[i])&&obj.Get('chart.grouping')=='grouped'){ymax=Math.max(ymax,Math.abs(RGraph.array_max(obj.data[i])));}else{ymax=Math.max(ymax,Math.abs(obj.data[i]));}}
    var scale=RGraph.getScale2(obj,{'max':ymax});obj.Set('chart.ymax',scale.max);}
    function Grow()
    {var numFrames=30;if(!obj.__animation_frame__){obj.__animation_frame__=0;obj.__original_hmargin__=obj.Get('chart.hmargin');obj.__hmargin__=((obj.canvas.width-obj.Get('chart.gutter.left')-obj.Get('chart.gutter.right'))/obj.data.length)/2;obj.Set('chart.hmargin',obj.__hmargin__);}
        for(var j=0;j<obj.original_data.length;++j){if(typeof(obj.data[j])=='object'){for(var k=0;k<obj.data[j].length;++k){obj.data[j][k]=(obj.__animation_frame__/numFrames)*obj.original_data[j][k];}}else{obj.data[j]=(obj.__animation_frame__/numFrames)*obj.original_data[j];}}
        obj.Set('chart.hmargin',((1-(obj.__animation_frame__/numFrames))*(obj.__hmargin__-obj.__original_hmargin__))+obj.__original_hmargin__);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(obj.__animation_frame__<numFrames){obj.__animation_frame__+=1;RGraph.Effects.UpdateCanvas(Grow);}else{if(callback){callback(obj);}}}
    RGraph.Effects.UpdateCanvas(Grow);}
RGraph.Effects.UpdateCanvas=function(func)
{window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.amozRequestAnimationFrame||(function(func){setTimeout(func,16.666);});window.requestAnimationFrame(func);}
RGraph.Effects.Fuel.Grow=function(obj)
{var callback=arguments[2];var numFrames=30;var frame=0;var origValue=Number(obj.currentValue);if(obj.currentValue==null){obj.currentValue=obj.min;origValue=obj.min;}
    var newValue=obj.value;var diff=newValue-origValue;var step=(diff/numFrames);var frame=0;function Grow()
{frame++;obj.value=((frame/numFrames)*diff)+origValue
    if(obj.value>obj.max)obj.value=obj.max;if(obj.value<obj.min)obj.value=obj.min;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(frame<numFrames){RGraph.Effects.UpdateCanvas(Grow);}else if(typeof(callback)=='function'){callback(obj);}}
    Grow();}
RGraph.Effects.Animate=function(obj,map)
{RGraph.RedrawCanvas(obj.canvas);RGraph.Effects.__total_frames__=(map&&map['frames'])?map['frames']:30;function Animate_Iterator(func)
{var id=[obj.id+'_'+obj.type];if(typeof(RGraph.Effects.__current_frame__)=='undefined'){RGraph.Effects.__current_frame__=new Array();RGraph.Effects.__original_values__=new Array();RGraph.Effects.__diffs__=new Array();RGraph.Effects.__steps__=new Array();RGraph.Effects.__callback__=new Array();}
    if(!RGraph.Effects.__current_frame__[id]){RGraph.Effects.__current_frame__[id]=RGraph.Effects.__total_frames__;RGraph.Effects.__original_values__[id]={};RGraph.Effects.__diffs__[id]={};RGraph.Effects.__steps__[id]={};RGraph.Effects.__callback__[id]=func;}
    for(var i in map){if(typeof(map[i])=='string'||typeof(map[i])=='number'){if(RGraph.Effects.__current_frame__[id]==RGraph.Effects.__total_frames__){RGraph.Effects.__original_values__[id][i]=obj.Get(i);RGraph.Effects.__diffs__[id][i]=map[i]-RGraph.Effects.__original_values__[id][i];RGraph.Effects.__steps__[id][i]=RGraph.Effects.__diffs__[id][i]/RGraph.Effects.__total_frames__;}
        obj.Set(i,obj.Get(i)+RGraph.Effects.__steps__[id][i]);RGraph.RedrawCanvas(obj.canvas);}}
    if(--RGraph.Effects.__current_frame__[id]>0){RGraph.Effects.UpdateCanvas(Animate_Iterator);}else{if(typeof(RGraph.Effects.__callback__[id])=='function'){(RGraph.Effects.__callback__[id])(obj);}
        RGraph.Effects.__current_frame__[id]=null;RGraph.Effects.__original_values__[id]=null;RGraph.Effects.__diffs__[id]=null;RGraph.Effects.__steps__[id]=null;RGraph.Effects.__callback__[id]=null;}}
    Animate_Iterator(arguments[2]);}
RGraph.Effects.jQuery.Slide.In=function(obj)
{RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);var canvas=obj.canvas;var div=RGraph.Effects.ReplaceCanvasWithDIV(obj.canvas);var delay=1000;div.style.overflow='hidden';var from=typeof(arguments[1])=='object'&&typeof(arguments[1]['from'])=='string'?arguments[1]['from']:'left';canvas.style.position='relative';if(from=='left'){canvas.style.left=(0-div.offsetWidth)+'px';canvas.style.top=0;}else if(from=='top'){canvas.style.left=0;canvas.style.top=(0-div.offsetHeight)+'px';}else if(from=='bottom'){canvas.style.left=0;canvas.style.top=div.offsetHeight+'px';}else{canvas.style.left=div.offsetWidth+'px';canvas.style.top=0;}
    jQuery('#'+obj.id).animate({left:0,top:0},delay);if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.jQuery.Slide.Out=function(obj)
{var canvas=obj.canvas;var div=RGraph.Effects.ReplaceCanvasWithDIV(obj.canvas);var delay=1000;div.style.overflow='hidden';var to=typeof(arguments[1])=='object'&&arguments[1]&&typeof(arguments[1]['to'])=='string'?arguments[1]['to']:'left';canvas.style.position='relative';canvas.style.left=0;canvas.style.top=0;if(to=='left'){jQuery('#'+obj.id).animate({left:(0-canvas.width)+'px'},delay);}else if(to=='top'){jQuery('#'+obj.id).animate({left:0,top:(0-div.offsetHeight)+'px'},delay);}else if(to=='bottom'){jQuery('#'+obj.id).animate({top:(0+div.offsetHeight)+'px'},delay);}else{jQuery('#'+obj.id).animate({left:(0+canvas.width)+'px'},delay);}
    if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.Line.Unfold=function(obj)
{obj.Set('chart.animation.factor',obj.Get('chart.animation.unfold.initial'));RGraph.Effects.Animate(obj,{'chart.animation.factor':1},arguments[2]);}
RGraph.Effects.Rose.RoundRobin=function(obj)
{var numFrames=60;var currentFrame=0;var original_margin=obj.Get('chart.margin');var margin=(360/obj.data.length)/2;var callback=arguments[2];obj.Set('chart.margin',margin);obj.Set('chart.animation.roundrobin.factor',0);function RoundRobin_inner()
{if(currentFrame++<numFrames){obj.Set('chart.animation.roundrobin.factor',currentFrame/numFrames);obj.Set('chart.margin',(currentFrame/numFrames)*original_margin);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);RGraph.Effects.UpdateCanvas(RoundRobin_inner);}else{obj.Set('chart.animation.roundrobin.factor',1);obj.Set('chart.margin',original_margin);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(typeof(callback)=='function'){callback(obj);}}}
    RGraph.Effects.UpdateCanvas(RoundRobin_inner);}
RGraph.Effects.Line.UnfoldFromCenter=function(obj)
{var numFrames=30;var original_opacity=obj.canvas.style.opacity;obj.canvas.style.opacity=0;obj.Draw();RGraph.RedrawCanvas(obj.canvas);var center_value=obj.Get('chart.xaxispos')=='center'?obj.Get('chart.ymin'):((obj.max-obj.min)/2)+obj.min;obj.Set('chart.ymax',obj.scale2.max);RGraph.Clear(obj.canvas);obj.canvas.style.opacity=original_opacity;var original_data=RGraph.array_clone(obj.original_data);var callback=arguments[2];if(!obj.__increments__){obj.__increments__=new Array();for(var dataset=0;dataset<original_data.length;++dataset){obj.__increments__[dataset]=new Array();for(var i=0;i<original_data[dataset].length;++i){if(obj.Get('chart.filled')&&obj.Get('chart.filled.accumulative')&&dataset>0){obj.__increments__[dataset][i]=original_data[dataset][i]/numFrames;obj.original_data[dataset][i]=0;}else{obj.__increments__[dataset][i]=(original_data[dataset][i]-center_value)/numFrames;obj.original_data[dataset][i]=center_value;}}}}
    function UnfoldFromCenter()
    {RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);for(var dataset=0;dataset<original_data.length;++dataset){for(var i=0;i<original_data[dataset].length;++i){obj.original_data[dataset][i]+=obj.__increments__[dataset][i];}}
        if(--numFrames>0){RGraph.Effects.UpdateCanvas(UnfoldFromCenter);}else{obj.original_data=RGraph.array_clone(original_data);obj.__increments__=null;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(typeof(callback)=='function'){callback(obj);}}}
    UnfoldFromCenter();}
RGraph.Effects.Line.jQuery.UnfoldFromCenterTrace=function(obj)
{obj.canvas.style.visibility='hidden';setTimeout(function(){obj.canvas.style.visibility='visible';},10);obj.Draw();RGraph.Clear(obj.canvas);var data=RGraph.array_clone(obj.original_data);var callback=arguments[2];function Unfold_callback()
{obj.original_data=data;RGraph.Effects.Line.UnfoldFromCenter(obj,null,callback);}
    var half=obj.Get('chart.xaxispos')=='center'?obj.min:((obj.max-obj.min)/2)+obj.min;obj.Set('chart.ymax',obj.max);for(var i=0;i<obj.original_data.length;++i){for(var j=0;j<obj.original_data[i].length;++j){obj.original_data[i][j]=(obj.Get('chart.filled')&&obj.Get('chart.filled.accumulative')&&i>0)?0:half;}}
    RGraph.Effects.Line.jQuery.Trace(obj,{'duration':1000},Unfold_callback);}
RGraph.Effects.Line.FoldToCenter=function(obj)
{var totalFrames=30;var numFrame=totalFrames;RGraph.RedrawCanvas(obj.canvas);var center_value=obj.scale2.max/2;obj.Set('chart.ymax',obj.scale2.max);RGraph.Clear(obj.canvas);var original_data=RGraph.array_clone(obj.original_data);obj.Set('chart.shadow.blur',0);var callback=arguments[2];function FoldToCenter()
{for(var i=0;i<obj.data.length;++i){if(obj.data[i].length){for(var j=0;j<obj.data[i].length;++j){if(obj.original_data[i][j]>center_value){obj.original_data[i][j]=((original_data[i][j]-center_value)*(numFrame/totalFrames))+center_value;}else{obj.original_data[i][j]=center_value-((center_value-original_data[i][j])*(numFrame/totalFrames));}}}}
    RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas)
    if(numFrame-->0){RGraph.Effects.UpdateCanvas(FoldToCenter);}else if(typeof(callback)=='function'){callback(obj);}}
    RGraph.Effects.UpdateCanvas(FoldToCenter);}
RGraph.Effects.Odo.Grow=function(obj)
{var numFrames=30;var curFrame=0;var origValue=Number(obj.currentValue);var newValue=obj.value;var diff=newValue-origValue;var step=(diff/numFrames);var callback=arguments[2];function Grow_inner()
{obj.value=origValue+(curFrame*step);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(++curFrame<=numFrames){RGraph.Effects.UpdateCanvas(Grow_inner);}else if(callback){callback(obj);}}
    Grow_inner();}
RGraph.Effects.Meter.Grow=function(obj)
{if(!obj.currentValue){obj.currentValue=obj.min;}
    var totalFrames=60;var numFrame=0;var diff=obj.value-obj.currentValue;var step=diff/totalFrames
    var callback=arguments[2];var initial=obj.currentValue;function Grow_meter_inner()
{obj.value=initial+(numFrame++*step);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(numFrame++<=totalFrames){RGraph.Effects.UpdateCanvas(Grow_meter_inner);}else if(typeof(callback)=='function'){callback(obj);}}
    Grow_meter_inner();}
RGraph.Effects.HBar.Grow=function(obj)
{obj.original_data=RGraph.array_clone(obj.data);obj.__animation_frame__=0;if(obj.Get('chart.xmax')==0){var xmax=0;for(var i=0;i<obj.data.length;++i){if(RGraph.is_array(obj.data[i])&&obj.Get('chart.grouping')=='stacked'){xmax=Math.max(xmax,RGraph.array_sum(obj.data[i]));}else if(RGraph.is_array(obj.data[i])&&obj.Get('chart.grouping')=='grouped'){xmax=Math.max(xmax,RGraph.array_max(obj.data[i]));}else{xmax=Math.max(xmax,RGraph.array_max(obj.data[i]));}}
    var scale2=RGraph.getScale2(obj,{'max':xmax});obj.Set('chart.xmax',scale2.max);}
    if(obj.Get('chart.shadow.blur')>0){var __original_shadow_blur__=obj.Get('chart.shadow.blur');obj.Set('chart.shadow.blur',0);}
    function Grow()
    {var numFrames=30;if(!obj.__animation_frame__){obj.__animation_frame__=0;obj.__original_vmargin__=obj.Get('chart.vmargin');obj.__vmargin__=((obj.canvas.height-obj.Get('chart.gutter.top')-obj.Get('chart.gutter.bottom'))/obj.data.length)/2;obj.Set('chart.vmargin',obj.__vmargin__);}
        for(var j=0;j<obj.original_data.length;++j){var easing=Math.pow(Math.sin((obj.__animation_frame__*(90/numFrames))/(180/PI)),4);if(typeof(obj.data[j])=='object'){for(var k=0;k<obj.data[j].length;++k){obj.data[j][k]=(obj.__animation_frame__/numFrames)*obj.original_data[j][k]*easing;}}else{obj.data[j]=(obj.__animation_frame__/numFrames)*obj.original_data[j]*easing;}}
        obj.Set('chart.vmargin',((1-(obj.__animation_frame__/numFrames))*(obj.__vmargin__-obj.__original_vmargin__))+obj.__original_vmargin__);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(obj.__animation_frame__<numFrames){obj.__animation_frame__+=1;RGraph.Effects.UpdateCanvas(Grow);}else{if(typeof(__original_shadow_blur__)=='number'&&__original_shadow_blur__>0){obj.Set('chart.shadow.blur',__original_shadow_blur__);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);}}}
    RGraph.Effects.UpdateCanvas(Grow);}
RGraph.Effects.Line.jQuery.Trace=function(obj)
{var callback=typeof(arguments[2])=='function'?arguments[2]:function(){};var opt=arguments[1]||[];if(!opt['duration']){opt['duration']=1000;}
    RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);var div=document.createElement('DIV');var xy=RGraph.getCanvasXY(obj.canvas);div.id='__rgraph_trace_animation_'+RGraph.random(0,4351623)+'__';div.style.left=xy[0]+'px';div.style.top=xy[1]+'px';div.style.width=obj.Get('chart.gutter.left');div.style.height=obj.canvas.height+'px';div.style.position='absolute';div.style.overflow='hidden';document.body.appendChild(div);obj.canvas.__rgraph_trace_div__=div;var id='__rgraph_line_trace_animation_'+RGraph.random(0,99999999)+'__';var canvas2=document.createElement('CANVAS');var properties=['WebkitTransform','MozTransform','OTransform','MSTransform','transform'];for(i in properties){var name=properties[i];if(typeof(obj.canvas.style[name])=='string'&&obj.canvas.style[name]){canvas2.style[name]=obj.canvas.style[name];}}
    obj.canvas.__rgraph_line_canvas2__=canvas2;canvas2.width=obj.canvas.width;canvas2.height=obj.canvas.height;canvas2.style.position='absolute';canvas2.style.left=0;canvas2.style.top=0;canvas2.noclear=true;canvas2.id=id;div.appendChild(canvas2);var reposition_canvas2=function(e)
{var xy=RGraph.getCanvasXY(obj.canvas);div.style.left=xy[0]+'px';div.style.top=xy[1]+'px';}
    window.addEventListener('resize',reposition_canvas2,false)
    var obj2=new RGraph.Line(id,RGraph.array_clone(obj.original_data));RGraph.ObjectRegistry.Remove(obj2);for(i in obj.properties){if(typeof(i)=='string'){obj2.Set(i,obj.properties[i]);}}
    obj2.Set('chart.labels',[]);obj2.Set('chart.background.grid',false);obj2.Set('chart.background.barcolor1','rgba(0,0,0,0)');obj2.Set('chart.background.barcolor2','rgba(0,0,0,0)');obj2.Set('chart.ylabels',false);obj2.Set('chart.noaxes',true);obj2.Set('chart.title','');obj2.Set('chart.title.xaxis','');obj2.Set('chart.title.yaxis','');obj2.Set('chart.filled.accumulative',obj.Get('chart.filled.accumulative'));obj.Set('chart.key',[]);obj2.Draw();obj.canvas.__rgraph_trace_obj2__=obj2;obj.Set('chart.line.visible',false);obj.Set('chart.colors',['rgba(0,0,0,0)']);if(obj.Get('chart.filled')){var original_fillstyle=obj.Get('chart.fillstyle');obj.Set('chart.fillstyle','rgba(0,0,0,0)');obj.Set('chart.animation.trace.original.fillstyle',original_fillstyle);}
    RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(!obj.canvas.__rgraph_trace_cover__){var div2=document.createElement('DIV');div2.id='__rgraph_trace_animation_'+RGraph.random(0,4351623)+'__';div2.style.left=xy[0]+'px';div2.style.top=xy[1]+'px';div2.style.width=obj.canvas.width+'px';div2.style.height=obj.canvas.height+'px';div2.style.position='absolute';div2.style.overflow='hidden';div2.style.backgroundColor='rgba(0,0,0,0)';div.div2=div2;obj.canvas.__rgraph_trace_cover__=div2;document.body.appendChild(div2);}else{div2=obj.canvas.__rgraph_trace_cover__;}
    jQuery('#'+div.id).animate({width:obj.canvas.width+'px'},opt['duration'],function(){RGraph.Effects.Line.Trace_callback(obj)});RGraph.Effects.Line.Trace_callback=function(obj)
{var obj2=obj.canvas.__rgraph_trace_obj2__;window.removeEventListener('resize',reposition_canvas2,false);div.style.display='none';div2.style.display='none';obj.Set('chart.line.visible',true);obj.Set('chart.filled',RGraph.array_clone(obj2.Get('chart.filled')));obj.Set('chart.fillstyle',obj.Get('chart.animation.trace.original.fillstyle'));obj.Set('chart.colors',RGraph.array_clone(obj2.Get('chart.colors')));obj.Set('chart.key',RGraph.array_clone(obj2.Get('chart.key')));RGraph.RedrawCanvas(obj.canvas);obj.canvas.__rgraph_trace_div__.style.display='none';obj.canvas.__rgraph_trace_div__=null;obj.canvas.__rgraph_line_canvas2__.style.display='none';obj.canvas.__rgraph_line_canvas2__=null;obj.canvas.__rgraph_trace_cover__.style.display='none';obj.canvas.__rgraph_trace_cover__=null;callback(obj);}}
RGraph.Effects.Line.Trace2=function(obj)
{var callback=arguments[2];var numFrames=(arguments[1]&&arguments[1].frames)?arguments[1].frames:60;var frame=0;obj.Set('animation.trace.clip',0);function Grow()
{if(frame>numFrames){if(callback){callback(obj);}
    return;}
    obj.Set('animation.trace.clip',frame/numFrames);RGraph.RedrawCanvas(obj.canvas);frame++;RGraph.Effects.UpdateCanvas(Grow);}
    Grow();}
RGraph.Effects.Radar.Trace=function(obj)
{var callback=arguments[2];var numFrames=(arguments[1]&&arguments[1].frames)?arguments[1].frames:60;var frame=0;obj.Set('animation.trace.clip',0);function Grow()
{if(frame>numFrames){if(callback){callback(obj);}
    return;}
    obj.Set('animation.trace.clip',frame/numFrames);RGraph.RedrawCanvas(obj.canvas);frame++;RGraph.Effects.UpdateCanvas(Grow);}
    Grow();}
RGraph.Effects.Pie.RoundRobin=function(obj)
{var callback=arguments[2]?arguments[2]:null;var opt=arguments[1];var currentFrame=0;var numFrames=(opt&&opt['frames'])?opt['frames']:90;var targetRadius=obj.getRadius();obj.Set('chart.events',false);if(obj.properties['chart.variant']=='donut'&&typeof(obj.properties['chart.variant.donut.width'])=='number'){if(RGraph.is_null(opt)){var opt={radius:null}}else{opt.radius=null;}}
    function RoundRobin_inner()
    {obj.Set('chart.effect.roundrobin.multiplier',Math.pow(Math.sin((currentFrame*(90/numFrames))/(180/PI)),2)*(currentFrame/numFrames));if(!opt||typeof(opt['radius'])=='undefined'||opt['radius']==true){obj.Set('chart.radius',targetRadius*obj.Get('chart.effect.roundrobin.multiplier'));}
        RGraph.RedrawCanvas(obj.canvas);if(currentFrame++<numFrames){RGraph.Effects.UpdateCanvas(RoundRobin_inner);}else{obj.Set('chart.events',true);RGraph.RedrawCanvas(obj.canvas);if(callback){callback(obj);}}}
    RGraph.Effects.UpdateCanvas(RoundRobin_inner);}
RGraph.Effects.Pie.Implode=function(obj)
{var numFrames=90;var distance=Math.min(obj.canvas.width,obj.canvas.height);var exploded=obj.Get('chart.exploded');var callback=arguments[2];function Implode_inner()
{obj.Set('chart.exploded',Math.sin(numFrames/(180/PI))*distance);RGraph.Clear(obj.canvas)
    RGraph.RedrawCanvas(obj.canvas);if(numFrames>0){numFrames--;RGraph.Effects.UpdateCanvas(Implode_inner);}else{obj.Set('chart.exploded',exploded);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(typeof(callback)=='function'){callback(obj);}}}
    RGraph.Effects.UpdateCanvas(Implode_inner);}
RGraph.Effects.Pie.Explode=function(obj)
{var canvas=obj.canvas;var opts=arguments[1]?arguments[1]:[];var callback=arguments[2]?arguments[2]:null;var frames=opts['frames']?opts['frames']:60;obj.Set('chart.exploded',0);RGraph.Effects.Animate(obj,{'frames':frames,'chart.exploded':Math.max(canvas.width,canvas.height)},callback);}
RGraph.Effects.Gauge.Grow=function(obj)
{var callback=arguments[2];var numFrames=30;var frame=0;if(typeof(obj.value)=='number'){var origValue=Number(obj.currentValue);if(obj.currentValue==null){obj.currentValue=obj.min;origValue=obj.min;}
    var newValue=obj.value;var diff=newValue-origValue;var step=(diff/numFrames);var frame=0;function Grow_single()
    {frame++;obj.value=((frame/numFrames)*diff)+origValue;if(obj.value>obj.max)obj.value=obj.max;if(obj.value<obj.min)obj.value=obj.min;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(frame<30){RGraph.Effects.UpdateCanvas(Grow_single);}else if(typeof(callback)=='function'){callback(obj);}}
    Grow_single();}else{if(obj.currentValue==null){obj.currentValue=[];for(var i=0;i<obj.value.length;++i){obj.currentValue[i]=obj.min;}
    origValue=RGraph.array_clone(obj.currentValue);}
    var origValue=RGraph.array_clone(obj.currentValue);var newValue=RGraph.array_clone(obj.value);var diff=[];var step=[];for(var i=0;i<newValue.length;++i){diff[i]=newValue[i]-Number(obj.currentValue[i]);step[i]=(diff[i]/numFrames);}
    function Grow_multiple()
    {frame++;for(var i=0;i<obj.value.length;++i){obj.value[i]=((frame/numFrames)*diff[i])+origValue[i];if(obj.value[i]>obj.max)obj.value[i]=obj.max;if(obj.value[i]<obj.min)obj.value[i]=obj.min;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);}
        if(frame<30){RGraph.Effects.UpdateCanvas(Grow_multiple);}else if(typeof(callback)=='function'){callback(obj);}}
    Grow_multiple();}}
RGraph.Effects.Radar.Grow=function(obj)
{var totalframes=30;var framenum=totalframes;var data=RGraph.array_clone(obj.data);var callback=arguments[2];obj.original_data=RGraph.array_clone(obj.original_data);function Grow_inner()
{for(var i=0;i<data.length;++i){if(obj.original_data[i]==null){obj.original_data[i]=[];}
    for(var j=0;j<data[i].length;++j){obj.original_data[i][j]=((totalframes-framenum)/totalframes)*data[i][j];}}
    RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(framenum>0){framenum--;RGraph.Effects.UpdateCanvas(Grow_inner);}else if(typeof(callback)=='function'){callback(obj);}}
    RGraph.Effects.UpdateCanvas(Grow_inner);}
RGraph.Effects.Waterfall.Grow=function(obj)
{var totalFrames=45;var numFrame=0;var data=RGraph.array_clone(obj.data);var callback=arguments[2];for(var i=0;i<obj.data.length;++i){obj.data[i]/=totalFrames;}
    if(obj.Get('chart.ymax')==null){var max=obj.getMax(data);var scale2=RGraph.getScale2(obj,{'max':max});obj.Set('chart.ymax',scale2.max);}
    function Grow_inner()
    {for(var i=0;i<obj.data.length;++i){obj.data[i]=data[i]*(numFrame/totalFrames);}
        var multiplier=Math.pow(Math.sin(((numFrame/totalFrames)*90)/(180/PI)),20);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(numFrame++<totalFrames){RGraph.Effects.UpdateCanvas(Grow_inner);}else if(typeof(callback)=='function'){callback(obj);}}
    RGraph.Effects.UpdateCanvas(Grow_inner)}
RGraph.Effects.Bar.Wave2=RGraph.Effects.Bar.Wave=function(obj)
{var totalframes=(arguments[1]&&arguments[1].frames)?arguments[1].frames:15;var original_data=[];obj.Draw();obj.Set('chart.ymax',obj.scale2.max);RGraph.Clear(obj.canvas);for(var i=0;i<obj.data.length;++i){(function(idx)
{original_data[i]=obj.data[i];obj.data[i]=typeof(obj.data[i])=='object'?[]:0;setTimeout(function(){Iterator(idx,totalframes);},100*i)})(i);}
    function Iterator(idx,frames)
    {if(frames-->0){if(typeof(obj.data[idx])=='number'){obj.data[idx]=((totalframes-frames)/totalframes)*original_data[idx]}else if(typeof(obj.data[idx])=='object'){for(var k=0;k<original_data[idx].length;++k){obj.data[idx][k]=((totalframes-frames)/totalframes)*original_data[idx][k];}}
        RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);RGraph.Effects.UpdateCanvas(function(){Iterator(idx,frames);});}}}
RGraph.Effects.VProgress.Grow=RGraph.Effects.HProgress.Grow=function(obj)
{var canvas=obj.canvas;var context=obj.context;var initial_value=obj.currentValue;var numFrames=30;var currentFrame=0
    if(typeof(obj.value)=='object'){if(RGraph.is_null(obj.currentValue)){obj.currentValue=[];for(var i=0;i<obj.value.length;++i){obj.currentValue[i]=0;}}
        var diff=[];var increment=[];for(var i=0;i<obj.value.length;++i){diff[i]=obj.value[i]-Number(obj.currentValue[i]);increment[i]=diff[i]/numFrames;}
        if(initial_value==null){initial_value=[];for(var i=0;i<obj.value.length;++i){initial_value[i]=0;}}}else{var diff=obj.value-Number(obj.currentValue);var increment=diff/numFrames;}
    var callback=arguments[2]?arguments[2]:null;function Grow()
{currentFrame++;if(currentFrame<=numFrames){if(typeof(obj.value)=='object'){obj.value=[];for(var i=0;i<initial_value.length;++i){obj.value[i]=initial_value[i]+(increment[i]*currentFrame);}}else{obj.value=initial_value+(increment*currentFrame);}
    RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);RGraph.Effects.UpdateCanvas(Grow);}else if(callback){callback(obj);}}
    RGraph.Effects.UpdateCanvas(Grow);}
RGraph.Effects.Gantt.Grow=function(obj)
{var canvas=obj.canvas;var context=obj.context;var numFrames=30;var currentFrame=0;var callback=arguments[2]?arguments[2]:null;var events=obj.data;var original_events=RGraph.array_clone(events);function Grow_gantt_inner()
{if(currentFrame<=numFrames){for(var i=0;i<events.length;++i){if(typeof(events[i][0])=='object'){for(var j=0;j<events[i].length;++j){events[i][j][1]=(currentFrame/numFrames)*original_events[i][j][1];}}else{events[i][1]=(currentFrame/numFrames)*original_events[i][1];}}
    obj.data=events;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);currentFrame++;RGraph.Effects.UpdateCanvas(Grow_gantt_inner);}else if(callback){callback(obj);}}
    RGraph.Effects.UpdateCanvas(Grow_gantt_inner);}
if(!Function.prototype.bind){Function.prototype.bind=function(oThis){if(typeof this!=="function"){if(console&&console.log){console.log('Function.prototype.bind - what is trying to be bound is not callable');}}
    var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP?this:oThis||window,aArgs.concat(Array.prototype.slice.call(arguments)));};fNOP.prototype=this.prototype;fBound.prototype=new fNOP();return fBound;};}
RGraph.Effects.Rose.Explode=function(obj)
{var canvas=obj.canvas;var opts=arguments[1]?arguments[1]:[];var callback=arguments[2]?arguments[2]:null;var frames=opts['frames']?opts['frames']:60;obj.Set('chart.exploded',0);RGraph.Effects.Animate(obj,{'frames':frames,'chart.exploded':Math.min(canvas.width,canvas.height)},callback);}
RGraph.Effects.Rose.Implode=function(obj)
{var canvas=obj.canvas;var opts=arguments[1]?arguments[1]:[];var callback=arguments[2]?arguments[2]:null;var frames=opts['frames']?opts['frames']:60;obj.Set('chart.exploded',Math.min(canvas.width,canvas.height));RGraph.Effects.Animate(obj,{'frames':frames,'chart.exploded':0},callback);}
RGraph.Effects.Thermometer.Grow=function(obj)
{var callback=arguments[2];var numFrames=30;var origValue=Number(obj.currentValue);if(obj.currentValue==null){obj.currentValue=0
    origValue=0;}
    var newValue=obj.value;var diff=newValue-origValue;var step=(diff/numFrames);var frame=0;function Grow()
{frame++
    obj.value=v=((frame/numFrames)*diff)+origValue
    RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(frame<30){RGraph.Effects.UpdateCanvas(Grow);}else if(typeof(callback)=='function'){callback(obj);}}
    RGraph.Effects.UpdateCanvas(Grow);}
RGraph.Effects.Scatter.jQuery.Trace=function(obj)
{var callback=typeof(arguments[2])=='function'?arguments[2]:function(){};var opt=arguments[1]||[];if(!opt['duration']){opt['duration']=1500;}
    RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);var div=document.createElement('DIV');var xy=RGraph.getCanvasXY(obj.canvas);div.id='__rgraph_trace_animation_'+RGraph.random(0,4351623)+'__';div.style.left=xy[0]+'px';div.style.top=xy[1]+'px';div.style.width=obj.Get('chart.gutter.left');div.style.height=obj.canvas.height+'px';div.style.position='absolute';div.style.overflow='hidden';document.body.appendChild(div);var id='__rgraph_scatter_trace_animation_'+RGraph.random(0,99999999)+'__';var canvas2=document.createElement('CANVAS');canvas2.width=obj.canvas.width;canvas2.height=obj.canvas.height;canvas2.style.position='absolute';canvas2.style.left=0;canvas2.style.top=0;canvas2.noclear=true;canvas2.id=id;div.appendChild(canvas2);var reposition_canvas2=function(e)
{var xy=RGraph.getCanvasXY(obj.canvas);div.style.left=xy[0]+'px';div.style.top=xy[1]+'px';}
    window.addEventListener('resize',reposition_canvas2,false)
    var obj2=new RGraph.Scatter(id,RGraph.array_clone(obj.data));RGraph.ObjectRegistry.Remove(obj2);for(i in obj.properties){if(typeof(i)=='string'){obj2.Set(i,obj.properties[i]);}}
    obj2.Set('chart.labels',[]);obj2.Set('chart.background.grid',false);obj2.Set('chart.background.barcolor1','rgba(0,0,0,0)');obj2.Set('chart.background.barcolor2','rgba(0,0,0,0)');obj2.Set('chart.ylabels',false);obj2.Set('chart.noaxes',true);obj2.Set('chart.title','');obj2.Set('chart.title.xaxis','');obj2.Set('chart.title.yaxis','');obj.Set('chart.key',[]);obj2.Draw();obj.Set('chart.line.visible',false);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(!obj.canvas.__rgraph_scatter_trace_cover__){var div2=document.createElement('DIV');div2.id='__rgraph_trace_animation_'+RGraph.random(0,4351623)+'__';div2.style.left=xy[0]+'px';div2.style.top=xy[1]+'px';div2.style.width=obj.canvas.width+'px';div2.style.height=obj.canvas.height+'px';div2.style.position='absolute';div2.style.overflow='hidden';div2.style.backgroundColor='rgba(0,0,0,0)';div.div2=div2;obj.canvas.__rgraph_scatter_trace_cover__=div2
    document.body.appendChild(div2);}else{div2=obj.canvas.__rgraph_scatter_trace_cover__;}
    jQuery('#'+div.id).animate({width:obj.canvas.width+'px'},opt['duration'],function(){window.removeEventListener('resize',reposition_canvas2,false);div.style.display='none';div2.style.display='none';obj.Set('chart.line.visible',true);obj.Set('chart.colors',RGraph.array_clone(obj2.Get('chart.colors')));obj.Set('chart.key',RGraph.array_clone(obj2.Get('chart.key')));RGraph.RedrawCanvas(obj.canvas);obj.canvas.__rgraph_trace_cover__=null;callback(obj);});}
RGraph.Effects.CornerGauge.Grow=function(obj)
{var callback=arguments[2];var numFrames=30;var frame=0;if(typeof(obj.value)=='number'){var origValue=Number(obj.currentValue);if(obj.currentValue==null){obj.currentValue=obj.min;origValue=obj.min;}
    var newValue=obj.value;var diff=newValue-origValue;var step=(diff/numFrames);var frame=0;function Grow_single()
    {frame++;obj.value=((frame/numFrames)*diff)+origValue
        if(obj.value>obj.max)obj.value=obj.max;if(obj.value<obj.min)obj.value=obj.min;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(frame<30){RGraph.Effects.UpdateCanvas(Grow_single);}else if(typeof(callback)=='function'){callback(obj);}}
    Grow_single();}else{if(obj.currentValue==null){obj.currentValue=[];for(var i=0;i<obj.value.length;++i){obj.currentValue[i]=obj.min;}
    origValue=RGraph.array_clone(obj.currentValue);}
    var origValue=RGraph.array_clone(obj.currentValue);var newValue=RGraph.array_clone(obj.value);var diff=[];var step=[];for(var i=0;i<newValue.length;++i){diff[i]=newValue[i]-Number(obj.currentValue[i]);step[i]=(diff[i]/numFrames);}
    function Grow_multiple()
    {frame++;for(var i=0;i<obj.value.length;++i){obj.value[i]=((frame/numFrames)*diff[i])+origValue[i];if(obj.value[i]>obj.max)obj.value[i]=obj.max;if(obj.value[i]<obj.min)obj.value[i]=obj.min;RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);}
        if(frame<30){RGraph.Effects.UpdateCanvas(Grow_multiple);}else if(typeof(callback)=='function'){callback(obj);}}
    Grow_multiple();}}
RGraph.Effects.Rose.Grow=function(obj)
{var callback=arguments[2];var numFrames=60;var frame=0;function Grow()
{frame++;obj.Set('chart.animation.grow.multiplier',frame/numFrames);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(frame<numFrames){++frame;RGraph.Effects.UpdateCanvas(Grow);}else{obj.Set('chart.animation.grow.multiplier',1);RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);if(typeof(callback)=='function'){callback(obj);}}}
    RGraph.Effects.UpdateCanvas(Grow);}
RGraph.Effects.jQuery.HScissors.Open=function(obj)
{var canvas=obj.isRGraph?obj.canvas:obj;;var id=canvas.id;var opts=arguments[1]?arguments[1]:[];var delay=1000;var color=opts['color']?opts['color']:'white';var xy=RGraph.getCanvasXY(canvas);var height=canvas.height/5;RGraph.Clear(canvas);RGraph.RedrawCanvas(canvas);for(var i=0;i<5;++i){var div=document.getElementById(id+"scissors_"+i)
    if(!div){var div=document.createElement('DIV');div.id=id+'scissors_'+i;div.style.width=canvas.width+'px';div.style.height=height+'px';div.style.left=xy[0]+'px';div.style.top=(xy[1]+(canvas.height*(i/5)))+'px';div.style.position='absolute';div.style.backgroundColor=color;document.body.appendChild(div);}
    if(i%2==0){jQuery('#'+id+'scissors_'+i).animate({left:canvas.width+'px',width:0},delay);}else{jQuery('#'+id+'scissors_'+i).animate({width:0},delay);}}
    setTimeout(function(){document.body.removeChild(document.getElementById(id+'scissors_0'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById(id+'scissors_1'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById(id+'scissors_2'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById(id+'scissors_3'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById(id+'scissors_4'));},delay);if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.jQuery.HScissors.Close=function(obj)
{var canvas=obj.isRGraph?obj.canvas:obj;var id=canvas.id;var opts=arguments[1]?arguments[1]:[];var delay=1000;var color=opts['color']?opts['color']:'white';var xy=RGraph.getCanvasXY(canvas);var height=canvas.height/5;RGraph.Clear(canvas);RGraph.RedrawCanvas(canvas);for(var i=0;i<5;++i){var div=document.createElement('DIV');div.id=id+'_scissors_'+i;div.style.width=0;div.style.height=height+'px';div.style.left=(i%2==0?xy[0]+canvas.width:xy[0])+'px';div.style.top=(xy[1]+(canvas.height*(i/5)))+'px';div.style.position='absolute';div.style.backgroundColor=color;document.body.appendChild(div);if(i%2==0){jQuery('#'+id+'_scissors_'+i).animate({left:xy[0]+'px',width:canvas.width+'px'},delay);}else{jQuery('#'+id+'_scissors_'+i).animate({width:canvas.width+'px'},delay);}}
    if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.jQuery.VScissors.Open=function(obj)
{var canvas=obj.isRGraph?obj.canvas:obj;;var id=canvas.id;var opts=arguments[1]?arguments[1]:[];var delay=1000;var color=opts['color']?opts['color']:'white';var xy=RGraph.getCanvasXY(canvas);var width=canvas.width/5;RGraph.Clear(canvas);RGraph.RedrawCanvas(canvas);for(var i=0;i<5;++i){var div=document.getElementById(id+"_vscissors_"+i)
    if(!div){var div=document.createElement('DIV');div.id=id+'_vscissors_'+i;div.style.width=width+'px';div.style.height=canvas.height+'px';div.style.left=xy[0]+(canvas.width*(i/5))+'px';div.style.top=xy[1]+'px';div.style.position='absolute';div.style.backgroundColor=color;document.body.appendChild(div);}
    if(i%2==0){jQuery('#'+id+'_vscissors_'+i).animate({top:xy[1]+canvas.height+'px',height:0},delay);}else{jQuery('#'+id+'_vscissors_'+i).animate({height:0},delay);}}
    setTimeout(function(){document.body.removeChild(document.getElementById(id+'_vscissors_0'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById(id+'_vscissors_1'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById(id+'_vscissors_2'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById(id+'_vscissors_3'));},delay);setTimeout(function(){document.body.removeChild(document.getElementById(id+'_vscissors_4'));},delay);if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.jQuery.VScissors.Close=function(obj)
{var canvas=obj.isRGraph?obj.canvas:obj;var id=canvas.id;var opts=arguments[1]?arguments[1]:[];var delay=1000;var color=opts['color']?opts['color']:'white';var xy=RGraph.getCanvasXY(canvas);var width=canvas.width/5;RGraph.Clear(canvas);RGraph.RedrawCanvas(canvas);for(var i=0;i<5;++i){var div=document.getElementById(id+"_vscissors_"+i)
    if(!div){var div=document.createElement('DIV');div.id=id+'_vscissors_'+i;div.style.width=width+'px';div.style.height=0;div.style.left=xy[0]+(width*i)+'px';div.style.top=(i%2==0?xy[1]+canvas.height:xy[1])+'px';div.style.position='absolute';div.style.backgroundColor=color;document.body.appendChild(div);}
    if(i%2==0){jQuery('#'+id+'_vscissors_'+i).animate({top:xy[1]+'px',height:canvas.height+'px'},delay);}else{jQuery('#'+id+'_vscissors_'+i).animate({height:canvas.height+'px'},delay);}}
    if(typeof(arguments[2])=='function'){setTimeout(arguments[2],delay);}}
RGraph.Effects.Bar.WaveFadeIn=function(obj)
{var totalframes=(arguments[1]&&arguments[1].frames)?arguments[1].frames:30;for(var i=0;i<obj.data.length;++i){(function(idx)
{setTimeout(function(){Iterator(idx,totalframes);},50*i)})(i);}
    function Iterator(idx,frames)
    {if(frames-->0){if(obj.properties['chart.colors'][idx].match(/^rgba\(([\d.]+),([\d.]+),([\d.]+),[\d.]+\)$/)){obj.properties['chart.colors'][idx]='rgba('+RegExp.$1+','+RegExp.$2+','+RegExp.$3+','+((totalframes-frames)/totalframes)+')';}
        RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);RGraph.Effects.UpdateCanvas(function(){Iterator(idx,frames);});}}}
RGraph.Effects.Bar.WaveFadeOut=function(obj)
{var totalframes=(arguments[1]&&arguments[1].frames)?arguments[1].frames:30;for(var i=0;i<obj.data.length;++i){(function(idx)
{setTimeout(function(){Iterator(idx,totalframes);},50*i)})(i);}
    function Iterator(idx,frames)
    {if(frames-->0){if(obj.properties['chart.colors'][idx].match(/^rgba\(([\d.]+),([\d.]+),([\d.]+),[\d.]+\)$/)){obj.properties['chart.colors'][idx]='rgba('+RegExp.$1+','+RegExp.$2+','+RegExp.$3+','+(1-(((totalframes-frames)/totalframes)))+')';}
        RGraph.Clear(obj.canvas);RGraph.RedrawCanvas(obj.canvas);RGraph.Effects.UpdateCanvas(function(){Iterator(idx,frames);});}}}
if(typeof(RGraph)=='undefined')RGraph={};RGraph.Bar=function(id,data)
{this.id=id;this.canvas=document.getElementById(id);this.context=this.canvas.getContext?this.canvas.getContext("2d"):null;this.canvas.__object__=this;this.type='bar';this.max=0;this.stackedOrGrouped=false;this.isRGraph=true;this.uid=RGraph.CreateUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();this.colorsParsed=false;RGraph.OldBrowserCompat(this.context);this.properties={'chart.background.barcolor1':'rgba(0,0,0,0)','chart.background.barcolor2':'rgba(0,0,0,0)','chart.background.grid':true,'chart.background.grid.color':'#ddd','chart.background.grid.width':1,'chart.background.grid.hsize':20,'chart.background.grid.vsize':20,'chart.background.grid.vlines':true,'chart.background.grid.hlines':true,'chart.background.grid.border':true,'chart.background.grid.autofit':true,'chart.background.grid.autofit.numhlines':5,'chart.background.grid.autofit.numvlines':20,'chart.background.grid.dashed':false,'chart.background.grid.dotted':false,'chart.background.image.stretch':true,'chart.background.image.x':null,'chart.background.image.y':null,'chart.background.image.w':null,'chart.background.image.h':null,'chart.background.image.align':null,'chart.numyticks':10,'chart.hmargin':5,'chart.hmargin.grouped':1,'chart.strokecolor':'rgba(0,0,0,0)','chart.axis.color':'black','chart.axis.linewidth':1,'chart.gutter.top':25,'chart.gutter.bottom':25,'chart.gutter.left':25,'chart.gutter.right':25,'chart.labels':null,'chart.labels.ingraph':null,'chart.labels.above':false,'chart.labels.above.decimals':0,'chart.labels.above.size':null,'chart.labels.above.color':null,'chart.labels.above.angle':null,'chart.ylabels':true,'chart.ylabels.count':5,'chart.ylabels.inside':false,'chart.xlabels.offset':0,'chart.xaxispos':'bottom','chart.yaxispos':'left','chart.text.angle':0,'chart.text.color':'black','chart.text.size':10,'chart.text.font':'Arial','chart.ymin':0,'chart.ymax':null,'chart.title':'','chart.title.font':null,'chart.title.background':null,'chart.title.hpos':null,'chart.title.vpos':null,'chart.title.bold':true,'chart.title.xaxis':'','chart.title.xaxis.bold':true,'chart.title.xaxis.size':null,'chart.title.xaxis.font':null,'chart.title.yaxis':'','chart.title.yaxis.bold':true,'chart.title.yaxis.size':null,'chart.title.yaxis.font':null,'chart.title.yaxis.color':null,'chart.title.xaxis.pos':null,'chart.title.yaxis.pos':null,'chart.title.x':null,'chart.title.y':null,'chart.title.halign':null,'chart.title.valign':null,'chart.colors':['#01B4FF','#0f0','#00f','#ff0','#0ff','#0f0'],'chart.colors.sequential':false,'chart.colors.reverse':false,'chart.grouping':'grouped','chart.variant':'bar','chart.variant.sketch.verticals':true,'chart.shadow':false,'chart.shadow.color':'#999','chart.shadow.offsetx':3,'chart.shadow.offsety':3,'chart.shadow.blur':3,'chart.tooltips':null,'chart.tooltips.effect':'fade','chart.tooltips.css.class':'RGraph_tooltip','chart.tooltips.event':'onclick','chart.tooltips.highlight':true,'chart.highlight.stroke':'rgba(0,0,0,0)','chart.highlight.fill':'rgba(255,255,255,0.7)','chart.background.hbars':null,'chart.key':null,'chart.key.background':'white','chart.key.position':'graph','chart.key.shadow':false,'chart.key.shadow.color':'#666','chart.key.shadow.blur':3,'chart.key.shadow.offsetx':2,'chart.key.shadow.offsety':2,'chart.key.position.gutter.boxed':false,'chart.key.position.x':null,'chart.key.position.y':null,'chart.key.interactive':false,'chart.key.interactive.highlight.chart.stroke':'black','chart.key.interactive.highlight.chart.fill':'rgba(255,255,255,0.7)','chart.key.interactive.highlight.label':'rgba(255,0,0,0.2)','chart.key.halign':'right','chart.key.color.shape':'square','chart.key.rounded':true,'chart.key.text.size':10,'chart.key.linewidth':1,'chart.key.colors':null,'chart.contextmenu':null,'chart.units.pre':'','chart.units.post':'','chart.scale.decimals':0,'chart.scale.point':'.','chart.scale.thousand':',','chart.crosshairs':false,'chart.crosshairs.color':'#333','chart.crosshairs.hline':true,'chart.crosshairs.vline':true,'chart.linewidth':1,'chart.annotatable':false,'chart.annotate.color':'black','chart.zoom.factor':1.5,'chart.zoom.fade.in':true,'chart.zoom.fade.out':true,'chart.zoom.hdir':'right','chart.zoom.vdir':'down','chart.zoom.frames':25,'chart.zoom.delay':16.666,'chart.zoom.shadow':true,'chart.zoom.background':true,'chart.resizable':false,'chart.resize.handle.background':null,'chart.adjustable':false,'chart.noaxes':false,'chart.noxaxis':false,'chart.noyaxis':false,'chart.events.click':null,'chart.events.mousemove':null,'chart.numxticks':null,'chart.bevel':false}
    if(!this.canvas){alert('[BAR] No canvas support');return;}
    for(var i=0;i<data.length;++i){if(typeof(data[i])=='object'&&!RGraph.is_null(data[i])){this.stackedOrGrouped=true;}}
    var linear_data=RGraph.array_linearize(data);for(var i=0;i<linear_data.length;++i){this['$'+i]={};}
    this.data=data;this.coords=[];this.coords2=[];this.coordsText=[];this.data_arr=RGraph.array_linearize(this.data);if(!this.canvas.__rgraph_aa_translated__){this.context.translate(0.5,0.5);this.canvas.__rgraph_aa_translated__=true;}
    var RG=RGraph;var ca=this.canvas;var co=ca.getContext('2d');var prop=this.properties;this.Set=function(name,value)
{name=name.toLowerCase();if(name.substr(0,6)!='chart.'){name='chart.'+name;}
    if(name=='chart.labels.abovebar'){name='chart.labels.above';}
    if(name=='chart.strokestyle'){name='chart.strokecolor';}
    if(name=='chart.xaxispos'){if(value!='bottom'&&value!='center'&&value!='top'){alert('[BAR] ('+this.id+') chart.xaxispos should be top, center or bottom. Tried to set it to: '+value+' Changing it to center');value='center';}
        if(value=='top'){for(var i=0;i<this.data.length;++i){if(typeof(this.data[i])=='number'&&this.data[i]>0){alert('[BAR] The data element with index '+i+' should be negative');}}}}
    if(name.toLowerCase()=='chart.linewidth'&&value==0){value=0.0001;}
    prop[name]=value;return this;}
    this.Get=function(name)
    {if(name.substr(0,6)!='chart.'){name='chart.'+name;}
        return prop[name];}
    this.Draw=function()
    {if(typeof(prop['chart.background.image'])=='string'){RG.DrawBackgroundImage(this);}
        RG.FireCustomEvent(this,'onbeforedraw');if(!this.colorsParsed){this.parseColors();this.colorsParsed=true;}
        this.gutterLeft=prop['chart.gutter.left'];this.gutterRight=prop['chart.gutter.right'];this.gutterTop=prop['chart.gutter.top'];this.gutterBottom=prop['chart.gutter.bottom'];if((prop['chart.variant']=='pyramid'||prop['chart.variant']=='dot')&&typeof(prop['chart.tooltips'])=='object'&&prop['chart.tooltips']&&prop['chart.tooltips'].length>0){alert('[BAR] ('+this.id+') Sorry, tooltips are not supported with dot or pyramid charts');}
        this.coords=[];this.coords2=[];this.coordsText=[];this.max=0;this.grapharea=ca.height-this.gutterTop-this.gutterBottom;this.halfgrapharea=this.grapharea/2;this.halfTextHeight=prop['chart.text.size']/2;RG.background.Draw(this);if(prop['chart.variant']=='sketch'){this.DrawAxes();this.Drawbars();}else{this.Drawbars();this.DrawAxes();}
        this.DrawLabels();if(prop['chart.bevel']||prop['chart.bevelled']){this.DrawBevel();}
        if(prop['chart.key']&&prop['chart.key'].length){RG.DrawKey(this,prop['chart.key'],prop['chart.colors']);}
        if(prop['chart.contextmenu']){RG.ShowContext(this);}
        if(prop['chart.labels.ingraph']){RG.DrawInGraphLabels(this);}
        if(prop['chart.resizable']){RG.AllowResizing(this);}
        RG.InstallEventListeners(this);RG.FireCustomEvent(this,'ondraw');return this;}
    this.DrawAxes=function()
    {if(prop['chart.noaxes']){return;}
        var xaxispos=prop['chart.xaxispos'];var yaxispos=prop['chart.yaxispos'];var isSketch=prop['chart.variant']=='sketch';co.beginPath();co.strokeStyle=prop['chart.axis.color'];co.lineWidth=prop['chart.axis.linewidth']+0.001;if(ISSAFARI==-1){co.lineCap='square';}
        if(prop['chart.noyaxis']==false){if(yaxispos=='right'){co.moveTo(ca.width-this.gutterRight+(isSketch?3:0),this.gutterTop-(isSketch?3:0));co.lineTo(ca.width-this.gutterRight-(isSketch?2:0),ca.height-this.gutterBottom+(isSketch?5:0));}else{co.moveTo(this.gutterLeft-(isSketch?2:0),this.gutterTop-(isSketch?5:0));co.lineTo(this.gutterLeft-(isSketch?1:0),ca.height-this.gutterBottom+(isSketch?5:0));}}
        if(prop['chart.noxaxis']==false){if(xaxispos=='center'){co.moveTo(this.gutterLeft-(isSketch?5:0),Math.round(((ca.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop+(isSketch?2:0)));co.lineTo(ca.width-this.gutterRight+(isSketch?5:0),Math.round(((ca.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop-(isSketch?2:0)));}else if(xaxispos=='top'){co.moveTo(this.gutterLeft-(isSketch?3:0),this.gutterTop-(isSketch?3:0));co.lineTo(ca.width-this.gutterRight+(isSketch?5:0),this.gutterTop+(isSketch?2:0));}else{co.moveTo(this.gutterLeft-(isSketch?5:0),ca.height-this.gutterBottom-(isSketch?2:0));co.lineTo(ca.width-this.gutterRight+(isSketch?8:0),ca.height-this.gutterBottom+(isSketch?2:0));}}
        var numYTicks=prop['chart.numyticks'];if(prop['chart.noyaxis']==false&&!isSketch){var yTickGap=(ca.height-this.gutterTop-this.gutterBottom)/numYTicks;var xpos=yaxispos=='left'?this.gutterLeft:ca.width-this.gutterRight;if(this.properties['chart.numyticks']>0){for(y=this.gutterTop;xaxispos=='center'?y<=(ca.height-this.gutterBottom):y<(ca.height-this.gutterBottom+(xaxispos=='top'?1:0));y+=yTickGap){if(xaxispos=='center'&&y==(this.gutterTop+(this.grapharea/2)))continue;if(xaxispos=='top'&&y==this.gutterTop)continue;co.moveTo(xpos+(yaxispos=='left'?0:0),Math.round(y));co.lineTo(xpos+(yaxispos=='left'?-3:3),Math.round(y));}}
        if(prop['chart.noxaxis']){if(xaxispos=='center'){co.moveTo(xpos+(yaxispos=='left'?-3:3),Math.round(ca.height/2));co.lineTo(xpos,Math.round(ca.height/2));}else if(xaxispos=='top'){co.moveTo(xpos+(yaxispos=='left'?-3:3),Math.round(this.gutterTop));co.lineTo(xpos,Math.round(this.gutterTop));}else{co.moveTo(xpos+(yaxispos=='left'?-3:3),Math.round(ca.height-this.gutterBottom));co.lineTo(xpos,Math.round(ca.height-this.gutterBottom));}}}
        if(prop['chart.noxaxis']==false&&!isSketch){if(typeof(prop['chart.numxticks'])=='number'){var xTickGap=(ca.width-this.gutterLeft-this.gutterRight)/prop['chart.numxticks'];}else{var xTickGap=(ca.width-this.gutterLeft-this.gutterRight)/this.data.length;}
            if(xaxispos=='bottom'){yStart=ca.height-this.gutterBottom;yEnd=(ca.height-this.gutterBottom)+3;}else if(xaxispos=='top'){yStart=this.gutterTop-3;yEnd=this.gutterTop;}else if(xaxispos=='center'){yStart=((ca.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop+3;yEnd=((ca.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop-3;}
            yStart=yStart;yEnd=yEnd;var noEndXTick=prop['chart.noendxtick'];for(x=this.gutterLeft+(yaxispos=='left'?xTickGap:0),len=(ca.width-this.gutterRight+(yaxispos=='left'?5:0));x<len;x+=xTickGap){if(yaxispos=='left'&&!noEndXTick&&x>this.gutterLeft){co.moveTo(Math.round(x),yStart);co.lineTo(Math.round(x),yEnd);}else if(yaxispos=='left'&&noEndXTick&&x>this.gutterLeft&&x<(ca.width-this.gutterRight)){co.moveTo(Math.round(x),yStart);co.lineTo(Math.round(x),yEnd);}else if(yaxispos=='right'&&x<(ca.width-this.gutterRight)&&!noEndXTick){co.moveTo(Math.round(x),yStart);co.lineTo(Math.round(x),yEnd);}else if(yaxispos=='right'&&x<(ca.width-this.gutterRight)&&x>(this.gutterLeft)&&noEndXTick){co.moveTo(Math.round(x),yStart);co.lineTo(Math.round(x),yEnd);}}
            if(prop['chart.noyaxis']||prop['chart.numxticks']==null){if(typeof(prop['chart.numxticks'])=='number'&&prop['chart.numxticks']>0){co.moveTo(Math.round(this.gutterLeft),yStart);co.lineTo(Math.round(this.gutterLeft),yEnd);}}}
        if(prop['chart.noyaxis']&&prop['chart.noxaxis']==false&&prop['chart.numxticks']==null){if(xaxispos=='center'){co.moveTo(Math.round(this.gutterLeft),(ca.height/2)-3);co.lineTo(Math.round(this.gutterLeft),(ca.height/2)+3);}else{co.moveTo(Math.round(this.gutterLeft),ca.height-this.gutterBottom);co.lineTo(Math.round(this.gutterLeft),ca.height-this.gutterBottom+3);}}
        co.stroke();}
    this.Drawbars=function()
    {var ca=this.canvas;var co=this.context;var prop=this.properties;co.lineWidth=prop['chart.linewidth'];co.strokeStyle=prop['chart.strokecolor'];co.fillStyle=prop['chart.colors'][0];var prevX=0;var prevY=0;var decimals=prop['chart.scale.decimals'];if(prop['chart.ymax']){this.scale2=RGraph.getScale2(this,{'max':prop['chart.ymax'],'strict':true,'min':prop['chart.ymin'],'scale.thousand':prop['chart.scale.thousand'],'scale.point':prop['chart.scale.point'],'scale.decimals':prop['chart.scale.decimals'],'ylabels.count':prop['chart.ylabels.count'],'scale.round':prop['chart.scale.round'],'units.pre':prop['chart.units.pre'],'units.post':prop['chart.units.post']});}else{for(i=0;i<this.data.length;++i){if(typeof(this.data[i])=='object'){var value=prop['chart.grouping']=='grouped'?Number(RGraph.array_max(this.data[i],true)):Number(RGraph.array_sum(this.data[i]));}else{var value=Number(this.data[i]);}
        this.max=Math.max(Math.abs(this.max),Math.abs(value));}
        this.scale2=RGraph.getScale2(this,{'max':this.max,'min':prop['chart.ymin'],'scale.thousand':prop['chart.scale.thousand'],'scale.point':prop['chart.scale.point'],'scale.decimals':prop['chart.scale.decimals'],'ylabels.count':prop['chart.ylabels.count'],'scale.round':prop['chart.scale.round'],'units.pre':prop['chart.units.pre'],'units.post':prop['chart.units.post']});this.max=this.scale2.max;}
        if(prop['chart.adjustable']&&!prop['chart.ymax']){this.Set('chart.ymax',this.scale2.max);}
        if(prop['chart.background.hbars']&&prop['chart.background.hbars'].length>0){RGraph.DrawBars(this);}
        var variant=prop['chart.variant'];if(variant=='3d'){RG.Draw3DAxes(this);}
        var xaxispos=prop['chart.xaxispos'];var width=(ca.width-this.gutterLeft-this.gutterRight)/this.data.length;var orig_height=height;var hmargin=prop['chart.hmargin'];var shadow=prop['chart.shadow'];var shadowColor=prop['chart.shadow.color'];var shadowBlur=prop['chart.shadow.blur'];var shadowOffsetX=prop['chart.shadow.offsetx'];var shadowOffsetY=prop['chart.shadow.offsety'];var strokeStyle=prop['chart.strokecolor'];var colors=prop['chart.colors'];var sequentialColorIndex=0;for(i=0,len=this.data.length;i<len;i+=1){var height=((RGraph.array_sum(this.data[i])<0?RGraph.array_sum(this.data[i])+this.scale2.min:RGraph.array_sum(this.data[i])-this.scale2.min)/(this.scale2.max-this.scale2.min))*(ca.height-this.gutterTop-this.gutterBottom);if(xaxispos=='center'){height/=2;}
        var x=(i*width)+this.gutterLeft;var y=xaxispos=='center'?((ca.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop-height:ca.height-height-this.gutterBottom;if(xaxispos=='top'){y=this.gutterTop+Math.abs(height);}
        if(height<0){y+=height;height=Math.abs(height);}
        if(shadow){co.shadowColor=shadowColor;co.shadowBlur=shadowBlur;co.shadowOffsetX=shadowOffsetX;co.shadowOffsetY=shadowOffsetY;}
        co.beginPath();if(typeof(this.data[i])=='number'){var barWidth=width-(2*hmargin);if(barWidth<0){alert('[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient.');}
            co.strokeStyle=strokeStyle;co.fillStyle=colors[0];if(prop['chart.colors.sequential']){co.fillStyle=colors[i];}
            if(variant=='sketch'){co.lineCap='round';var sketchOffset=3;co.beginPath();co.strokeStyle=colors[0];if(prop['chart.colors.sequential']){co.strokeStyle=colors[i];}
                co.moveTo(x+hmargin+2,y+height-2);co.lineTo(x+hmargin-1,y-4);co.moveTo(x+hmargin-3,y+-2+(this.data[i]<0?height:0));co.bezierCurveTo(x+((hmargin+width)*0.33),y+15+(this.data[i]<0?height-10:0),x+((hmargin+width)*0.66),y+5+(this.data[i]<0?height-10:0),x+hmargin+width+-1,y+0+(this.data[i]<0?height:0));co.moveTo(x+hmargin+width-5,y-5);co.lineTo(x+hmargin+width-3,y+height-3);if(prop['chart.variant.sketch.verticals']){for(var r=0.2;r<=0.8;r+=0.2){co.moveTo(x+hmargin+width+(r>0.4?-1:3)-(r*width),y-1);co.lineTo(x+hmargin+width-(r>0.4?1:-1)-(r*width),y+height+(r==0.2?1:-2));}}
                co.stroke();}else if(variant=='bar'||variant=='3d'||variant=='glass'||variant=='bevel'){if(RGraph.isOld()&&shadow){this.DrawIEShadow([x+hmargin,y,barWidth,height]);}
                if(variant=='glass'){RGraph.filledCurvyRect(co,x+hmargin,y,barWidth,height,3,this.data[i]>0,this.data[i]>0,this.data[i]<0,this.data[i]<0);RGraph.strokedCurvyRect(co,x+hmargin,y,barWidth,height,3,this.data[i]>0,this.data[i]>0,this.data[i]<0,this.data[i]<0);}else{co.fillRect(x+hmargin,y,barWidth,height);co.strokeRect(x+hmargin,y,barWidth,height);}
                if(variant=='3d'){var prevStrokeStyle=co.strokeStyle;var prevFillStyle=co.fillStyle;co.beginPath();co.moveTo(x+hmargin,y);co.lineTo(x+hmargin+10,y-5);co.lineTo(x+hmargin+10+barWidth,y-5);co.lineTo(x+hmargin+barWidth,y);co.closePath();co.stroke();co.fill();co.beginPath();co.moveTo(x+hmargin+barWidth,y);co.lineTo(x+hmargin+barWidth+10,y-5);co.lineTo(x+hmargin+barWidth+10,y+height-5);co.lineTo(x+hmargin+barWidth,y+height);co.closePath();co.stroke();co.fill();co.beginPath();co.fillStyle='rgba(255,255,255,0.3)';co.moveTo(x+hmargin,y);co.lineTo(x+hmargin+10,y-5);co.lineTo(x+hmargin+10+barWidth,y-5);co.lineTo(x+hmargin+barWidth,y);co.lineTo(x+hmargin,y);co.closePath();co.stroke();co.fill();co.beginPath();co.fillStyle='rgba(0,0,0,0.4)';co.moveTo(x+hmargin+barWidth,y);co.lineTo(x+hmargin+barWidth+10,y-5);co.lineTo(x+hmargin+barWidth+10,y-5+height);co.lineTo(x+hmargin+barWidth,y+height);co.lineTo(x+hmargin+barWidth,y);co.closePath();co.stroke();co.fill();co.strokeStyle=prevStrokeStyle;co.fillStyle=prevFillStyle;}else if(variant=='glass'){var grad=co.createLinearGradient(x+hmargin,y,x+hmargin+(barWidth/2),y);grad.addColorStop(0,'rgba(255,255,255,0.9)');grad.addColorStop(1,'rgba(255,255,255,0.5)');co.beginPath();co.fillStyle=grad;co.fillRect(x+hmargin+2,y+(this.data[i]>0?2:0),(barWidth/2)-2,height-2);co.fill();}
                if(prop['chart.labels.above']){if(shadow){RGraph.NoShadow(this);}
                    var yPos=y-3;var xPos=x+hmargin+(barWidth/2);if(this.data[i]<0){yPos+=height+6+(prop['chart.text.size']);}
                    if(prop['chart.xaxispos']=='top'){yPos=this.gutterTop+height+6+(typeof(prop['chart.labels.above.size'])=='number'?prop['chart.labels.above.size']:prop['chart.text.size']-4);}
                    if(prop['chart.variant']=='3d'){yPos-=3;xPos+=5;}
                    if(this.properties['chart.labels.above.angle']){var angle=-45;var halign='left';var valign='center';}else{var angle=0;var halign='center';var valign='bottom';}
                    if(typeof this.properties['chart.labels.above.color']=='string'){co.fillStyle=prop['chart.labels.above.color'];}else{co.fillStyle=prop['chart.text.color'];}
                    RGraph.Text2(this,{'font':prop['chart.text.font'],'size':typeof(prop['chart.labels.above.size'])=='number'?prop['chart.labels.above.size']:prop['chart.text.size']-3,'x':xPos,'y':yPos,'text':RGraph.number_format(this,Number(this.data[i]).toFixed(prop['chart.labels.above.decimals']),prop['chart.units.pre'],prop['chart.units.post']),'halign':halign,'marker':false,'valign':valign,'angle':angle,'tag':'labels.above'});}}else if(variant=='dot'){co.beginPath();co.moveTo(x+(width/2),y);co.lineTo(x+(width/2),y+height);co.stroke();co.beginPath();co.fillStyle=this.properties['chart.colors'][i];co.arc(x+(width/2),y+(this.data[i]>0?0:height),2,0,6.28,0);co.fillStyle=prop['chart.colors'][0];if(prop['chart.colors.sequential']){co.fillStyle=colors[i];}
                co.stroke();co.fill();}else{alert('[BAR] Warning! Unknown chart.variant: '+variant);}
            this.coords.push([x+hmargin,y,width-(2*hmargin),height]);if(typeof this.coords2[i]=='undefined'){this.coords2[i]=[];}
            this.coords2[i].push([x+hmargin,y,width-(2*hmargin),height]);}else if(this.data[i]&&typeof(this.data[i])=='object'&&prop['chart.grouping']=='stacked'){if(this.scale2.min){alert("[ERROR] Stacked Bar charts with a Y min are not supported");}
            var barWidth=width-(2*hmargin);var redrawCoords=[];var startY=0;var dataset=this.data[i];if(barWidth<0){alert('[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient.');}
            for(j=0;j<dataset.length;++j){if(xaxispos=='center'){alert("[BAR] It's pointless having the X axis position at the center on a stacked bar chart.");return;}
                if(this.data[i][j]<0){alert('[BAR] Negative values are not permitted with a stacked bar chart. Try a grouped one instead.');return;}
                co.strokeStyle=strokeStyle
                co.fillStyle=colors[j];if(prop['chart.colors.reverse']){co.fillStyle=colors[this.data[i].length-j-1];}
                if(prop['chart.colors.sequential']&&colors[sequentialColorIndex]){co.fillStyle=colors[sequentialColorIndex++];}else if(prop['chart.colors.sequential']){co.fillStyle=colors[sequentialColorIndex-1];}
                var height=(dataset[j]/this.scale2.max)*(ca.height-this.gutterTop-this.gutterBottom);if(xaxispos=='center'){height/=2;}
                var totalHeight=(RGraph.array_sum(dataset)/this.scale2.max)*(ca.height-hmargin-this.gutterTop-this.gutterBottom);this.coords.push([x+hmargin,y,width-(2*hmargin),height]);if(typeof this.coords2[i]=='undefined'){this.coords2[i]=[];}
                this.coords2[i].push([x+hmargin,y,width-(2*hmargin),height]);if(RGraph.isOld()&&shadow){this.DrawIEShadow([x+hmargin,y,width-(2*hmargin),height+1]);}
                if(height>0){co.strokeRect(x+hmargin,y,width-(2*hmargin),height);co.fillRect(x+hmargin,y,width-(2*hmargin),height);}
                if(j==0){var startY=y;var startX=x;}
                if(shadow){redrawCoords.push([x+hmargin,y,width-(2*hmargin),height,co.fillStyle]);}
                if(variant=='3d'){var prevFillStyle=co.fillStyle;var prevStrokeStyle=co.strokeStyle;if(j==0){co.beginPath();co.moveTo(startX+hmargin,y);co.lineTo(startX+10+hmargin,y-5);co.lineTo(startX+10+barWidth+hmargin,y-5);co.lineTo(startX+barWidth+hmargin,y);co.closePath();co.fill();co.stroke();}
                    co.beginPath();co.moveTo(startX+barWidth+hmargin,y);co.lineTo(startX+barWidth+hmargin+10,y-5);co.lineTo(startX+barWidth+hmargin+10,y-5+height);co.lineTo(startX+barWidth+hmargin,y+height);co.closePath();co.fill();co.stroke();if(j==0){co.fillStyle='rgba(255,255,255,0.3)';co.beginPath();co.moveTo(startX+hmargin,y);co.lineTo(startX+10+hmargin,y-5);co.lineTo(startX+10+barWidth+hmargin,y-5);co.lineTo(startX+barWidth+hmargin,y);co.closePath();co.fill();co.stroke();}
                    co.fillStyle='rgba(0,0,0,0.4)';co.beginPath();co.moveTo(startX+barWidth+hmargin,y);co.lineTo(startX+barWidth+hmargin+10,y-5);co.lineTo(startX+barWidth+hmargin+10,y-5+height);co.lineTo(startX+barWidth+hmargin,y+height);co.closePath();co.fill();co.stroke();co.strokeStyle=prevStrokeStyle;co.fillStyle=prevFillStyle;}
                y+=height;}
            if(prop['chart.labels.above']){RG.NoShadow(this);if(typeof this.properties['chart.labels.above.color']=='string'){co.fillStyle=prop['chart.labels.above.color'];}else{co.fillStyle=prop['chart.text.color'];}
                if(prop['chart.labels.above.angle']){var angle=-45;var halign='left';var valign='center';}else{var angle=0;var halign='center';var valign='bottom';}
                RGraph.Text2(this,{'font':prop['chart.text.font'],'size':typeof(prop['chart.labels.above.size'])=='number'?prop['chart.labels.above.size']:prop['chart.text.size']-3,'x':startX+(barWidth/2)+prop['chart.hmargin'],'y':startY-(prop['chart.shadow']&&prop['chart.shadow.offsety']<0?7:4)-(prop['chart.variant']=='3d'?5:0),'text':String(prop['chart.units.pre']+RGraph.array_sum(this.data[i]).toFixed(prop['chart.labels.above.decimals'])+prop['chart.units.post']),'angle':angle,'valign':valign,'halign':halign,'tag':'labels.above'});if(shadow){co.shadowColor=shadowColor;co.shadowBlur=shadowBlur;co.shadowOffsetX=shadowOffsetX;co.shadowOffsetY=shadowOffsetY;}}
            if(shadow){RGraph.NoShadow(this);for(k=0;k<redrawCoords.length;++k){co.strokeStyle=strokeStyle;co.fillStyle=redrawCoords[k][4];co.strokeRect(redrawCoords[k][0],redrawCoords[k][1],redrawCoords[k][2],redrawCoords[k][3]);co.fillRect(redrawCoords[k][0],redrawCoords[k][1],redrawCoords[k][2],redrawCoords[k][3]);co.stroke();co.fill();}
                redrawCoords=[];}}else if(this.data[i]&&typeof(this.data[i])=='object'&&prop['chart.grouping']=='grouped'){var redrawCoords=[];co.lineWidth=prop['chart.linewidth'];for(j=0;j<this.data[i].length;++j){co.strokeStyle=strokeStyle;co.fillStyle=colors[j];if(prop['chart.colors.sequential']&&colors[sequentialColorIndex]){co.fillStyle=colors[sequentialColorIndex++];}else if(prop['chart.colors.sequential']){co.fillStyle=colors[sequentialColorIndex-1];}
            var individualBarWidth=(width-(2*hmargin))/this.data[i].length;var height=((this.data[i][j]+(this.data[i][j]<0?this.scale2.min:(-1*this.scale2.min)))/(this.scale2.max-this.scale2.min))*(ca.height-this.gutterTop-this.gutterBottom);var groupedMargin=prop['chart.hmargin.grouped'];var startX=x+hmargin+(j*individualBarWidth);if(individualBarWidth<0){alert('[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient.');}
            if(xaxispos=='center'){height/=2;}
            if(xaxispos=='top'){var startY=this.gutterTop;var height=Math.abs(height);}else if(xaxispos=='center'){var startY=this.gutterTop+(this.grapharea/2)-height;}else{var startY=ca.height-this.gutterBottom-height;var height=Math.abs(height);}
            if(RGraph.isOld()&&shadow){this.DrawIEShadow([startX,startY,individualBarWidth,height]);}
            co.strokeRect(startX+groupedMargin,startY,individualBarWidth-(2*groupedMargin),height);co.fillRect(startX+groupedMargin,startY,individualBarWidth-(2*groupedMargin),height);y+=height;if(variant=='3d'){var prevFillStyle=co.fillStyle;var prevStrokeStyle=co.strokeStyle;co.beginPath();co.moveTo(startX,startY);co.lineTo(startX+10,startY-5);co.lineTo(startX+10+individualBarWidth,startY-5);co.lineTo(startX+individualBarWidth,startY);co.closePath();co.fill();co.stroke();co.beginPath();co.moveTo(startX+individualBarWidth,startY);co.lineTo(startX+individualBarWidth+10,startY-5);co.lineTo(startX+individualBarWidth+10,startY-5+height);co.lineTo(startX+individualBarWidth,startY+height);co.closePath();co.fill();co.stroke();co.fillStyle='rgba(255,255,255,0.3)';co.beginPath();co.moveTo(startX,startY);co.lineTo(startX+10,startY-5);co.lineTo(startX+10+individualBarWidth,startY-5);co.lineTo(startX+individualBarWidth,startY);co.closePath();co.fill();co.stroke();co.fillStyle='rgba(0,0,0,0.4)';co.beginPath();co.moveTo(startX+individualBarWidth,startY);co.lineTo(startX+individualBarWidth+10,startY-5);co.lineTo(startX+individualBarWidth+10,startY-5+height);co.lineTo(startX+individualBarWidth,startY+height);co.closePath();co.fill();co.stroke();co.strokeStyle=prevStrokeStyle;co.fillStyle=prevFillStyle;}
            if(height<0){height=Math.abs(height);startY=startY-height;}
            this.coords.push([startX+groupedMargin,startY,individualBarWidth-(2*groupedMargin),height]);if(typeof this.coords2[i]=='undefined'){this.coords2[i]=[];}
            this.coords2[i].push([startX+groupedMargin,startY,individualBarWidth-(2*groupedMargin),height]);if(prop['chart.shadow']){redrawCoords.push([startX+groupedMargin,startY,individualBarWidth-(2*groupedMargin),height,co.fillStyle]);}
            if(prop['chart.labels.above']){co.strokeStyle='rgba(0,0,0,0)';if(shadow){RGraph.NoShadow(this);}
                var yPos=y-3;if(prop['chart.labels.above.angle']){var angle=-45;var halign='left';var valign='center';}else{var angle=0;var halign='center';var valign='bottom';if(this.data[i][j]<0||prop['chart.xaxispos']=='top'){yPos=startY+height+6;var valign='top';}else{yPos=startY;}}
                if(typeof this.properties['chart.labels.above.color']=='string'){co.fillStyle=prop['chart.labels.above.color'];}else{co.fillStyle=prop['chart.text.color'];}
                RGraph.Text2(this,{'font':prop['chart.text.font'],'size':typeof(prop['chart.labels.above.size'])=='number'?prop['chart.labels.above.size']:prop['chart.text.size']-3,'x':startX+(individualBarWidth/2),'y':yPos-3,'text':RGraph.number_format(this,this.data[i][j].toFixed(prop['chart.labels.above.decimals'])),'halign':halign,'valign':valign,'angle':angle,'tag':'labels.above'});if(shadow){co.shadowColor=shadowColor;co.shadowBlur=shadowBlur;co.shadowOffsetX=shadowOffsetX;co.shadowOffsetY=shadowOffsetY;}}}
            if(redrawCoords.length){RGraph.NoShadow(this);co.lineWidth=prop['chart.linewidth'];co.beginPath();for(var j=0;j<redrawCoords.length;++j){co.fillStyle=redrawCoords[j][4];co.strokeStyle=prop['chart.strokecolor'];co.fillRect(redrawCoords[j][0],redrawCoords[j][1],redrawCoords[j][2],redrawCoords[j][3]);co.strokeRect(redrawCoords[j][0],redrawCoords[j][1],redrawCoords[j][2],redrawCoords[j][3]);}
                co.fill();co.stroke();redrawCoords=[];}}else{this.coords.push([]);}
        co.closePath();}
        RGraph.NoShadow(this);}
    this.DrawLabels=function()
    {var ca=this.canvas;var co=this.context;var prop=this.properties;var context=co;var text_angle=prop['chart.text.angle'];var text_size=prop['chart.text.size'];var labels=prop['chart.labels'];if(prop['chart.ylabels']){if(prop['chart.xaxispos']=='top')this.Drawlabels_top();if(prop['chart.xaxispos']=='center')this.Drawlabels_center();if(prop['chart.xaxispos']=='bottom')this.Drawlabels_bottom();}
        if(typeof(labels)=='object'&&labels){var yOffset=Number(prop['chart.xlabels.offset']);if(prop['chart.text.angle']!=0){var valign='center';var halign='right';var angle=0-prop['chart.text.angle'];}else{var valign='top';var halign='center';var angle=0;}
            co.fillStyle=prop['chart.text.color'];var barWidth=(ca.width-this.gutterRight-this.gutterLeft)/labels.length;xTickGap=(ca.width-this.gutterRight-this.gutterLeft)/labels.length
            var i=0;var font=prop['chart.text.font'];for(x=this.gutterLeft+(xTickGap/2);x<=ca.width-this.gutterRight;x+=xTickGap){RGraph.Text2(this,{'font':font,'size':text_size,'x':x,'y':prop['chart.xaxispos']=='top'?this.gutterTop-yOffset-5:(ca.height-this.gutterBottom)+yOffset+3,'text':String(labels[i++]),'valign':prop['chart.xaxispos']=='top'?'bottom':valign,'halign':halign,'tag':'label','marker':false,'angle':angle,'tag':'labels'});}}
        if(prop['chart.labels.above.specific']){var labels=prop['chart.labels.above.specific'];for(var i=0;i<this.coords.length;++i){var xaxispos=prop['chart.xaxispos'];var coords=this.coords[i];var value=this.data_arr[i];var valign=(value>=0&&xaxispos!='top')?'bottom':'top';var halign='center';var text=labels[i];if(text&&text.toString().length>0){RGraph.Text2(this,{'font':prop['chart.text.font'],'size':prop['chart.labels.above.size']?prop['chart.labels.above.size']:prop['chart.text.size'],'x':coords[0]+(coords[2]/2),'y':(value>=0&&xaxispos!='top')?coords[1]-5:coords[1]+coords[3]+3,'text':String(labels[i]),'valign':valign,'halign':halign,'tag':'labels.above'});}}}}
    this.Drawlabels_top=function()
    {var ca=this.canvas;var co=this.context;var prop=this.properties;co.beginPath();co.fillStyle=prop['chart.text.color'];co.strokeStyle='black';if(prop['chart.xaxispos']=='top'){var context=co;var text_size=prop['chart.text.size'];var units_pre=prop['chart.units.pre'];var units_post=prop['chart.units.post'];var align=prop['chart.yaxispos']=='left'?'right':'left';var font=prop['chart.text.font'];var numYLabels=prop['chart.ylabels.count'];var ymin=prop['chart.ymin'];if(prop['chart.ylabels.inside']==true){var xpos=prop['chart.yaxispos']=='left'?this.gutterLeft+5:ca.width-this.gutterRight-5;var align=prop['chart.yaxispos']=='left'?'left':'right';var boxed=true;}else{var xpos=prop['chart.yaxispos']=='left'?this.gutterLeft-5:ca.width-this.gutterRight+5;var boxed=false;}
        if(typeof(prop['chart.ylabels.specific'])=='object'&&prop['chart.ylabels.specific']){var labels=RGraph.array_reverse(prop['chart.ylabels.specific']);var grapharea=ca.height-this.gutterTop-this.gutterBottom;for(var i=0;i<labels.length;++i){var y=this.gutterTop+(grapharea*(i/labels.length))+(grapharea/labels.length);RGraph.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':y,'text':String(labels[i]),'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}
            return;}
        var labels=this.scale2.labels;for(var i=0;i<labels.length;++i){RGraph.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+((this.grapharea/labels.length)*(i+1)),'text':'-'+labels[i],'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}
        if(prop['chart.ymin']!=0||prop['chart.noxaxis']){RGraph.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop,'text':(this.scale2.min!=0?'-':'')+RGraph.number_format(this,(this.scale2.min.toFixed((prop['chart.scale.decimals']))),units_pre,units_post),'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}}
        co.fill();}
    this.Drawlabels_center=function()
    {var ca=this.canvas;var co=this.context;var prop=this.properties;var font=prop['chart.text.font'];var numYLabels=prop['chart.ylabels.count'];co.fillStyle=prop['chart.text.color'];if(prop['chart.xaxispos']=='center'){var text_size=prop['chart.text.size'];var units_pre=prop['chart.units.pre'];var units_post=prop['chart.units.post'];var context=co;var align='';var xpos=0;var boxed=false;var ymin=prop['chart.ymin'];co.fillStyle=prop['chart.text.color'];co.strokeStyle='black';if(prop['chart.ylabels.inside']==true){var xpos=prop['chart.yaxispos']=='left'?this.gutterLeft+5:ca.width-this.gutterRight-5;var align=prop['chart.yaxispos']=='left'?'left':'right';var boxed=true;}else{var xpos=prop['chart.yaxispos']=='left'?this.gutterLeft-5:ca.width-this.gutterRight+5;var align=prop['chart.yaxispos']=='left'?'right':'left';var boxed=false;}
        if(typeof(prop['chart.ylabels.specific'])=='object'&&prop['chart.ylabels.specific']){var labels=prop['chart.ylabels.specific'];var grapharea=ca.height-this.gutterTop-this.gutterBottom;for(var i=0;i<labels.length;++i){var y=this.gutterTop+((grapharea/2)/(labels.length-1))*i;RGraph.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':y,'text':String(labels[i]),'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}
            for(var i=labels.length-1;i>=1;--i){var y=this.gutterTop+(grapharea*(i/((labels.length-1)*2)))+(grapharea/2);RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':y,'text':String(labels[labels.length-i-1]),'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}
            return;}
        for(var i=0;i<this.scale2.labels.length;++i){var y=this.gutterTop+this.halfgrapharea-((this.halfgrapharea/numYLabels)*(i+1));var text=this.scale2.labels[i];RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':y,'text':text,'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}
        for(var i=(this.scale2.labels.length-1);i>=0;--i){var y=this.gutterTop+((this.halfgrapharea/numYLabels)*(i+1))+this.halfgrapharea;var text=this.scale2.labels[i];RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':y,'text':'-'+text,'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}
        if(this.scale2.min!=0){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+this.halfgrapharea,'text':RGraph.number_format(this,(this.scale2.min.toFixed((prop['chart.scale.decimals']))),units_pre,units_post),'valign':'center','valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}}}
    this.Drawlabels_bottom=function()
    {var co=this.context;var ca=this.canvas;var prop=this.properties;var text_size=prop['chart.text.size'];var units_pre=prop['chart.units.pre'];var units_post=prop['chart.units.post'];var context=this.context;var align=prop['chart.yaxispos']=='left'?'right':'left';var font=prop['chart.text.font'];var numYLabels=prop['chart.ylabels.count'];var ymin=prop['chart.ymin'];co.beginPath();co.fillStyle=prop['chart.text.color'];co.strokeStyle='black';if(prop['chart.ylabels.inside']==true){var xpos=prop['chart.yaxispos']=='left'?this.gutterLeft+5:ca.width-this.gutterRight-5;var align=prop['chart.yaxispos']=='left'?'left':'right';var boxed=true;}else{var xpos=prop['chart.yaxispos']=='left'?this.gutterLeft-5:ca.width-this.gutterRight+5;var boxed=false;}
        if(prop['chart.ylabels.specific']&&typeof(prop['chart.ylabels.specific'])=='object'){var labels=prop['chart.ylabels.specific'];var grapharea=ca.height-this.gutterTop-this.gutterBottom;for(var i=0;i<labels.length;++i){var y=this.gutterTop+(grapharea*(i/(labels.length-1)));RGraph.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':y,'text':labels[i],'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}
            return;}
        var gutterTop=this.gutterTop;var halfTextHeight=this.halfTextHeight;var scale=this.scale;for(var i=0;i<numYLabels;++i){var text=this.scale2.labels[i];RGraph.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':this.gutterTop+this.grapharea-((this.grapharea/numYLabels)*(i+1)),'text':text,'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}
        if(prop['chart.ymin']!=0||prop['chart.noxaxis']){RG.Text2(this,{'font':font,'size':text_size,'x':xpos,'y':ca.height-this.gutterBottom,'text':RG.number_format(this,(this.scale2.min.toFixed((prop['chart.scale.decimals']))),units_pre,units_post),'valign':'center','halign':align,'bordered':boxed,'tag':'scale'});}
        co.fill();}
    this.DrawIEShadow=function(coords)
    {var co=this.context;var ca=this.canvas;var prop=this.properties;var prevFillStyle=co.fillStyle;var offsetx=prop['chart.shadow.offsetx'];var offsety=prop['chart.shadow.offsety'];co.lineWidth=prop['chart.linewidth'];co.fillStyle=prop['chart.shadow.color'];co.beginPath();co.fillRect(coords[0]+offsetx,coords[1]+offsety,coords[2],coords[3]);co.fill();co.fillStyle=prevFillStyle;}
    this.getShape=this.getBar=function(e)
    {var obj=arguments[1]?arguments[1]:this;var mouseXY=RGraph.getMouseXY(e);var mouseX=mouseXY[0];var mouseY=mouseXY[1];var canvas=obj.canvas;var context=obj.context;var coords=obj.coords
        for(var i=0,len=coords.length;i<len;i+=1){if(obj.coords[i].length==0){continue;}
            var left=coords[i][0];var top=coords[i][1];var width=coords[i][2];var height=coords[i][3];var prop=obj.properties;if(mouseX>=left&&mouseX<=(left+width)&&mouseY>=top&&mouseY<=(top+height)){if(prop['chart.tooltips']){var tooltip=RGraph.parseTooltipText?RGraph.parseTooltipText(prop['chart.tooltips'],i):prop['chart.tooltips'][i];}
                var dataset=0;var idx=i;while(idx>=(typeof(obj.data[dataset])=='object'&&obj.data[dataset]?obj.data[dataset].length:1)){if(typeof(obj.data[dataset])=='number'){idx-=1;}else if(obj.data[dataset]){idx-=obj.data[dataset].length;}else{idx-=1;}
                    dataset++;}
                if(typeof(obj.data[dataset])=='number'){idx=null;}
                return{0:obj,1:left,2:top,3:width,4:height,5:i,'object':obj,'x':left,'y':top,'width':width,'height':height,'index':i,'tooltip':tooltip,'index_adjusted':idx,'dataset':dataset};}}
        return null;}
    this.getShapeByX=function(e)
    {var canvas=e.target;var mouseCoords=RGraph.getMouseXY(e);var obj=arguments[1]?arguments[1]:this;for(var i=0,len=obj.coords.length;i<len;i++){if(obj.coords[i].length==0){continue;}
        var mouseX=mouseCoords[0];var mouseY=mouseCoords[1];var left=obj.coords[i][0];var top=obj.coords[i][1];var width=obj.coords[i][2];var height=obj.coords[i][3];var prop=obj.properties;if(mouseX>=left&&mouseX<=(left+width)){if(prop['chart.tooltips']){var tooltip=RGraph.parseTooltipText?RGraph.parseTooltipText(prop['chart.tooltips'],i):prop['chart.tooltips'][i];}
            return{0:obj,1:left,2:top,3:width,4:height,5:i,'object':obj,'x':left,'y':top,'width':width,'height':height,'index':i,'tooltip':tooltip};}}
        return null;}
    this.getValue=function(arg)
    {var co=this.context;var ca=this.canvas;var prop=this.properties;if(arg.length==2){var mouseX=arg[0];var mouseY=arg[1];}else{var mouseCoords=RGraph.getMouseXY(arg);var mouseX=mouseCoords[0];var mouseY=mouseCoords[1];}
        if(mouseY<prop['chart.gutter.top']||mouseY>(ca.height-prop['chart.gutter.bottom'])||mouseX<prop['chart.gutter.left']||mouseX>(ca.width-prop['chart.gutter.right'])){return null;}
        if(prop['chart.xaxispos']=='center'){var value=(((this.grapharea/2)-(mouseY-prop['chart.gutter.top']))/this.grapharea)*(this.scale2.max-this.scale2.min)
            value*=2;if(value>=0){value+=this.scale2.min;}else{value-=this.scale2.min;}}else if(prop['chart.xaxispos']=='top'){var value=((this.grapharea-(mouseY-prop['chart.gutter.top']))/this.grapharea)*(this.scale2.max-this.scale2.min)
            value=this.scale2.max-value;value=Math.abs(value)*-1;}else{var value=((this.grapharea-(mouseY-prop['chart.gutter.top']))/this.grapharea)*(this.scale2.max-this.scale2.min)
            value+=this.scale2.min;}
        return value;}
    this.getYCoord=function(value)
    {if(value>this.scale2.max){return null;}
        var co=this.context;var ca=this.canvas;var prop=this.properties;var y;var xaxispos=prop['chart.xaxispos'];if(xaxispos=='top'){if(value<0){value=Math.abs(value);}
        y=((value-this.scale2.min)/(this.scale2.max-this.scale2.min))*this.grapharea;y=y+this.gutterTop}else if(xaxispos=='center'){y=((value-this.scale2.min)/(this.scale2.max-this.scale2.min))*(this.grapharea/2);y=(this.grapharea/2)-y;y+=this.gutterTop;}else{if(value<this.scale2.min){value=this.scale2.min;}
        y=((value-this.scale2.min)/(this.scale2.max-this.scale2.min))*this.grapharea;y=ca.height-this.gutterBottom-y;}
        return y;}
    this.Highlight=function(shape)
    {RGraph.Highlight.Rect(this,shape);}
    this.getObjectByXY=function(e)
    {var ca=this.canvas;var prop=this.properties;var mouseXY=RGraph.getMouseXY(e);if(mouseXY[0]>=prop['chart.gutter.left']&&mouseXY[0]<=(ca.width-prop['chart.gutter.right'])&&mouseXY[1]>=prop['chart.gutter.top']&&mouseXY[1]<=(ca.height-prop['chart.gutter.bottom'])){return this;}}
    this.Adjusting_mousemove=function(e)
    {if(prop['chart.adjustable']&&RG.Registry.Get('chart.adjusting')&&RG.Registry.Get('chart.adjusting').uid==this.uid){var value=Number(this.getValue(e));var shape=this.getShapeByX(e);if(shape){RG.Registry.Set('chart.adjusting.shape',shape);if(this.stackedOrGrouped&&prop['chart.grouping']=='grouped'){var indexes=RG.sequentialIndexToGrouped(shape['index'],this.data);if(typeof this.data[indexes[0]]=='number'){this.data[indexes[0]]=Number(value);}else if(!RG.is_null(this.data[indexes[0]])){this.data[indexes[0]][indexes[1]]=Number(value);}}else if(typeof this.data[shape['index']]=='number'){this.data[shape['index']]=Number(value);}
        RG.RedrawCanvas(e.target);RG.FireCustomEvent(this,'onadjust');}}}
    this.positionTooltip=function(obj,x,y,tooltip,idx)
    {var prop=obj.properties;var coordX=obj.coords[tooltip.__index__][0];var coordY=obj.coords[tooltip.__index__][1];var coordW=obj.coords[tooltip.__index__][2];var coordH=obj.coords[tooltip.__index__][3];var canvasXY=RGraph.getCanvasXY(obj.canvas);var gutterLeft=prop['chart.gutter.left'];var gutterTop=prop['chart.gutter.top'];var width=tooltip.offsetWidth;var height=tooltip.offsetHeight;var value=obj.data_arr[tooltip.__index__];tooltip.style.left=0;tooltip.style.top=canvasXY[1]+coordY-height-7+'px';if(value<0){tooltip.style.top=canvasXY[1]+coordY+coordH+7+'px';}
        tooltip.style.overflow='';var img=new Image();img.style.position='absolute';img.id='__rgraph_tooltip_pointer__';if(value>=0){img.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC';img.style.top=(tooltip.offsetHeight-2)+'px';}else{img.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAFCAMAAACkeOZkAAAAK3RFWHRDcmVhdGlvbiBUaW1lAFNhdCA2IE9jdCAyMDEyIDEyOjQ5OjMyIC0wMDAw2S1RlgAAAAd0SU1FB9wKBgszM4Ed2k4AAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAEZ0FNQQAAsY8L/GEFAAAACVBMVEX/AAC9vb3//+92Pom0AAAAAXRSTlMAQObYZgAAAB1JREFUeNpjYAABRgY4YGRiRDCZYBwQE8qBMEEcAANCACqByy1sAAAAAElFTkSuQmCC';img.style.top='-5px';}
        tooltip.appendChild(img);if((canvasXY[0]+coordX+(coordW/2)-(width/2))<10){tooltip.style.left=(canvasXY[0]+coordX-(width*0.1))+(coordW/2)+'px';img.style.left=((width*0.1)-8.5)+'px';}else if((canvasXY[0]+coordX+(width/2))>document.body.offsetWidth){tooltip.style.left=canvasXY[0]+coordX-(width*0.9)+(coordW/2)+'px';img.style.left=((width*0.9)-8.5)+'px';}else{tooltip.style.left=(canvasXY[0]+coordX+(coordW/2)-(width*0.5))+'px';img.style.left=((width*0.5)-8.5)+'px';}}
    this.parseColors=function()
    {var prop=this.properties;var colors=prop['chart.colors'];if(colors){for(var i=0;i<colors.length;++i){colors[i]=this.parseSingleColorForGradient(colors[i]);}}
        var colors=prop['chart.key.colors'];if(colors){for(var i=0;i<colors.length;++i){colors[i]=this.parseSingleColorForGradient(colors[i]);}}
        prop['chart.crosshairs.color']=this.parseSingleColorForGradient(prop['chart.crosshairs.color']);prop['chart.highlight.stroke']=this.parseSingleColorForGradient(prop['chart.highlight.stroke']);prop['chart.highlight.fill']=this.parseSingleColorForGradient(prop['chart.highlight.fill']);prop['chart.text.color']=this.parseSingleColorForGradient(prop['chart.text.color']);prop['chart.background.barcolor1']=this.parseSingleColorForGradient(prop['chart.background.barcolor1']);prop['chart.background.barcolor2']=this.parseSingleColorForGradient(prop['chart.background.barcolor2']);prop['chart.background.grid.color']=this.parseSingleColorForGradient(prop['chart.background.grid.color']);prop['chart.strokecolor']=this.parseSingleColorForGradient(prop['chart.strokecolor']);prop['chart.axis.color']=this.parseSingleColorForGradient(prop['chart.axis.color']);}
    this.parseSingleColorForGradient=function(color)
    {if(!color||typeof(color)!='string'){return color;}
        if(color.match(/^gradient\((.*)\)$/i)){var parts=RegExp.$1.split(':');var grad=co.createLinearGradient(0,ca.height-prop['chart.gutter.bottom'],0,prop['chart.gutter.top']);var diff=1/(parts.length-1);grad.addColorStop(0,RG.trim(parts[0]));for(var j=1,len=parts.length;j<len;++j){grad.addColorStop(j*diff,RGraph.trim(parts[j]));}}
        return grad?grad:color;}
    this.DrawBevel=function()
    {var coords=this.coords;var coords2=this.coords2;var prop=this.properties;var co=this.context;var ca=this.canvas;if(prop['chart.grouping']=='stacked'){for(var i=0;i<coords2.length;++i){if(coords2[i]&&coords2[i][0]&&coords2[i][0][0]){var x=coords2[i][0][0];var y=coords2[i][0][1];var w=coords2[i][0][2];var arr=[];for(var j=0;j<coords2[i].length;++j){arr.push(coords2[i][j][3]);}
        var h=RGraph.array_sum(arr);co.save();co.strokeStyle='black';co.beginPath();co.rect(x,y,w,h);co.clip();co.shadowColor='black';co.shadowOffsetX=0;co.shadowOffsetY=0;co.shadowBlur=20;co.beginPath();co.rect(x-3,y-3,w+6,h+100);co.lineWidth=5;co.stroke();co.restore();}}}else{for(var i=0;i<coords.length;++i){if(coords[i]){var x=coords[i][0];var y=coords[i][1];var w=coords[i][2];var h=coords[i][3];var xaxispos=prop['chart.xaxispos'];var xaxis_ycoord=((ca.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop;co.save();co.strokeStyle='black';co.beginPath();co.rect(x,y,w,h);co.clip();co.shadowColor='black';co.shadowOffsetX=0;co.shadowOffsetY=0;co.shadowBlur=20;if(xaxispos=='top'||(xaxispos=='center'&&(y+h)>xaxis_ycoord)){y=y-100;h=h+100;}else{y=y;h=h+100;}
        co.beginPath();co.rect(x-3,y-3,w+6,h+6);co.lineWidth=5;co.stroke();co.restore();}}}}
    this.interactiveKeyHighlight=function(index)
    {this.coords2.forEach(function(value,idx,arr)
    {if(typeof value[index]=='object'&&value[index]){var x=value[index][0]
        var y=value[index][1]
        var w=value[index][2]
        var h=value[index][3]
        co.fillStyle=prop['chart.key.interactive.highlight.chart.fill'];co.strokeStyle=prop['chart.key.interactive.highlight.chart.stroke'];co.lineWidth=2;co.fillRect(x,y,w,h);co.strokeRect(x,y,w,h);}});}
    RGraph.Register(this);}
RGraph.CombinedChart=function()
{this.objects=[];var objects=arguments;if(RGraph.is_array(arguments[0])){objects=arguments[0];}
    for(var i=0;i<objects.length;++i){this.objects[i]=objects[i];this.objects[i].Set('chart.gutter.left',this.objects[0].Get('chart.gutter.left'));this.objects[i].Set('chart.gutter.right',this.objects[0].Get('chart.gutter.right'));this.objects[i].Set('chart.gutter.top',this.objects[0].Get('chart.gutter.top'));this.objects[i].Set('chart.gutter.bottom',this.objects[0].Get('chart.gutter.bottom'));if(this.objects[i].type=='line'){this.objects[i].Set('chart.hmargin',((this.objects[0].canvas.width-this.objects[0].Get('chart.gutter.right')-this.objects[0].Get('chart.gutter.left'))/this.objects[0].data.length)/2);this.objects[i].Set('chart.noaxes',true);this.objects[i].Set('chart.background.grid',false);this.objects[i].Set('chart.ylabels',false);}
        if(this.objects[i].Get('chart.resizable')){var resizable_object=this.objects[i];}}
    if(resizable_object){function myOnresizebeforedraw(obj)
    {var gutterLeft=obj.Get('chart.gutter.left');var gutterRight=obj.Get('chart.gutter.right');obj.Set('chart.hmargin',(obj.canvas.width-gutterLeft-gutterRight)/(obj.original_data[0].length*2));}
        RGraph.AddCustomEventListener(resizable_object,'onresizebeforedraw',myOnresizebeforedraw);}}
RGraph.CombinedChart.prototype.Add=function(obj)
{this.objects.push(obj);}
RGraph.CombinedChart.prototype.Draw=function()
{for(var i=0;i<this.objects.length;++i){if(typeof(arguments[i])=='function'){arguments[i](this.objects[i]);}else{this.objects[i].Draw();}}}